{"version":3,"sources":["constants/cargos.js","constants/listaRutas.js","views/Index.js","constants/config.js","services/requestHelper.js","services/apiUsuario.js","services/authToken.js","views/Login.js","components/layout/Sider/MenuUsuario.js","components/layout/Sider/index.js","components/layout/Header/Notificaciones.js","components/layout/Header/OpcionesUsuario.js","components/layout/index.js","components/layout/PrivateLayout.js","components/common/TituloContent.js","components/common/Contenedor.js","components/dashboard/ChartGponBucket.js","constants/tipoOrden.js","services/apiOrden.js","constants/valoresGpon.js","libraries/separarField.js","libraries/extraerDatosTecnico.js","components/dashboard/IndicadorGponAverias.js","components/dashboard/IndicadorGponAltas.js","components/dashboard/ChartGponGestor.js","components/dashboard/IndicadorGponGestor.js","components/dashboard/Prueba.js","components/dashboard/ChartDevolucionesGpon.js","components/dashboard/IndicadorGponDevoluciones.js","services/apiEmpleado.js","components/gestionEmpleados/personal/HeaderEmpleados.js","constants/colores.js","components/gestionEmpleados/personal/EmpleadoTag.js","components/gestionEmpleados/personal/ModalEmpleado.js","constants/metodos.js","components/gestionEmpleados/personal/ModalPermisos.js","components/gestionEmpleados/personal/ModalEstado.js","components/gestionEmpleados/personal/ModalConfiguracion.js","components/gestionEmpleados/personal/EmpleadoAcciones.js","services/apiContrata.js","components/gestionEmpleados/personal/ModalDetalle.js","components/gestionEmpleados/personal/TablaEmpleados.js","components/gestionEmpleados/contrata/ModalContrata.js","components/gestionEmpleados/contrata/ModalEliminar.js","components/gestionEmpleados/contrata/TablaContratas.js","routes/gestionPersonal.js","views/GestionPersonal/ListaPersonal.js","views/GestionPersonal/ListaContratas.js","libraries/obtenerFiltro.js","components/operativa/listaRutas/TablaTecnicos.js","services/apiAsistencia.js","libraries/ordenarAsistencias.js","constants/estadoAsistencia.js","components/operativa/listaRutas/EstadoTag.js","components/operativa/listaRutas/TablaAsistencias.js","views/Operativa/ListaRutas.js","routes/operativa/listaRutas.js","constants/valores.js","libraries/convertirExcel.js","libraries/numeroFecha.js","libraries/asignarValores/asignarAverias.js","libraries/asignarValores/index.js","components/operativa/administrarOrdenes/ActualizarOrdenes.js","libraries/capitalizar.js","components/operativa/administrarOrdenes/TagEstado.js","components/operativa/administrarOrdenes/columnasAverias.js","components/operativa/administrarOrdenes/TablaOrdenes.js","views/Operativa/Administrar/AdministrarAverias.js","routes/operativa/administrarOrdenes.js","views/Operativa/Administrar/AdministrarAltas.js","views/Operativa/Administrar/AdministrarBasicas.js","views/Operativa/Administrar/AdministrarSpeedy.js","routes/operativa/index.js","routes.js","views/Dashboard.js","components/layout/NotFound.js","components/layout/PrivateRoute.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["cargos","TODO","ADMINISTRADOR","JEFE_OPERACIONES","JEFE_LOGISTICA","LIDER_GESTION","ASISTENTE_LOGISTICA","JEFE_CONTRATA","GESTOR","ALMACENERO","AUDITOR","TECNICO","rutas","login","dashboard","listaPersonal","listaContratas","listaRutas","adminAveriasHfc","adminAltasHfc","adminBasicas","adminspeedy","gestionarAveriasHfc","gestionarAltasHfc","gestionarBasicas","gestionarspeedy","permisos","todos","grupoOperativa","administrarOrdenes","gestionarOrdenes","Index","href","variables","urlApi","public","TOKEN_STORAGE_KEY","logoPath","logoFull","version","formatosAdmitidos","restAuth","config","a","closeLoading","cogoToast","loading","hideAfter","position","role","newAxiosRequest","axios","create","baseURL","then","data","hide","success","message","errors","error","Error","catch","err","response","console","log","errData","undefined","Object","keys","warn","request","restPrivate","toast","headers","Authorization","Cookie","get","status","String","remove","document","location","url","method","session","logout","AuthToken","token","this","decodedToken","nombre","id","cargo","imagen","gestor","exp","jwtDecode","e","isExpired","Date","expiresAt","Login","history","useHistory","values","set","push","useEffect","isValid","type","justify","align","style","backgroundColor","height","xs","sm","md","lg","xl","className","name","initialValues","remember","onFinish","Item","hasFeedback","rules","required","autoComplete","prefix","UserOutlined","placeholder","min","Password","LockOutlined","htmlType","SubMenu","Menu","Divider","ItemGroup","getPath","window","pathname","substring","items","titulo","children","grupo","ruta","icon","DashboardOutlined","TeamOutlined","IdcardOutlined","CarryOutOutlined","key","FileSearchOutlined","ScheduleOutlined","MenuUsuario","theme","mode","defaultSelectedKeys","map","i","includes","title","c","to","sub","Sider","Layout","collapsed","width","breakpoint","trigger","collapsible","alt","src","notifications","Notificaciones","useState","visible","setVisible","placement","overlayClassName","onVisibleChange","v","content","minWidth","itemLayout","dataSource","locale","emptyText","renderItem","item","Meta","lines","description","RightOutlined","length","count","dot","offset","BellOutlined","OpcionesUsuario","usuario","setUsuario","auth","cerrarSesion","color","marginRight","marginLeft","Text","SettingOutlined","onClick","PoweroffOutlined","PrivateLayout","WrappedComponent","spinLoading","setCollapsed","styleFooter","margin","padding","transition","clear","left","bottom","right","spinning","tip","size","Header","classnames","MenuUnfoldOutlined","MenuFoldOutlined","Content","minHeight","marginTop","Footer","props","state","spin","setState","Component","TituloVista","routes","breadcrumbName","subtitulo","breadcrumb","Contenedor","borderRadius","span","WebkitBoxShadow","MozBoxShadow","boxShadow","ChartGponBucket","autoFit","showMarkers","fields","columnTitle","offsetY","fontSize","fontWeight","fill","eachView","view","facet","coordinate","transpose","columnIndex","axis","tickLine","line","columnValue","interval","adjust","label","value","interaction","tipoOrdenes","getOrdenes","metodo","tipo","params","getIndicadores","postOrdenes","ordenes","orden","gpon","separarBucket","buckets","estados","numMayor","newData","aux","forEach","o","bucket","estado","b","numOrdenes","filter","d","separarGestor","gestores","tecnico","g","separarMotivo","motivos","motivo_no_realizado","m","motivo","extraerDatosTecnico","requerimiento","fecha_cita","subtipo_actividad","carnet","apellidos","auditor","contrata","tipo_agenda","sla_inicio","sla_fin","Title","Typography","IndicadorGponAverias","React","memo","prueba","totalAverias","setTotalAverias","dataAverias","setDataAverias","loadingAverias","setLoadingAverias","bucketsAverias","setBucketsAverias","setHoraActualizado","saveAsCsv","useJsonToCsv","cargarAverias","gponAux","gponData","finally","moment","format","setTimeout","fieldsExcel","level","marginBottom","suffix","filename","totalAltas","setTotalAltas","dataAltas","setDataAltas","loadingAltas","setLoadingAltas","bucketsAltas","setBucketsAltas","cargarAltas","coloresGestores","ChartGponGestor","findIndex","getTypeColor","IndicadorGponGestor","totalOrdenes","setTotalOrdenes","dataOrdenes","setDataOrdenes","loadingOrdenes","setLoadingOrdenes","setGestores","cargarOrdenes","gestoresAux","ordenesAltas","ordenesAverias","totalAux","Prueba","ChartDevolucionesGpon","IndicadorGponDevoluciones","gData","getEmpleados","page","limit","idFiltro","buscarEmpleado","field","patchEmpleados","fecha_baja","estado_empresa","tecnicos","postEmpleados","putEmpleados","Search","Input","colores","CargoTag","EstadoTag","CheckCircleOutlined","ExclamationCircleOutlined","warning","CloseCircleOutlined","Option","Select","ModalEmpleado","accion","empleado","contratas","guardar","numero_documento","Number","now","empleadoObj","setEmpleadoObj","Form","useForm","form","_id","email","cancelText","okText","onOk","validateFields","resetFields","obj","info","onCancel","destroyOnClose","centered","layout","onValuesChange","onChange","allowClear","tipo_documento","empleados","asistencias","ModalPermisos","listarEmpleados","setCargo","defaultValue","ModalEstado","setEstado","fechaBaja","setFechaBaja","direction","_","ModalConfiguracion","modalPermisos","setModalPermisos","modalEstados","setModalEstados","actualizarEmpleado","block","CaretUpOutlined","danger","EmpleadoAcciones","visibleEmpleado","setVisibleEmpleado","visibleConf","setVisibleConf","EditTwoTone","twoToneColor","paddingRight","SettingTwoTone","getContratas","postContrata","putContrata","patchContrata","ModalDetalle","abrirModal","bordered","column","copyable","fecha_nacimiento","fecha_ingreso","nacionalidad","observacion","TablaEmpleados","pageNumber","setPageNumber","limitNumber","setLimitNumber","totalDocs","setTotalDocs","dataEmpleados","setDataEmpleados","modalCrear","setModalCrear","modalDetalle","setModalDetalle","setListaContratas","setLoading","docs","listarContratas","abrirModalCrear","abrirModalDetalle","columnas","render","__","dataIndex","ellipsis","showTitle","u","row","rowKey","onRow","record","onDoubleClick","listarEmpleado","setEmpleados","tipoBusqueda","setTipoBusqueda","Group","target","paddingTop","enterButton","onSearch","PlusOutlined","HeaderEmpleados","columns","scroll","x","y","pagination","current","total","defaultPageSize","pageSizeOptions","onShowSizeChange","ModalContrata","setNombre","ruc","setRuc","fecha_incorporacion","setFecha_incorporacion","setObservacion","limpiarEstados","utc","date","ModalEliminar","activo","setActivo","setFecha_baja","limpiarModal","f","TablaContratas","dataContratas","setDataContratas","modalEditar","setModalEditar","modalEliminar","setModalEliminar","setContrata","cargarContratas","abrirModalEditar","abrirModalEliminar","DeleteTwoTone","path","lisaRutas","exact","component","nivel","TituloContent","obtenerFiltroId","persona","Promise","resolve","reject","filtrosArray","isNull","text","obtenerFiltroNombre","TablaTecnicos","loadingGestores","auditores","loadingAuditores","dataTecnicos","setDataTecnicos","loadingTecnicos","setLoadingTecnicos","loadingAsignarGestor","setLoadingAsignarGestor","loadingAsignarAuditor","setLoadingAsignarAuditor","tecnicosSeleccionados","setTecnicosSeleccionados","gestorSeleccionado","setGestorSeleccionado","auditorSeleccionado","setAuditorSeleccionado","filtroContrata","setFiltroContrata","filtroGestor","setFiltroGestor","filtroAuditor","setFiltroAuditor","cargarEmpleados","asignarTecnico","filters","onFilter","r","indexOf","showSearch","filterOption","input","option","toLowerCase","LoadingOutlined","rowSelection","columnWidth","selectedRowKeys","getAsistencias","fecha_inicio","fecha_fin","ordenarAsistencia","nuevoArray","createdAt","objetoNuevo","iniciado","fecha_iniciado","estadoAsistencia","FALTA","ASISTIO","DESCANSO","PERMISO","SUSPENDIDO","DESCANSO_MEDICO","EXAMEN_MEDICO","columnasDefecto","TablaAsistencias","diaInicio","setDiaInicio","diaFin","setDiaFin","diasSemana","setDiasSemana","setColumnas","dataAsistencias","setDataAsistencias","loadingAsistencia","setLoadingAsistencia","filtroGestores","setFiltroGestores","filtroAuditores","setFiltroAuditores","activas","setRutas","resultado","rutasAtivas","hoy","firstColumn","columnsAux","generarColumnas","dia","weekStart","clone","startOf","weekEnd","endOf","days","add","picker","disabled","ReloadOutlined","TabPane","Tabs","array","listaGestores","setListaGestores","setLoadingGestores","listaAuditores","setListaAuditores","setLoadingAuditores","cargarGestores","cargarAuditores","paddingLeft","animated","tab","ClusterOutlined","CheckSquareOutlined","averias","TIPO","CODIGO_ZONAL","CODIGO_REQUERIMIENTO","CODIGO_CLIENTE","NOMBRE_CLIENTE","CODIGO_CTR","DESCRIPCION_CTR","CODIGO_NODO","CODIGO_TROBA","DISTRITO","destipvia","desnomvia","numvia","despis","desint","desmzn","deslot","destipurb","desurb","FECHA_REGISTRO","CODIGO_MOTIVO","DETALLE_MOTIVO","TIPO_REQUERIMIENTO","DETALLE_TRABAJO","TELEFONO_CONTACTO","TELEFONO_REFERENCIA","NUMERO_REITERADA","TIPO_TECNOLOGIA","excel","reader","FileReader","rABS","readAsBinaryString","onload","event","bstr","result","wb","XLSX","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","objeto","reduce","k","trim","readAsArrayBuffer","numeroFecha","numeroDeDias","fecha","setHours","getHours","codctrArray","pendientesAverias","promises","indice","verificado","isEmpty","TELEFONO","isNaN","codigo_zonal","codigo_requerimiento","codigo_cliente","nombre_cliente","codigo_ctr","descripcion_ctr","codigo_nodo","codigo_troba","distrito","direccion","fecha_registro","codigo_motivo","detalle_motivo","replace","tipo_requerimiento","detalle_trabajo","telefono_contacto","telefono_referencia","numero_reiterada","tipo_tecnologia","all","asignarValores","ActualizarOrdenes","tipoOrden","estadoOrden","setEstadoOrden","estadoArchivo","setEstadoArchivo","nombreArchivo","setNombreArchivo","ordenesObtenidas","setOrdenesObtenidas","loadingButton","setLoadingButton","spellCheck","accept","beforeUpload","file","convertirExcel","objJson","onRemove","fileList","uid","UploadOutlined","SaveOutlined","capitalizar","string","charAt","toUpperCase","slice","TagEstado","columnasAverias","filtroDistrito","filtroBucket","filtroEstadoToa","req","sorter","bckt","estado_toa","diff","TablaOrdenes","loadingCruzar","setLoadingCruzar","ordenesSeleccionadas","setOrdenesSeleccionadas","setFiltroDistrito","setFiltroBucket","setFiltroEstadoToa","listarOrdenes","CloudSyncOutlined","EditFilled","UserSwitchOutlined","CloudUploadOutlined","rutasOperativa","arregloRutas","cambiar","setCambiar","IndicadorGponAltas","gestionPersonal","operativa","NotFound","subTitle","extra","PrivateRoute","rest","App","es_ES","route","index","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","getElementById","URL","process","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c12fa2c0.chunk.js","sourcesContent":["const cargos = {\r\n  TODO: [1,2,3,4,5,6,7,8],\r\n  ADMINISTRADOR: 1,\r\n  JEFE_OPERACIONES: 2,\r\n  JEFE_LOGISTICA: 3,\r\n  LIDER_GESTION: 4,\r\n  ASISTENTE_LOGISTICA: 5,\r\n  JEFE_CONTRATA: 6,\r\n  GESTOR: 7,\r\n  ALMACENERO: 8,\r\n  AUDITOR: 9,\r\n  TECNICO: 10\r\n};\r\n\r\nexport default cargos;","import cargos from './cargos';\r\n\r\nexport const rutas = {\r\n  login: \"/login\",\r\n  dashboard: \"/dashboard\",\r\n  listaPersonal: \"/lista-personal\",\r\n  listaContratas: \"/lista-contratas\",\r\n  listaRutas: \"/lista-rutas\",\r\n  adminAveriasHfc: \"/administrar-ordenes/averias-hfc\",\r\n  adminAltasHfc: \"/administrar-ordenes/altas-hfc\",\r\n  adminBasicas: \"/administrar-ordenes/basicas\",\r\n  adminspeedy: \"/administrar-ordenes/speedy\",\r\n  gestionarAveriasHfc: \"/gestionar-ordenes/averias-hfc\",\r\n  gestionarAltasHfc: \"/gestionar-ordenes/altas-hfc\",\r\n  gestionarBasicas: \"/gestionar-ordenes/basicas\",\r\n  gestionarspeedy: \"/gestionar-ordenes/speedy\",\r\n};\r\n\r\nexport const permisos = {\r\n  todos: cargos.TODO,\r\n  listaContratas: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  grupoOperativa: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION,\r\n    cargos.JEFE_CONTRATA,\r\n    cargos.GESTOR\r\n  ],\r\n  administrarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  gestionarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION,\r\n    cargos.GESTOR\r\n  ]\r\n};","import React from 'react';\r\nimport { rutas } from '../constants/listaRutas'\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div>\r\n      <a href={rutas.login}>login</a>\r\n    </div>\r\n  )\r\n}","const variables = {\r\n  urlApi: 'http://192.168.100.90:5000/api',\r\n  public: 'http://192.168.100.90:5000/',\r\n  TOKEN_STORAGE_KEY: 'atenea.authToken',\r\n  logoPath: '/icon.png',\r\n  logoFull: '/iconL.png',\r\n  version: '0.0.2',\r\n  formatosAdmitidos: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n}\r\n\r\nexport default variables;","// eslint-disable-next-line no-unused-vars\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport Cookie from \"js-cookie\";\r\nimport cogoToast from 'cogo-toast';\r\n//objeto con variables del sistema (direccion url de la api)\r\nimport variables from '../constants/config';\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config - Objeto con las variables de configuracion de axios\r\n*/\r\nexport const restAuth = async (config) => {\r\n  //iniciar toast de loading\r\n  const closeLoading = cogoToast.loading('Iniciando sesin...', {\r\n    hideAfter: 0, position: 'top-right', role: \"success\"\r\n  });\r\n  //inicializar objeto para realiuzar la consulta (axios)\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi\r\n  });\r\n  //retorna la peticion, y se extrae la propiedad \"data\"\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    //una vez que se obtiene la respuesta se debe \r\n    //cerrar el toast de loading\r\n    closeLoading.hide();\r\n    //si se encuentra la data enviarla al fron\r\n    if (data && data.data) {\r\n      cogoToast.success(data.message, { position: 'top-right' })\r\n      return ({data: data.data, errors: false});\r\n    } else {\r\n    //error que salta al no poder obtener la data del data\r\n      cogoToast.error('No se puede obtener la data' ,{ position: 'top-right'})\r\n      throw Error(\"No se puede obtener la data\");\r\n    }\r\n  }).catch(err => {\r\n    //en caso de error cerrar el loading\r\n    closeLoading.hide();\r\n    //enviar un mensaje en escenario posible dependiendo del error\r\n    if (err.response) {\r\n      //mostrar el error por consola\r\n      console.log(err.response);\r\n      //guardar la informacion del error en un avariables\r\n      const errData = (err.response.data);\r\n      //mostrar como mensaje el primero error que muestre\r\n      const message = errData[Object.keys(errData)[0]] !== undefined ? \r\n        errData[Object.keys(errData)[0]] \r\n        : 'Error en la solicitud.';\r\n      //enviar un aviso con el mensaje de error\r\n      cogoToast.warn( message, { position: 'top-right' });\r\n      //retornar le data vacia\r\n      return {\r\n        data: false, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realiz la solicitud, pero no se recibi respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedi al configurar la solicitud que provoc un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config\r\n * @param {boolean} toast false si no se quiere mostrar el toast\r\n*/\r\nexport const restPrivate = async (config, toast) => {\r\n  let closeLoading;\r\n  if (toast) {\r\n    closeLoading = cogoToast.loading('Cargando...', {\r\n      hideAfter: 0, position: 'top-right', role: \"success\"\r\n    });\r\n  }\r\n\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi,\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookie.get(variables.TOKEN_STORAGE_KEY)\r\n    }\r\n  });\r\n\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    if (toast) {\r\n      closeLoading.hide();\r\n      cogoToast[data.status ? data.status : 'error'](data.message, { position: 'top-right' })\r\n    }\r\n    return (data);\r\n  }).catch(err => {\r\n    if (toast) closeLoading.hide();\r\n    if (err.response) {\r\n      const errData = err.response.data;\r\n      if (String(err.response.status) === \"401\") {\r\n        cogoToast.error('Token Invalido, cerrando sesin.',\r\n        { position: 'top-right'});\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        document.location.href=\"/login\";\r\n      } else {\r\n        cogoToast.warn( errData.message !== undefined ? errData.message : 'Error en la solicitud.',\r\n        { position: 'top-right'})\r\n      }\r\n      return {\r\n        data: null, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realiz la solicitud, pero no se recibi respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedi al configurar la solicitud que provoc un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};","import { restAuth, restPrivate } from './requestHelper';\r\n\r\nexport const login = async (data) => restAuth({\r\n  url: 'private/auth/login', method: 'POST', data\r\n});\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const session = async (toast) => restPrivate({\r\n  url: 'private/auth/session', method: 'GET'\r\n}, toast);\r\n/**\r\n * @param {boolean} toast \r\n */\r\nexport const logout = async (toast=true) => restPrivate({\r\n  url: 'private/auth/logout', method: 'GET'\r\n}, toast);\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport class AuthToken {\r\n  constructor(token) {\r\n    this.decodedToken = { \r\n      nombre: null,\r\n      id: null,\r\n      cargo: null,\r\n      imagen: null,\r\n      gestor: null, \r\n      exp: 0 \r\n    };\r\n    \r\n    try {\r\n      if (token) this.decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      console.log('Error');\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  get isValid() {\r\n    return !this.isExpired;\r\n  }\r\n\r\n  get expiresAt() {\r\n    return new Date(this.decodedToken.exp * 1000);\r\n  }\r\n\r\n  get isExpired() {\r\n    return new Date() > this.expiresAt;\r\n  }\r\n\r\n  get authorizationString() {\r\n    return `Bearer ${this.token}`;\r\n  }\r\n};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookie from \"js-cookie\";\r\nimport { Col, Row, Form, Input, Button } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nimport { login } from '../services/apiUsuario';\r\nimport variables from '../constants/config';\r\nimport { rutas } from '../constants/listaRutas';\r\nimport { AuthToken } from '../services/authToken';\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth.isValid) {\r\n      history.push(rutas.dashboard);\r\n    };\r\n  },[history]);\r\n\r\n  async function enviarFormulario(values) {\r\n    await login(values).then((data) => {\r\n      if (data.data && !data.errors) {\r\n        Cookie.set(variables.TOKEN_STORAGE_KEY, data.data);\r\n        history.push(rutas.dashboard);\r\n      }\r\n    }).catch((error) => {\r\n      console.log('error');\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\" style={{backgroundColor: 'rgb(242, 242, 247)', height: '100vh'}}>\r\n        <Col xs={20} sm={12} md={8} lg={6} xl={5}>\r\n          <div className=\"contenedor-padre\">\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{remember: true}}\r\n              onFinish={enviarFormulario}\r\n            >\r\n              <div className=\"logoForm\"/>\r\n              <Form.Item\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Se necesita una correo!'\r\n                  },\r\n                  {\r\n                    type: 'email',\r\n                    message: 'Ingresa un email vlido!'\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  autoComplete=\"current-email\"\r\n                  type=\"email\"\r\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                  placeholder=\"Correo\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Se necesita una contrasea vlida!',\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message: 'La contrasea debe tener mas de 6 carcteres!',\r\n                  }\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  autoComplete=\"current-password\"\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Contrasea\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                  Acceder\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DashboardOutlined,\r\n  ScheduleOutlined,\r\n  TeamOutlined,\r\n  IdcardOutlined,\r\n  CarryOutOutlined,\r\n  FileSearchOutlined,\r\n  // HistoryOutlined,\r\n  // GroupOutlined,\r\n  // ExportOutlined,\r\n  // ImportOutlined,\r\n  // CloudServerOutlined,\r\n  // GoldOutlined,\r\n  // SlidersOutlined,\r\n  // TableOutlined,\r\n  // SearchOutlined,\r\n  // FieldTimeOutlined,\r\n  // ShopOutlined,\r\n  // BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\n\r\nimport { rutas, permisos } from '../../../constants/listaRutas';\r\n\r\nconst { SubMenu, Item, Divider, ItemGroup } = Menu;\r\n\r\nconst getPath = () => {return String(window.location.pathname).substring(1)};\r\n\r\nconst items = [\r\n  {\r\n    permisos: [...permisos.todos, 9],\r\n    titulo: 'Panel de Control',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.dashboard,\r\n        icon: DashboardOutlined,\r\n        permisos: permisos.todos,\r\n        titulo: 'Dashboard',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.todos,\r\n    titulo: 'Usuarios y Contratas',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaPersonal,\r\n        icon: TeamOutlined,\r\n        permisos: permisos.todos,\r\n        titulo: 'Lista de Personal'\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaContratas,\r\n        icon: IdcardOutlined,\r\n        permisos: permisos.listaContratas,\r\n        titulo: 'Lista de Contratas'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.grupoOperativa,\r\n    titulo: 'Operativa',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaRutas,\r\n        icon: CarryOutOutlined,\r\n        permisos: permisos.administrarOrdenes,\r\n        titulo: 'Lista Rutas'\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub1',\r\n        icon: FileSearchOutlined,\r\n        titulo: 'Administrar ordenes',\r\n        permisos: permisos.administrarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.adminAveriasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminAltasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminBasicas,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.adminspeedy,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub2',\r\n        icon: ScheduleOutlined,\r\n        titulo: 'Gestionar ordenes',\r\n        permisos: permisos.gestionarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.gestionarAveriasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarAltasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarBasicas,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarspeedy,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n// eslint-disable-next-line\r\nfunction MenuUsuario({cargo}) {\r\n\r\n  if (!cargo) {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n        <ItemGroup title='Panel de Control'>\r\n          <Divider/>\r\n          <Item key=\"dashboard\">\r\n            <Link to={rutas.dashboard}>\r\n            <DashboardOutlined />\r\n            <span>Dashboard</span>\r\n            </Link>\r\n          </Item>\r\n        </ItemGroup>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n      {\r\n        items.map((e,i) =>(\r\n          e.permisos.includes(cargo) ?\r\n          (<ItemGroup title={e.titulo} key={i}>\r\n            <Divider/>\r\n            {e.children.map((c) => (\r\n                !c.grupo && c.permisos.includes(cargo) ?\r\n                (<Item key={String(c.ruta).substring(1)}>\r\n                  <Link to={c.ruta}>\r\n                    <c.icon/>\r\n                    <span>{c.titulo}</span>\r\n                  </Link>\r\n                </Item>)\r\n                :\r\n                c.grupo && c.permisos.includes(cargo) ?\r\n                (<SubMenu \r\n                  key={c.key}\r\n                  title={\r\n                    <span>\r\n                      <c.icon/>\r\n                      <span>{c.titulo}</span>\r\n                    </span>\r\n                  }\r\n                >\r\n                  {c.children.map((sub) => (\r\n                    <Item key={String(sub.ruta).substring(1)}>\r\n                      <Link to={sub.ruta}>\r\n                        <sub.icon/>\r\n                        <span>{sub.titulo}</span>\r\n                      </Link>\r\n                    </Item>\r\n                  ))}\r\n                </SubMenu>):null\r\n            ))}\r\n          </ItemGroup>):null  \r\n        ))\r\n      }\r\n      </Menu>\r\n    )\r\n  };\r\n  // return (\r\n  //   <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n  //     <ItemGroup title='Panel de Control'>\r\n  //       <Divider/>\r\n  //       <Item key=\"dashboard\">\r\n  //         <Link to={rutas.dashboard}>\r\n  //         <DashboardOutlined />\r\n  //         <span>Dashboard</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Usuarios y Personal'>\r\n  //       <Divider/>\r\n  //       <Item key=\"lista-personal\" style={{ display: !permisos.listaPersonal.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaPersonal}>\r\n  //           <TeamOutlined />\r\n  //           <span>Lista de Personal</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"lista-contratas\" style={{ display: !permisos.listaContratas.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaContratas}>\r\n  //           <IdcardOutlined />\r\n  //           <span>Lista de Contratas</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Operativa'>\r\n  //       <Divider/>\r\n  //       <SubMenu //ACTUALIZAR\r\n  //         key=\"sub3\"\r\n  //         title={\r\n  //           <span>\r\n  //             <CloudUploadOutlined />\r\n  //             <span>Actualizar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"actualizar-averiashfc\">\r\n  //           <Link to='/actualizar-averiashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //               Actualizar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-altashfc\">\r\n  //           <Link to='/actualizar-altashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-basicas\">\r\n  //           <Link to='/actualizar-basicas'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Bsicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-speedy\">\r\n  //          <Link to='/actualizar-speedy'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //ASIGNAR\r\n  //         key=\"sub4\"\r\n  //         title={\r\n  //           <span>\r\n  //             <FileSearchOutlined />\r\n  //             <span>Asignar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"asignar-averiashfc\">\r\n  //           <Link to='/asignar-averiashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-altashfc\">\r\n  //           <Link to='/asignar-altashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-basicas\">\r\n  //           <Link to='/asignar-basicas'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Bsicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-speedy\">\r\n  //           <Link to='/asignar-speedy'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //GESTION\r\n  //         key=\"sub5\"\r\n  //         title={\r\n  //           <span>\r\n  //             <ScheduleOutlined />\r\n  //             <span>Gestionar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"gestionar-averiashfc\">\r\n  //           <Link to='/gestionar-averiashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-altashfc\">\r\n  //           <Link to='/gestionar-altashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-basicas\">\r\n  //           <Link to='/gestionar-basicas'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Bsicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-speedy\">\r\n  //           <Link to='/gestionar-speedy'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <Item key=\"produccion\">\r\n  //         <Link to='/produccion'>\r\n  //           <BarChartOutlined />\r\n  //           <span>Produccin</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"registro-historico\">\r\n  //         <Link to='/registro-historico'>\r\n  //           <HistoryOutlined />\r\n  //           <span>Registro Historico</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n      // {/* <ItemGroup title='Logstica'>\r\n      //   <Divider/>\r\n      //   <Item key=\"gestion-articulos\">\r\n      //     <Link to='/gestion-articulos'>\r\n      //       <SlidersOutlined />\r\n      //       <span>Gestion de Articulos</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      //   <SubMenu\r\n      //     key=\"sub6\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GroupOutlined />\r\n      //         <span>Almacen Central</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-central\">\r\n      //       <Link to='/entrada-almacen-central'>\r\n      //         <ImportOutlined />\r\n      //         <span>Entrada Inventario</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-central\">\r\n      //       <Link to='/salida-almacen-central'>\r\n      //         <ExportOutlined />\r\n      //         <span>Salida Inventario</span>\r\n      //       </Link> \r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-central\">\r\n      //       <Link to='/equipos-detalle-central'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"ferreteria-detalle-central\">\r\n      //       <Link to='/ferreteria-detalle-central'>\r\n      //         <ShopOutlined />\r\n      //         <span>Ferreteria Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub7\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GoldOutlined />\r\n      //         <span>Almacen Primario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-primario\">\r\n      //       <Link to='/entrada-almacen-primario'>\r\n      //         <ImportOutlined />\r\n      //         Entrada Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-primario\">\r\n      //       <Link to='/salida-almacen-primario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-primario\">\r\n      //       <Link to='/equipos-detalle-primario'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub8\"\r\n      //     title={\r\n      //       <span>\r\n      //         <CloudServerOutlined />\r\n      //         <span>Almacen Secundario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"lista-almacen-secundario\">\r\n      //       <Link to='/lista-almacen-secundario'>\r\n      //         <TableOutlined />\r\n      //         Lista\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-secundario\">\r\n      //       <Link to='/salida-almacen-secundario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <Item key=\"buscar-serie\">\r\n      //     <Link to='/buscar-serie'>\r\n      //       <SearchOutlined />\r\n      //       <span>Buscar Serie</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      // </ItemGroup> */}\r\n    // </Menu>\r\n  // )\r\n};\r\n\r\nMenuUsuario.propTypes = {\r\n  cargo: PropTypes.number\r\n}\r\n\r\nexport default MenuUsuario;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Layout } from 'antd';\r\n\r\nimport MenuUsuario from './MenuUsuario';\r\nimport config from '../../../constants/config';\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Index = ({collapsed, cargo}) => {\r\n  return (\r\n    <Sider \r\n      width={256}\r\n      theme=\"light\" \r\n      breakpoint=\"lg\"\r\n      trigger={null} \r\n      collapsible \r\n      collapsed={collapsed} \r\n      className=\"sider\"\r\n    >\r\n      <div className=\"brand\">\r\n      {!collapsed ? \r\n        <div className=\"full-logo\">\r\n          <img alt=\"full-logo\" src={config.logoFull} />\r\n        </div> \r\n        : \r\n        <div className=\"logo\">\r\n          <img alt=\"logo\" src={config.logoPath} />\r\n        </div>\r\n            \r\n      }\r\n      </div>\r\n      <div className=\"menu-container\">\r\n        <MenuUsuario cargo={cargo}/>\r\n      </div>\r\n    </Sider>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  collapsed: PropTypes.bool\r\n};\r\n\r\nexport default Index;\r\n","import React, { useState } from 'react';\r\nimport { Popover, Badge, List } from 'antd';\r\nimport { BellOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\n// import StateIcon from '../../common/StateIcon'\r\n\r\nconst notifications = [{title:'Hola', icon: 'success'},{title:'Hola', icon: 'error'}, {title:'Hola', icon: 'warning'}];\r\n\r\nconst Notificaciones = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <Popover\r\n      trigger=\"click\"\r\n      placement=\"bottomRight\"\r\n      overlayClassName=\"notification-popover\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n      content={\r\n        <div className=\"caja-notificaciones\" style={{ minWidth: '20rem' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={notifications}\r\n            locale={{\r\n              emptyText: <span>You have viewed all notifications.</span>,\r\n            }}\r\n            renderItem={item => (\r\n              <List.Item className=\"item-notificaciones\">\r\n                {/* <StateIcon \r\n                  estado={item.icon} \r\n                  style={{fontSize: '2rem', paddingRight: '.8rem'}}\r\n                /> */}\r\n                <List.Item.Meta\r\n                  className=\"datos-notificaciones\"                \r\n                  title={\r\n                    <span lines={1}>\r\n                      Orden Actualizada\r\n                    </span>\r\n                  }\r\n                  description=\"hola k tal como te va\"\r\n                />\r\n                <RightOutlined className=\"flecha-notificaciones\"/>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {notifications.length ? (\r\n            <div\r\n              // onClick={onAllNotificationsRead}\r\n              className=\"clear-button\"\r\n            >\r\n              <span>Limpiar Notificaciones</span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      }\r\n    >\r\n       <Badge\r\n        count={0}//numero de notificaciones\r\n        dot\r\n        offset={[-10, 10]}\r\n        className=\"icon-button\"\r\n      >\r\n        <BellOutlined className=\"icon-font\"/>\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n};\r\n\r\nexport default Notificaciones;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Avatar, Typography } from 'antd';\r\nimport { PoweroffOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from '../../../constants/config';\r\nimport { AuthToken } from '../../../services/authToken';\r\nimport { logout } from '../../../services/apiUsuario';\r\n\r\nexport default function OpcionesUsuario() { \r\n  const [usuario, setUsuario] = useState(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth) {\r\n      setUsuario(auth.decodedToken);\r\n    }\r\n  },[]);\r\n\r\n  const cerrarSesion = async () => {\r\n    await logout().then(async(response) => {//cerr sesion correctamente\r\n      if (response.status !== 'error') {\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        history.push('/login');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      console.log('Error cerrando sesin.')\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Menu key=\"user\" mode=\"horizontal\" >\r\n      <Menu.SubMenu\r\n        title={\r\n          <Fragment>\r\n            <span style={{ color: '#999', marginRight: 4 }}>\r\n              <span>Hola,</span>\r\n            </span>\r\n            <span>{usuario&&usuario.nombre}</span>\r\n            <Avatar style={{ marginLeft: 8 }} src={usuario&&usuario.imagen} />\r\n          </Fragment>\r\n        }\r\n      >\r\n        <Menu.Item key=\"Configuraciones\">\r\n          <Typography.Text type=\"sucess\">\r\n            <Link to='/atenea-system/perfil-usuario'>\r\n              <SettingOutlined />\r\n              Configuraciones\r\n            </Link>\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"SignOut\" onClick={cerrarSesion}>\r\n          <Typography.Text type=\"danger\">\r\n            <PoweroffOutlined/>\r\n            {/* <Trans>Sign out</Trans> */}Desconectar\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Layout, Spin } from 'antd';\r\nimport Sider from './Sider/index';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport config from '../../constants/config';\r\nimport Notificaciones from './Header/Notificaciones';\r\nimport OpcionesUsuario from './Header/OpcionesUsuario';\r\nimport PrivateLayout from './PrivateLayout';\r\n\r\nvar anchoContenedor = '256px';\r\n\r\nfunction Index({children, spinLoading, cargo}) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  if (collapsed) {\r\n    anchoContenedor = '80px'\r\n  } else {\r\n    anchoContenedor = '256px'\r\n  }\r\n\r\n  const styleContent = {\r\n    minHeight: 'calc(100vh - 94px - 3rem)',\r\n    marginTop: '.5rem',\r\n    // margin: `1rem`,\r\n    transition: 'margin .2s'\r\n  }\r\n  \r\n  const styleFooter = {\r\n    backgroundColor: 'white',\r\n    width: `100%`,\r\n    margin: `0px`,\r\n    padding: '16px 16px 24px 10px',\r\n    transition: 'margin .2s',\r\n    clear: 'both',\r\n    left: anchoContenedor,\r\n    bottom: 0,\r\n    right: 0\r\n  }\r\n\r\n  return (\r\n    <Spin \r\n      spinning={spinLoading} \r\n      tip=\"Cargando Interfaz...\" \r\n      size=\"large\"\r\n      className=\"spin-container\"\r\n    >\r\n      <Layout>\r\n        <Sider collapsed={collapsed} cargo={cargo}/>\r\n        <Layout className=\"site-layout\">\r\n          <Layout.Header \r\n            className={classnames(\"header\", {\r\n              \"collapsed\": collapsed,\r\n            })}\r\n            id=\"layoutHeader\"\r\n          >\r\n          <div className=\"button\" onClick={() => setCollapsed(!collapsed)}>\r\n            {\r\n              collapsed ?\r\n              <MenuUnfoldOutlined className=\"text-primary\"/> : \r\n              <MenuFoldOutlined/>\r\n            }\r\n            </div>\r\n            <div className=\"right-container\">\r\n              <Notificaciones/>\r\n              <OpcionesUsuario/>\r\n            </div>\r\n          </Layout.Header>\r\n          <Layout.Content\r\n            className=\"site-layout-background\"\r\n            style={styleContent}\r\n          >\r\n            {children}\r\n          </Layout.Content>\r\n          <Layout.Footer style={styleFooter}>\r\n            Atenea System v{config.version} - 2020&copy;\r\n          </Layout.Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default PrivateLayout(Index)","import React, { Component } from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { rutas } from '../../constants/listaRutas';\r\nimport { session } from \"../../services/apiUsuario\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\n\r\nexport default function PrivateLayout(WrappedComponent) {\r\n  return class extends Component {  \r\n\r\n    constructor(props)   {\r\n      super(props)\r\n      this.state = {\r\n        spin: true,\r\n        cargo: null,\r\n      }\r\n    }\r\n    async componentDidMount() {\r\n      const token = Cookie.get(variables.TOKEN_STORAGE_KEY);\r\n      if (!token) {\r\n        document.location.href = (rutas.login);\r\n      } else {\r\n        const usuario = new AuthToken(token);\r\n        await session(true).then((data) => {\r\n          if(data.status === 'error') {\r\n            Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n            document.location.href = (rutas.login);\r\n          } else {\r\n            this.setState({spin: false, cargo: usuario.decodedToken.cargo })\r\n          }\r\n        }).catch((error) => {\r\n          this.setState({spin: false})\r\n          console.log(error);\r\n          console.log('error de sesion en (PrivateRoutes)');\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} spinLoading={this.state.spin} cargo={this.state.cargo}/>;\r\n    }\r\n  };\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from 'antd';\r\n\r\nconst TituloVista = ({titulo, subtitulo}) => {\r\n  const routes = [\r\n    {\r\n      breadcrumbName: subtitulo,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader\r\n      className=\"site-page-header\"\r\n      title={titulo}\r\n      breadcrumb={{routes}}\r\n    />\r\n  )\r\n};\r\n\r\nTituloVista.propTypes = {\r\n  titulo: PropTypes.string,\r\n  subtitulo: PropTypes.string\r\n}\r\n\r\nexport default TituloVista\r\n","import React from 'react'\r\nimport { Col, Row } from 'antd';\r\n\r\nexport default function Contenedor({children}) {\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '0 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n  return (\r\n    <Row style={style_row}>\r\n      <Col span={24} style={style_col}>\r\n      {children}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Chart,\r\n  Axis,\r\n  Tooltip,\r\n  Legend,\r\n  Facet\r\n} from \"bizcharts\";\r\n\r\nconst getTypeColor = type => {\r\n  if (type === 'BK_MA_SM_MAGDALENA_02') { return '#1890ff'; }\r\n  if (type === 'BK_MR_SM_PN_SJ_MARANGA') { return '#2fc25b'; }\r\n  if (type === 'BK_SV_MA_MAGDALENA_01') { return '#facc14'; }\r\n  if (type === 'BK_SJ_SAN_JOSE') { return '#14E9FA'; }\r\n};\r\n\r\nexport default function ChartGponBucket({data, loading}) {\r\n  if (loading) {\r\n    return <div>cargando...</div>\r\n  } else {\r\n    return (\r\n      <Chart height={250} data={data} autoFit padding={[20, 40, 20, 100]}>\r\n        <Legend visible={false}/>\r\n        <Tooltip showMarkers={true}/>\r\n        <Axis name=\"ordenes\" />\r\n        <Facet\r\n          fields={['bucket']}\r\n          type=\"rect\"\r\n          columnTitle={{\r\n            offsetY: -15,\r\n            style: {\r\n              fontSize: 14,\r\n              fontWeight: 300,\r\n              fill: '#8d8d8d'\r\n            }\r\n          }}\r\n          eachView={(view, facet) => {\r\n            view.coordinate().transpose();\r\n\r\n            if (facet.columnIndex === 0) {\r\n              view.axis('estado', {\r\n                tickLine: null,\r\n                line: null,\r\n              });\r\n              view.axis('ordenes', false);\r\n            } else {\r\n              view.axis(false);\r\n            }\r\n            const color = getTypeColor(facet.columnValue);\r\n            view\r\n              .interval()\r\n              .adjust('stack')\r\n              .position('estado*ordenes')\r\n              .color('type', [color, '#ebedf0'])\r\n              .size(20)\r\n              .label('ordenes*type', (value, type) => {\r\n                if (type === 2) {\r\n                  return null;\r\n                }\r\n                const offset = (value < 20) ? 10 : -4;\r\n                return {\r\n                  offset,\r\n                };\r\n              });\r\n            view.interaction('element-active');\r\n          }}\r\n        />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartGponBucket.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","export const tipoOrdenes = {\r\n  AVERIAS: 'averiashfc',\r\n  ALTAS: 'altashfc',\r\n  SPEEDY: 'speedy',\r\n  BASICAS: 'basicas'\r\n}","import { restPrivate } from './requestHelper';\r\n\r\nexport const getOrdenes = async (toast, {metodo, tipo}) => restPrivate({\r\n  url: 'ordenes', method: 'GET', params: {metodo, tipo}\r\n}, toast);\r\n\r\nexport const getIndicadores = async (toast, {tipo}) => restPrivate({\r\n  url: 'ordenes/actividades', method: 'GET', params: {tipo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} body\r\n * @param {string} body.metodo\r\n * @param {array} body.ordenes\r\n * @param {object} body.orden\r\n */\r\nexport const postOrdenes = async ({metodo, ordenes, orden}) => restPrivate({\r\n  url: 'ordenes', method: 'POST', data: { ordenes, metodo, orden}\r\n},true);","export const gpon = [\r\n  \"Reparacin GPON\",\r\n  \"Reparacin Gpon Movistar Uno\",\r\n  \"Reparacion Movistar Total Gpon\",\r\n  \"Instalacin Rutina VA Gpon\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina VA GPON MT\",\r\n  \"Traslado GPON\",\r\n  \"Instalacin rutina MT Gpon\",\r\n  \"Instalacin rutina Bucle Gpon\",\r\n  \"Traslado GPON Movistar Total\",\r\n  \"Instalacin Movistar uno Gpon\",\r\n  \"Instalacin Gpon Movistar Tot\",\r\n  \"Instalacin Migracin Gpon\",\r\n  \"Instalacin Migracin Gpon MT\",\r\n  \"Instalacin Migracin Gpon MT\",\r\n  \"Instalacin Gpon New\",\r\n  \"Instalacin Movistar uno Gpon\",\r\n  \"Instalacin Gpon Movistar Tot\",\r\n  \"Instalacin Migracin HFC a Gpon\",\r\n  \"Instalacin Migracin HFC a Gpon CC\",\r\n  \"Instalacin Migracin HFC a Gpon CC\",\r\n  \"Instalacin Migracin HFC a Gpon\",\r\n];","export function separarBucket(data=[]) {\r\n  let buckets = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let numMayor = 0;\r\n    let newData = [];\r\n    let aux = [];\r\n    data.forEach((o) => !buckets.includes(o.bucket) ? buckets.push(o.bucket): null);\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    buckets.forEach((b) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => d.bucket === b && d.estado === e).length;\r\n        if (numMayor < numOrdenes) numMayor = numOrdenes;\r\n        newData.push({\r\n          bucket: b,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n          type: 1\r\n        });\r\n      })\r\n    });\r\n    newData.forEach((d) => {\r\n      let a = {\r\n        bucket: d.bucket,\r\n        estado: d.estado,\r\n        ordenes: numMayor - d.ordenes,\r\n        type: 2\r\n      };\r\n      aux.push(d);\r\n      aux.push(a);\r\n    })\r\n    return {ordenes: aux, buckets};\r\n  } else {\r\n    return {ordenes: [], buckets} ;\r\n  };\r\n};\r\n\r\nexport function separarGestor(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let numMayor = 0;\r\n    let newData = [];\r\n    let aux = [];\r\n    data.forEach((o) => {\r\n      if (o.tecnico !== '-' && o.tecnico.gestor && o.tecnico.gestor.nombre) {\r\n        if (!gestores.includes(o.tecnico.gestor.nombre)) gestores.push(o.tecnico.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    gestores.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.tecnico === '-') {\r\n            return d.tecnico === g && d.estado === e\r\n          } else if (d.tecnico && d.tecnico.gestor && d.tecnico.gestor.nombre){\r\n            return d.tecnico.gestor.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        if (numMayor < numOrdenes) numMayor = numOrdenes;\r\n        newData.push({\r\n          gestor: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n          type: 1\r\n        });\r\n      })\r\n    });\r\n    newData.forEach((d) => {\r\n      let a = {\r\n        gestor: d.gestor,\r\n        estado: d.estado,\r\n        ordenes: numMayor - d.ordenes,\r\n        type: 2\r\n      };\r\n      aux.push(d);\r\n      aux.push(a);\r\n    });\r\n    return {ordenes: aux, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function separarMotivo(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let motivos = [];\r\n    let numMayor = 0;\r\n    let newData = [];\r\n    let aux = [];\r\n    data.forEach((o) => {\r\n      if (o.tecnico !== '-' && o.tecnico.gestor && o.tecnico.gestor.nombre) {\r\n        if (!gestores.includes(o.tecnico.gestor.nombre)) gestores.push(o.tecnico.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !motivos.includes(o.motivo_no_realizado) ? motivos.push(o.motivo_no_realizado) : null);\r\n    gestores.forEach((g) => {\r\n      motivos.forEach((m) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.tecnico === '-') {\r\n            return d.tecnico === g && d.motivo_no_realizado === m\r\n          } else if (d.tecnico && d.tecnico.gestor && d.tecnico.gestor.nombre){\r\n            return d.tecnico.gestor.nombre === g && d.motivo_no_realizado === m\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        if (numMayor < numOrdenes) numMayor = numOrdenes;\r\n        newData.push({\r\n          gestor: g,\r\n          motivo: m,\r\n          ordenes: numOrdenes,\r\n          type: 1\r\n        });\r\n      })\r\n    });\r\n    newData.forEach((d) => {\r\n      let a = {\r\n        gestor: d.gestor,\r\n        motivo: d.motivo,\r\n        ordenes: numMayor - d.ordenes,\r\n        type: 2\r\n      };\r\n      aux.push(d);\r\n      aux.push(a);\r\n    });\r\n    return {ordenes: aux, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};","export default function extraerDatosTecnico(data=[]) {\r\n  if (data.length > 0) {\r\n    return data.map((d) => {\r\n      return ({\r\n        bucket: d.bucket,\r\n        requerimiento: d.requerimiento,\r\n        estado: d.estado,\r\n        fecha_cita: d.fecha_cita,\r\n        motivo_no_realizado: d.motivo_no_realizado,\r\n        subtipo_actividad: d.subtipo_actividad,\r\n        carnet: d.tecnico === '-' ? '-':d.tecnico.carnet,\r\n        tecnico: d.tecnico !== '-' ? d.tecnico.nombre + ' ' + d.tecnico.apellidos : '-',\r\n        gestor: d.tecnico === '-' ? '-' : d.tecnico.gestor ? d.tecnico.gestor.nombre + ' ' + d.tecnico.gestor.apellidos: '-',\r\n        auditor: d.tecnico === '-' ? '-' : d.tecnico.auditor ? d.tecnico.auditor.nombre + ' ' + d.tecnico.auditor.apellidos: '-',\r\n        contrata: d.tecnico === '-' ? '-' : d.tecnico.contrata ? d.tecnico.contrata.nombre: '-',\r\n        tipo_agenda: d.tipo_agenda,\r\n        sla_inicio: d.sla_inicio,\r\n        sla_fin: d.sla_fin,\r\n      })\r\n    })\r\n  } else {\r\n    return ({\r\n      bucket: '',\r\n      requerimiento: '',\r\n      estado: '',\r\n      fecha_cita: '',\r\n      motivo_no_realizado: '',\r\n      subtipo_actividad: '',\r\n      carnet: '',\r\n      tecnico:'',\r\n      gestor:'',\r\n      auditor:'',\r\n      contrata:'',\r\n      tipo_agenda:'',\r\n      sla_inicio:'',\r\n      sla_fin:'',\r\n    })\r\n  }\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\n\r\nimport ChartGponBucket from './ChartGponBucket';\r\nimport { tipoOrdenes } from \"../../constants/tipoOrden\";\r\nimport { getIndicadores } from \"../../services/apiOrden\";\r\nimport { gpon } from \"../../constants/valoresGpon\";\r\nimport { separarBucket } from \"../../libraries/separarField\";\r\nimport extraerDatosTecnico from \"../../libraries/extraerDatosTecnico\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst IndicadorGponAverias = React.memo(({prueba}) => {\r\n  const [totalAverias, setTotalAverias] = useState([]);\r\n  const [dataAverias, setDataAverias] = useState([]);\r\n  const [loadingAverias, setLoadingAverias] = useState(false);\r\n  const [bucketsAverias, setBucketsAverias] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    setLoadingAverias(true);\r\n    setTimeout(() => {\r\n      setLoadingAverias(false);\r\n      console.log(prueba);\r\n    }, 1000);\r\n    \r\n  }, [prueba])\r\n\r\n  useEffect(() => {\r\n    cargarAverias();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function cargarAverias() {\r\n    setLoadingAverias(true);\r\n    await getIndicadores(true, { tipo: tipoOrdenes.AVERIAS})\r\n    .then(({data}) => {\r\n      let gponAux = data.filter((d) => gpon.includes(d.subtipo_actividad));\r\n      setTotalAverias(extraerDatosTecnico(gponAux));\r\n      return gponAux\r\n    }).then((gponData) => separarBucket(gponData))\r\n      .then(({ordenes, buckets}) => {\r\n        setBucketsAverias(buckets)\r\n        setDataAverias(ordenes)\r\n    }).catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setHoraActualizado(moment(new Date()).format('HH:mm'))\r\n        setLoadingAverias(false)\r\n      });\r\n  };\r\n\r\n  const fieldsExcel = {\r\n    bucket: \"Bucket\", \r\n    requerimiento: \"Requerimiento\",\r\n    estado: \"Estado\",\r\n    fecha_cita: \"Fecha Cita\",\r\n    motivo_no_realizado: \"Motivo No Realizado\",\r\n    subtipo_actividad: \"Subtipo Actividad\",\r\n    carnet: \"Carnet\",\r\n    tecnico: \"Tecnico\",\r\n    gestor: \"Gestor\",\r\n    auditor: \"auditor\",\r\n    contrata: \"Contrata\",\r\n    tipo_agenda: \"Time Slot\",\r\n    sla_inicio: \"SLA_INICIO\",\r\n    sla_fin: \"SLA_FIN\"\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Title level={2} style={{ marginTop: '1rem' }}>Indicador Averias Gpon</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={16}>\r\n          <ChartGponBucket data={dataAverias} loading={loadingAverias}/>\r\n        </Col>\r\n        <Col sm={8}>\r\n          <Row>\r\n          {\r\n            bucketsAverias && bucketsAverias.length > 0 ?\r\n            bucketsAverias.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalAverias.length > 0 ? totalAverias.filter((e) => e.bucket === b).length : 0} \r\n                  suffix={`/ ${totalAverias.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={cargarAverias} style={{ marginRight: '.5rem' }}>Click</Button>\r\n            <Button onClick={() => \r\n                saveAsCsv({ \r\n                  data:totalAverias, \r\n                  fields: fieldsExcel, \r\n                  filename: `data_altas_gpon_${moment().format('DD_MM_YY_HH_mm')}`\r\n                })\r\n            }>\r\n              Exportar\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default IndicadorGponAverias;","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\n\r\nimport ChartGponBucket from './ChartGponBucket';\r\nimport { tipoOrdenes } from \"../../constants/tipoOrden\";\r\nimport { getIndicadores } from \"../../services/apiOrden\";\r\nimport { gpon } from \"../../constants/valoresGpon\";\r\nimport { separarBucket } from \"../../libraries/separarField\";\r\nimport extraerDatosTecnico from \"../../libraries/extraerDatosTecnico\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst IndicadorGponAverias = React.memo(({prueba}) => {\r\n  const [totalAltas, setTotalAltas] = useState([]);\r\n  const [dataAltas, setDataAltas] = useState([]);\r\n  const [loadingAltas, setLoadingAltas] = useState(false);\r\n  const [bucketsAltas, setBucketsAltas] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    setLoadingAltas(true);\r\n    setTimeout(() => {\r\n      setLoadingAltas(false);\r\n      console.log(prueba);\r\n    }, 1000);\r\n    \r\n  }, [prueba])\r\n\r\n  useEffect(() => {\r\n    cargarAltas();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function cargarAltas() {\r\n    setLoadingAltas(true);\r\n    await getIndicadores(true, { tipo: tipoOrdenes.ALTAS})\r\n      .then(({data}) => {\r\n        let gponAux = data.filter((d) => gpon.includes(d.subtipo_actividad));\r\n        setTotalAltas(extraerDatosTecnico(gponAux));\r\n        return gponAux;\r\n      }).then((gponData) => separarBucket(gponData))\r\n      .then(({ordenes, buckets}) => {\r\n        setBucketsAltas(buckets)\r\n        setDataAltas(ordenes)\r\n    }).catch((err) => console.log(err))\r\n    .finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm'))\r\n      setLoadingAltas(false)\r\n    });\r\n  };\r\n\r\n  const fieldsExcel = {\r\n    bucket: \"Bucket\", \r\n    requerimiento: \"Requerimiento\",\r\n    estado: \"Estado\",\r\n    fecha_cita: \"Fecha Cita\",\r\n    motivo_no_realizado: \"Motivo No Realizado\",\r\n    subtipo_actividad: \"Subtipo Actividad\",\r\n    carnet: \"Carnet\",\r\n    tecnico: \"Tecnico\",\r\n    gestor: \"Gestor\",\r\n    auditor: \"auditor\",\r\n    contrata: \"Contrata\",\r\n    tipo_agenda: \"Time Slot\",\r\n    sla_inicio: \"SLA_INICIO\",\r\n    sla_fin: \"SLA_FIN\"\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>Indicador Altas Gpon</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={16}>\r\n          <ChartGponBucket data={dataAltas} loading={loadingAltas}/>\r\n        </Col>\r\n        <Col sm={8}>\r\n          <Row>\r\n          {\r\n            bucketsAltas && bucketsAltas.length > 0 ?\r\n            bucketsAltas.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalAltas.length > 0 ? totalAltas.filter((e) => e.bucket === b).length : 0} \r\n                  suffix={`/ ${totalAltas.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={cargarAltas} style={{ marginRight: '.5rem' }}>Click</Button>\r\n            <Button onClick={() => \r\n                saveAsCsv({ \r\n                  data:totalAltas, \r\n                  fields: fieldsExcel, \r\n                  filename: `data_altas_gpon_${moment().format('DD_MM_YY_HH_mm')}`\r\n                })\r\n            }>\r\n              Exportar\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default IndicadorGponAverias","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Chart,\r\n  Axis,\r\n  Tooltip,\r\n  Legend,\r\n  Facet\r\n} from \"bizcharts\";\r\n\r\nconst coloresGestores = ['#1890ff','#2fc25b','#facc14','#14E9FA','#FF8818','#4618FF','#6DF719','#C018FF','#18B7FF','#F4A460','#6495ED','#00CED1','#1890ff','#2fc25b','#facc14','#14E9FA','#FF8818','#4618FF','#6DF719','#C018FF','#18B6FF','#F4A460','#6495ED','#00CED1'];\r\n\r\nconst getTypeColor = (type, gestores=[]) => {\r\n  if (!type && gestores.length === 0) {\r\n    return '#fff';\r\n  } else {\r\n    const i = gestores.findIndex((e) => e === type);\r\n    if (i > -1) {\r\n      return coloresGestores[i];\r\n    } else {\r\n      return '#fff';\r\n    };\r\n  };\r\n};\r\n\r\nexport default function ChartGponGestor({data, loading, gestores}) {\r\n  if (loading) {\r\n    return <div>cargando...</div>\r\n  } else {\r\n    return (\r\n      <Chart height={250} data={data} autoFit padding={[20, 5, 10, 75]}>\r\n        <Legend visible={false}/>\r\n        <Tooltip showMarkers={true}/>\r\n        <Axis name=\"ordenes\" />\r\n        <Facet\r\n          fields={['gestor']}\r\n          type=\"rect\"\r\n          columnTitle={{\r\n            offsetY: -15,\r\n            style: {\r\n              fontSize: 11,\r\n              fontWeight: 300,\r\n              fill: '#8d8d8d'\r\n            }\r\n          }}\r\n          eachView={(view, facet) => {\r\n            view.coordinate().transpose();\r\n\r\n            if (facet.columnIndex === 0) {\r\n              view.axis('estado', {\r\n                tickLine: null,\r\n                line: null,\r\n              });\r\n              view.axis('ordenes', false);\r\n            } else {\r\n              view.axis(false);\r\n            }\r\n            const color = getTypeColor(facet.columnValue, gestores);\r\n            view\r\n              .interval()\r\n              .adjust('stack')\r\n              .position('estado*ordenes')\r\n              .color('type', [color, '#ebedf0'])\r\n              .size(20)\r\n              .label('ordenes*type', (value, type) => {\r\n                if (type === 2) {\r\n                  return null;\r\n                }\r\n                const offset = (value < 10) ? 10 : -4;\r\n                return {\r\n                  offset,\r\n                };\r\n              });\r\n            view.interaction('element-active');\r\n          }}\r\n        />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartGponGestor.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  gestores: PropTypes.array\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartGponGestor from './ChartGponGestor';\r\nimport { tipoOrdenes } from \"../../constants/tipoOrden\";\r\nimport { getIndicadores } from \"../../services/apiOrden\";\r\nimport { gpon } from \"../../constants/valoresGpon\";\r\nimport { separarGestor } from \"../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst IndicadorGponGestor = React.memo(({prueba}) => {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoadingOrdenes(true);\r\n    setTimeout(() => {\r\n      setLoadingOrdenes(false);\r\n      console.log(prueba);\r\n    }, 1000);\r\n    \r\n  }, [prueba])\r\n\r\n  useEffect(() => {\r\n    cargarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    let gestoresAux = [];\r\n    const ordenesAltas = await getIndicadores(false, { tipo: tipoOrdenes.ALTAS}).then(({data}) => {\r\n                            let gponAux = data.filter((d) => gpon.includes(d.subtipo_actividad));\r\n                            return gponAux;\r\n                          }).catch((err) => console.log(err));\r\n    const ordenesAverias = await getIndicadores(false, { tipo: tipoOrdenes.AVERIAS}).then(({data}) => {\r\n                              let gponAux = data.filter((d) => gpon.includes(d.subtipo_actividad));\r\n                              return gponAux;\r\n                            }).catch((err) => console.log(err));\r\n    try {\r\n      const totalAux = separarGestor([...ordenesAltas,...ordenesAverias])\r\n      totalAux.gestores.forEach((g) => {if(!gestoresAux.includes(g)) gestoresAux.push(g)});\r\n      setDataOrdenes(totalAux.ordenes);\r\n      setTotalOrdenes([...ordenesAltas, ...ordenesAverias]);\r\n      setGestores(gestoresAux);\r\n      setHoraActualizado(moment(new Date()).format('HH:mm'))\r\n      setLoadingOrdenes(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>Indicador Gestores Gpon</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={24}>\r\n          <ChartGponGestor data={dataOrdenes} loading={loadingOrdenes} gestores={gestores}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n          <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => {\r\n                    if (e.tecnico === '-') {\r\n                      return e.tecnico === b\r\n                    } else if (e.tecnico !== undefined && e.tecnico.gestor && e.tecnico.gestor.nombre) {\r\n                      return e.tecnico.gestor.nombre === b;\r\n                    } else {\r\n                      console.log(e, e.tecnico === '-')\r\n                      return false\r\n                    }\r\n                  }).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={cargarOrdenes}>Click</Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default IndicadorGponGestor","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class Prueba extends Component {\r\n  static propTypes = {\r\n    prop: PropTypes\r\n  }\r\n\r\n  render() {\r\n    console.log('holas')\r\n    return (\r\n      <div>\r\n        hola\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Chart,\r\n  Axis,\r\n  Tooltip,\r\n  Legend,\r\n  Facet\r\n} from \"bizcharts\";\r\n\r\nconst coloresGestores = ['#1890ff','#2fc25b','#facc14','#14E9FA','#FF8818','#4618FF','#6DF719','#C018FF','#18B7FF','#F4A460','#6495ED','#00CED1','#1890ff','#2fc25b','#facc14','#14E9FA','#FF8818','#4618FF','#6DF719','#C018FF','#18B6FF','#F4A460','#6495ED','#00CED1'];\r\n\r\nconst getTypeColor = (type, gestores=[]) => {\r\n  if (!type && gestores.length === 0) {\r\n    return '#fff';\r\n  } else {\r\n    const i = gestores.findIndex((e) => e === type);\r\n    if (i > -1) {\r\n      return coloresGestores[i];\r\n    } else {\r\n      return '#fff';\r\n    };\r\n  };\r\n};\r\n\r\nexport default function ChartDevolucionesGpon({data, loading, gestores}) {\r\n  if (loading) {\r\n    return <div>cargando...</div>\r\n  } else {\r\n    return (\r\n      <Chart height={450} data={data} autoFit padding={[20, 5, 10, 255]}>\r\n        <Legend visible={false}/>\r\n        <Tooltip showMarkers={true}/>\r\n        <Axis name=\"ordenes\" />\r\n        <Facet\r\n          fields={['gestor']}\r\n          type=\"rect\"\r\n          columnTitle={{\r\n            offsetY: -15,\r\n            style: {\r\n              fontSize: 11,\r\n              fontWeight: 300,\r\n              fill: '#8d8d8d'\r\n            }\r\n          }}\r\n          eachView={(view, facet) => {\r\n            view.coordinate().transpose();\r\n\r\n            if (facet.columnIndex === 0) {\r\n              view.axis('motivo', {\r\n                tickLine: null,\r\n                line: null,\r\n              });\r\n              view.axis('ordenes', false);\r\n            } else {\r\n              view.axis(false);\r\n            }\r\n            const color = getTypeColor(facet.columnValue, gestores);\r\n            view\r\n              .interval()\r\n              .adjust('stack')\r\n              .position('motivo*ordenes')\r\n              .color('type', [color, '#ebedf0'])\r\n              .size(20)\r\n              .label('ordenes*type', (value, type) => {\r\n                if (type === 2) {\r\n                  return null;\r\n                }\r\n                const offset = (value < 3) ? 3 : -4;\r\n                return {\r\n                  offset,\r\n                };\r\n              });\r\n            view.interaction('element-active');\r\n          }}\r\n        />\r\n      </Chart>\r\n    );\r\n  };\r\n};\r\n\r\nChartDevolucionesGpon.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  gestores: PropTypes.array\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartDevolucionesGpon from './ChartDevolucionesGpon';\r\nimport { tipoOrdenes } from \"../../constants/tipoOrden\";\r\nimport { getIndicadores } from \"../../services/apiOrden\";\r\nimport { gpon } from \"../../constants/valoresGpon\";\r\nimport { separarMotivo } from \"../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\nconst estados = ['Cancelado','No Realizada']\r\n\r\nconst IndicadorGponDevoluciones = React.memo(() => {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cargarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    await getIndicadores(false, { tipo: tipoOrdenes.ALTAS}).then(({data}) => {\r\n      let gponAux = data.filter((d) => gpon.includes(d.subtipo_actividad) && estados.includes(d.estado));\r\n      return gponAux;\r\n    }).then((gData) => {\r\n      setTotalOrdenes(gData);\r\n      return separarMotivo(gData)\r\n    }).then(({ordenes, gestores}) => {\r\n      // console.log(ordenes)\r\n      setGestores(gestores.filter((g) => g !== '-'));\r\n      setDataOrdenes(ordenes.filter((o) => o.gestor !== '-' && o.motivo));\r\n      console.log(ordenes);\r\n      setHoraActualizado(moment(new Date()).format('HH:mm'));\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n    \r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>Indicador Devoluciones Gpon</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={24}>\r\n          <ChartDevolucionesGpon data={dataOrdenes} loading={loadingOrdenes} gestores={gestores}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n          <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => {\r\n                    console.log(e)\r\n                    if (e.tecnico === '-') {\r\n                      return e.tecnico === b\r\n                    } else if (e.tecnico !== undefined && e.tecnico.gestor && e.tecnico.gestor.nombre) {\r\n                      return e.tecnico.gestor.nombre === b;\r\n                    } else {\r\n                      return false\r\n                    }\r\n                  }).length : 0} \r\n                  suffix={`/ ${totalOrdenes.filter((o) => o.tecnico !== '-' && o.motivo_no_realizado).length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={cargarOrdenes}>Click</Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n});\r\n\r\nexport default IndicadorGponDevoluciones;\r\n  \r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {string} parametros.idFiltro\r\n */\r\nexport const getEmpleados = async (toast, {metodo, page, limit, idFiltro}) => restPrivate({\r\n  url: 'empleados', method: 'GET', params: {metodo, page, limit, idFiltro}\r\n}, toast);\r\n\r\n/**\r\n * @param {string} value \r\n * @param {string} field \r\n */\r\nexport const buscarEmpleado = async (value, field) => restPrivate({\r\n  url: 'empleados/buscar', method: 'GET', params: { value, field }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {boolean} toast validar si mostrar avisos\r\n * @param {object} data\r\n * @param {string} data.id\r\n * @param {string} data.metodo el metodo\r\n * @param {number} data.cargo cargo a modificar\r\n * @param {Date} data.fecha_baja fecha de baja\r\n * @param {number} data.estado_empresa estado dentro de la empresa\r\n * @param {string} data.gestor\r\n * @param {string[]} data.tecnicos\r\n */\r\nexport const patchEmpleados = async (\r\n  toast, { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n) => restPrivate({\r\n  url: 'empleados', \r\n  method: 'PATCH', \r\n  data: { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n}, toast);\r\n\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postEmpleados = async (data) => restPrivate({\r\n  url: 'empleados', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id id del empleado\r\n * @param {object} data objeto a actualizar\r\n */\r\nexport const putEmpleados = async (id, data) => restPrivate({\r\n  url: 'empleados/' + id, method: 'PUT', data\r\n}, true);\r\n\r\n","import React, { useState } from 'react';\r\nimport { Button, Input, Radio  } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { buscarEmpleado } from '../../../services/apiEmpleado';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function HeaderEmpleados(abrirModalCrear, listarEmpleado, setEmpleados, setPageNumber, setTotalDocs) {\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n\r\n  async function buscarPersonal(value) {\r\n    if (value.length > 1) {\r\n      await buscarEmpleado(value, tipoBusqueda)\r\n        .then(({data}) => {\r\n          if (data.length > 0) {\r\n            setEmpleados(data)\r\n            setPageNumber(1)\r\n            setTotalDocs(data.length)\r\n          };\r\n        })\r\n        .catch((err) => console.log(err))\r\n    } else {\r\n      await listarEmpleado();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"header-tabla\">\r\n      <div className=\"busqueda\">\r\n        <Radio.Group \r\n          onChange={(e) => setTipoBusqueda(e.target.value)} \r\n          value={tipoBusqueda}\r\n          style={{ paddingTop: '.22rem' }}\r\n        >\r\n          <Radio value=\"nombre\">Nombre</Radio>\r\n          <Radio value=\"numero_documento\">Documento</Radio>\r\n          <Radio value=\"carnet\">Carnet</Radio>\r\n        </Radio.Group>\r\n        <Search\r\n          placeholder=\"Buscar personal\"\r\n          allowClear\r\n          enterButton={false}\r\n          onSearch={buscarPersonal}\r\n          style={{ width: 200, margin: 0 }}\r\n        />\r\n      </div>\r\n      <div className=\"boton-agregar\">\r\n        <Button\r\n          icon={<PlusOutlined/>}\r\n          onClick={abrirModalCrear}\r\n        >\r\n          Agregar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","const colores = {\r\n  'success': '#52c41a',\r\n  'error': '#EB2F2F',\r\n  'warning': '#F8C82E'\r\n};\r\n\r\nexport default colores;","import { Tag } from 'antd';\r\nimport { CheckCircleOutlined, ExclamationCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport React from 'react';\r\nimport cargos from '../../../constants/cargos';\r\nimport colores from '../../../constants/colores';\r\n\r\nexport function CargoTag({cargo}) {\r\n  switch (cargo) {\r\n    case cargos.ADMINISTRADOR:\r\n      return (<Tag color=\"geekblue\">Administrador</Tag>)\r\n    case cargos.JEFE_OPERACIONES:\r\n      return (<Tag color=\"blue\">Jefe de Operaciones</Tag>)\r\n    case cargos.JEFE_LOGISTICA:\r\n      return (<Tag color=\"cyan\">Jefe de Logistica</Tag>)\r\n    case cargos.LIDER_GESTION:\r\n      return (<Tag color=\"purple\">Lider de Gestion</Tag>)\r\n    case cargos.ASISTENTE_LOGISTICA:\r\n      return (<Tag color=\"green\">Asistente de Logistica</Tag>)\r\n    case cargos.JEFE_CONTRATA:\r\n      return (<Tag color=\"orange\">Jefe de Contrata</Tag>)\r\n    case cargos.GESTOR:\r\n      return (<Tag color=\"magenta\">Gestor</Tag>)\r\n    case cargos.ALMACENERO:\r\n      return (<Tag color=\"red\">Almacenero</Tag>)\r\n    case cargos.AUDITOR:\r\n      return (<Tag color=\"gold\">Auditor</Tag>)\r\n    case cargos.TECNICO:\r\n      return (<Tag color=\"volcano\">Tecnico</Tag>)\r\n    default:\r\n      return (<Tag>Sin cargo</Tag>)\r\n  }\r\n};\r\n\r\nexport function EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case 'Activo': \r\n      return (<Tag icon={<CheckCircleOutlined/>} color={colores.success}>{estado}</Tag>);\r\n    case 'Suspendido':\r\n      return (<Tag icon={<ExclamationCircleOutlined/>} color={colores.warning}>{estado}</Tag>)\r\n    case 'Inactivo':\r\n      return (<Tag icon={<CloseCircleOutlined />} color={colores.error}>{estado}</Tag>)\r\n    default:\r\n      return (<Tag>Desconocido</Tag>);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEmpleado({accion, visible, setVisible, empleado={}, contratas=[], guardar}) {\r\n  const [empleadoObj, setEmpleadoObj] = useState({numero_documento: Number(Date.now())});\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (empleado._id) setEmpleadoObj({\r\n      ...empleado, \r\n      email: empleado.usuario.email,\r\n      cargo: empleado.usuario.cargo,\r\n      contrata: empleado.contrata && empleado.contrata._id\r\n    });\r\n  },[empleado])\r\n\r\n\r\n  const limpiar = () => {\r\n    setVisible(false)\r\n  };\r\n\r\n  const onOk = () => {\r\n    form.validateFields().then(async(values) => {\r\n      setEmpleadoObj({numero_documento: Date.now()});\r\n      form.resetFields();\r\n      const obj = {\r\n        ...values,\r\n        usuario: {\r\n          email: values.email,\r\n          cargo: values.cargo\r\n        }\r\n      }\r\n      await guardar(obj);\r\n      setVisible(false);\r\n    }).catch(info => {\r\n      console.log('Validate Failed:', info);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={300}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? \"Crear Empleado\": \"Editar Empleado\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiar}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Form\r\n        name=\"form_empleado\"\r\n        layout=\"vertical\"\r\n        size=\"small\"\r\n        form={form}\r\n        initialValues={empleadoObj}\r\n        onValuesChange={(e) => setEmpleadoObj({...empleadoObj, ...e})}\r\n      >\r\n        <Form.Item\r\n          name=\"nombre\"\r\n          label=\"Nombre\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"apellidos\"\r\n          label=\"Apellidos\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Correo\"\r\n          rules={[{ required: true, type: \"email\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"cargo\"\r\n          label=\"Cargo\"\r\n          rules={[{ required: true, type: \"number\" }]}\r\n        >\r\n          <Select placeholder=\"Seleccionar cargo\" onChange={(e) => setEmpleadoObj({...empleadoObj, cargo: e})} allowClear>\r\n            <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n            <Option value={cargos.JEFE_CONTRATA}>Jefe de Contrata</Option>\r\n            <Option value={cargos.GESTOR}>Gestor</Option>\r\n            <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n            <Option value={cargos.AUDITOR}>Auditor</Option>\r\n            <Option value={cargos.TECNICO}>Tecnico</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        {\r\n          empleadoObj.cargo ? empleadoObj.cargo === cargos.TECNICO || empleadoObj.cargo === cargos.AUDITOR ? \r\n          <Form.Item\r\n            name=\"carnet\"\r\n            label=\"Carnet\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>:null:null\r\n        }\r\n        {\r\n          contratas && contratas.length > 0 ? \r\n          <Form.Item\r\n            name=\"contrata\"\r\n            label=\"Contrata\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Select placeholder=\"Seleccionar contrata\" onChange={(e) => setEmpleadoObj({...empleadoObj, contrata: e})} allowClear>\r\n            {\r\n              contratas.map((c,i) => (\r\n                <Option key={i} value={c._id}>{c.nombre}</Option>\r\n              ))\r\n            }\r\n            </Select>\r\n          </Form.Item>:null\r\n        }\r\n        <Form.Item \r\n          name=\"tipo_documento\"\r\n          label=\"Tipo de Documento\"\r\n        >\r\n          <Select placeholder=\"Seleccionar tipo\" onChange={e => setEmpleadoObj({...empleadoObj, tipo_documento: e})} allowClear>\r\n            <Option value=\"DNI\">DNI</Option>\r\n            <Option value=\"Otro\">Otro</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"numero_documento\"\r\n          label=\"Numero de Documento\"\r\n          rules={[{ required: false, type: 'string' }]}\r\n        >\r\n          <Input/>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEmpleado.propTypes = {\r\n  accion: PropTypes.string,\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  empleado: PropTypes.object,\r\n  contratas: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalEmpleado;\r\n\r\n\r\n","export const empleados = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_TECNICOS_GLOBAL: 'listaTecnicosGlobal',\r\n  LISTA_GESTORES: 'listaGestores',\r\n  LISTA_AUDITORES: 'listaAuditores',\r\n  RESET_PASS: 'resetPassword',\r\n  CERRAR_SESSION: 'cerrarSesion',\r\n  ACTUALIZAR_CARGO: 'actualizarPermisos',\r\n  ACTIVAR_CUENTA: 'activarCuenta',\r\n  EDITAR_ESTADO: 'editarEstadoEmpresa',\r\n  ACTUALIZAR_GESTOR: 'actualizarGestor',\r\n  ACTUALIZAR_AUDITOR: 'actualizarAuditor'\r\n};\r\n\r\nexport const contratas = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_NOMBRES: 'listaNombres'\r\n};\r\n\r\nexport const ordenes = {\r\n  SUBIR_DATA: 'subirData',\r\n  CRUZAR_DATA: 'cruzarData',\r\n  ORDENES_HOY: 'ordenesHoy'\r\n};\r\n\r\nexport const asistencias = {\r\n  LISTAR_TODO: 'listarTodo',\r\n  LISTAR_GESTOR: 'listarGestor'\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalPermisos({visible, setVisible, listarEmpleados, id}) {\r\n  const [cargo, setCargo] = useState(4);\r\n\r\n  async function actualizarCargo() {\r\n    await patchEmpleados(true, { id, metodo: empleados.ACTUALIZAR_CARGO, cargo } )\r\n      .then(() => setVisible(!visible))\r\n      .catch((error) => {\r\n        setVisible(false);\r\n        console.log(error);\r\n      })\r\n  };\r\n\r\n  const cambiarCargo = (value) => setCargo(value);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar Cargo\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={actualizarCargo}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Recuerda que no es posible otorgar un cargo superior \r\n        al tuyo y que todo cambio quedar registrado en el \r\n        sistema.\r\n      </p>\r\n      <p>Seleccionar Cargo:</p>\r\n      <Select\r\n        defaultValue={cargo}\r\n        onChange={cambiarCargo}\r\n        style={{ width: 180 }}\r\n      >\r\n        <Option value={cargos.LIDER_GESTION}>Lider de Gestion</Option>\r\n        <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n        <Option value={cargos.JEFE_CONTRATA}>Jefe de contrata</Option>\r\n        <Option value={cargos.GESTOR}>Gestor</Option>\r\n        <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n        <Option value={cargos.AUDITOR}>Auditor</Option>\r\n        <Option value={cargos.TECNICO}>Tecnico</Option>\r\n      </Select>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalPermisos.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalPermisos\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, DatePicker, Space } from 'antd';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEstado({visible, setVisible, listarEmpleados, id}) {\r\n  const [estado, setEstado] = useState(1);\r\n  const [fechaBaja, setFechaBaja] = useState('');\r\n\r\n  async function onOk() {\r\n    await patchEmpleados(true, { \r\n      id, \r\n      metodo: empleados.EDITAR_ESTADO,\r\n      fecha_baja: fechaBaja, \r\n      estado_empresa: estado\r\n    }).then(async () => {\r\n        setVisible(false);\r\n        await listarEmpleados();\r\n      }).catch((e) => console.log(e));\r\n  };\r\n\r\n  const cambiarFecha = (_,b) => setFechaBaja(b);\r\n\r\n  const cambiarEstado = (v) => setEstado(v);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Estado Empresa\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Activo\" tiene la cuenta habilitada y aparece en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Suspendido\" no podr iniciar sesin en el sistema, pero seguir apareciendo en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Inactivo\" no podr iniciar sesin en el sistema y desaparecer por completo de las listas del sistema (usuario de baja)  \r\n      </p>      \r\n      <Space direction=\"vertical\">\r\n        Seleccionar: \r\n        <Select \r\n          defaultValue={estado}\r\n          onChange={cambiarEstado}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Option value={1}>Activo</Option>\r\n          <Option value={2}>Suspendido</Option>\r\n          <Option value={3}>Inactivo</Option>\r\n        </Select>\r\n        Fecha de suspensin / baja:\r\n        <DatePicker onChange={cambiarFecha} />\r\n      </Space>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalEstado\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal } from 'antd';\r\nimport { \r\n  LockOutlined, \r\n  CloseCircleOutlined, \r\n  CaretUpOutlined,\r\n  UserOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport ModalPermisos from './ModalPermisos';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport ModalEstado from './ModalEstado';\r\n\r\nfunction ModalConfiguracion({visible, setVisible, id, listarEmpleados}) {\r\n  const [modalPermisos, setModalPermisos] = useState(false);\r\n  const [modalEstados, setModalEstados] = useState(false);\r\n\r\n  async function actualizarEmpleado(metodo) {\r\n    await patchEmpleados(true, { id, metodo })\r\n    .then(() => {\r\n      listarEmpleados();\r\n      setVisible(!visible);\r\n    })\r\n    .catch((error) => console.log(error))\r\n  };\r\n\r\n  const abrirModalPermisos = () => setModalPermisos(!modalPermisos);\r\n  const abrirModalEstado = () => setModalEstados(!modalEstados);\r\n\r\n  const onOk = async () => {\r\n    await listarEmpleados();\r\n    setVisible(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configuraciones\"\r\n      visible={visible}\r\n      width={250}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <Button \r\n        block\r\n        icon={<LockOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.RESET_PASS)}\r\n      >Reiniciar Contrasea</Button>\r\n      <Button \r\n        block\r\n        icon={<CloseCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.CERRAR_SESSION)}\r\n      >Cerrar Sessin</Button>\r\n      <Button \r\n        block\r\n        icon={<CaretUpOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalPermisos}\r\n      >Permisos</Button>\r\n      <Button \r\n        block\r\n        icon={<UserOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.ACTIVAR_CUENTA)}\r\n      >Activar Cuenta</Button>\r\n      <Button \r\n        block\r\n        danger\r\n        icon={<ExclamationCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalEstado}\r\n      >Cambiar Estado</Button>\r\n      {/* MODAL PARA CAMBIAR LOS PERMISOS DEL USUARIO */}\r\n      <ModalPermisos \r\n        visible={modalPermisos} \r\n        setVisible={setModalPermisos}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n      {/* MODAL PARA CAMBIAR EL ESTADO DEL EMPLEADO EN LA EMPRESA */}\r\n      <ModalEstado\r\n        visible={modalEstados}\r\n        setVisible={setModalEstados}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalConfiguracion.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  id: PropTypes.string,\r\n  listarEmpleados: PropTypes.func\r\n}\r\n\r\nexport default ModalConfiguracion\r\n\r\n","import React, { useState } from 'react';\r\nimport { EditTwoTone, SettingTwoTone } from '@ant-design/icons'\r\n\r\nimport colores from '../../../constants/colores';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport ModalConfiguracion from './ModalConfiguracion';\r\nimport { putEmpleados } from '../../../services/apiEmpleado';\r\n\r\nexport default function EmpleadoAcciones({ id, empleado, listarEmpleados, listaContratas }) {\r\n  const [visibleEmpleado, setVisibleEmpleado] = useState(false);\r\n  const [visibleConf, setVisibleConf] = useState(false);\r\n\r\n  async function actualizarEmpleado(data) {\r\n    await putEmpleados(id, data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <span>\r\n      <EditTwoTone \r\n        title=\"Editar\"\r\n        twoToneColor={colores.warning} \r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleEmpleado(true)}\r\n      />\r\n      <SettingTwoTone \r\n        title=\"Configuraciones\"\r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleConf(true)}\r\n      />\r\n      {/* MODAL PARA EDITAR EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"editar\"\r\n        empleado={empleado}\r\n        contratas={listaContratas}\r\n        visible={visibleEmpleado}\r\n        setVisible={setVisibleEmpleado}\r\n        guardar={actualizarEmpleado}\r\n      />\r\n      {/* MODAL PARA CONFIGURAR */}\r\n      <ModalConfiguracion\r\n        visible={visibleConf}\r\n        setVisible={setVisibleConf}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n    </span>\r\n  )\r\n};\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {string} metodo\r\n */\r\nexport const getContratas = async (toast, metodo) => restPrivate({\r\n  url: 'contratas', method: 'GET', params: {metodo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postContrata = async (data) => restPrivate({\r\n  url: 'contratas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n */\r\nexport const putContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PUT', data, \r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {object} data objeto a enviar\r\n * @param {bool} data.activo\r\n * @param {Date} data.fecha_baja\r\n */\r\nexport const patchContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PATCH', data\r\n}, true)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalle({visible, abrirModal, empleado={}}) {\r\n  return (\r\n    <Modal\r\n      width={450}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Aceptar\"\r\n      title=\"Detalle del Usuario\"\r\n      visible={visible}\r\n      onOk={abrirModal}\r\n      onCancel={abrirModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Descriptions layout=\"vertical\" bordered size=\"small\" column={2}>\r\n        {empleado.gestor&&(<Descriptions.Item label=\"Gestor:\">{empleado.gestor.nombre && empleado.gestor.nombre}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Tipo de Doc.:\">{empleado.tipo_documento}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Numero de Doc.:\">\r\n          <Text copyable>{empleado.numero_documento}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\">{empleado.fecha_nacimiento && moment(empleado.fecha_nacimiento).format('DD-MM-YYYY')}</Descriptions.Item>\r\n        {empleado.fecha_ingreso&&(<Descriptions.Item label=\"Fecha de Ingreso\">{moment(empleado.fecha_ingreso).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        {empleado.fecha_baja&&(<Descriptions.Item label=\"Fecha de Baja\">{moment(empleado.fecha_baja).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Nacionalidad\">{empleado.nacionalidad?empleado.nacionalidad:'-'}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Observacin\" span={2}>{empleado.observacion}</Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrirModal: PropTypes.func,\r\n  empleado: PropTypes.object\r\n}\r\n\r\nexport default ModalDetalle\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Tooltip, Typography } from 'antd'\r\n\r\nimport Contenedor from '../../common/Contenedor'\r\nimport HeaderEmpleados from './HeaderEmpleados';\r\nimport { CargoTag, EstadoTag } from './EmpleadoTag';\r\nimport EmpleadoAcciones from './EmpleadoAcciones';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport { getEmpleados, postEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport ModalDetalle from './ModalDetalle';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaEmpleados() {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [limitNumber, setLimitNumber] = useState(20);\r\n  const [totalDocs, setTotalDocs] = useState(1);\r\n  const [dataEmpleados, setDataEmpleados] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [empleadoObj, setEmpleadoObj] = useState({});\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    listarEmpleados();\r\n    listarContratas();\r\n  //eslint-disable-next-line\r\n  },[pageNumber, limitNumber]);\r\n\r\n  async function listarEmpleados() {\r\n    setLoading(true);\r\n    await getEmpleados(\r\n      true, {\r\n        metodo: empleados.LISTA_TODO,\r\n        page:pageNumber, \r\n        limit:limitNumber\r\n      }\r\n    ).then(({data}) => {\r\n      setDataEmpleados(data.docs);\r\n      setTotalDocs(data.totalDocs)\r\n      setLoading(false);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error)\r\n    });\r\n  };\r\n\r\n  async function listarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function guardarEmpleado(data) {\r\n    await postEmpleados(data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const verDetalleEmpleado = (empleado) => {\r\n    setEmpleadoObj(empleado);\r\n    abrirModalDetalle();\r\n  }\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 150\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      dataIndex: 'apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: apellidos => (\r\n        <Tooltip placement=\"topLeft\" title={apellidos}>\r\n          {apellidos}\r\n        </Tooltip>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'usuario',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (u) => (\r\n        <Tooltip placement=\"topLeft\" title={u && u.email}>\r\n          {u && u.email}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      dataIndex: 'usuario',\r\n      width: 150,\r\n      render: (u) => <CargoTag cargo={u.cargo}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c && c.nombre}>\r\n          {c && c.nombre}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 150,\r\n      render: (c) => {\r\n        if (c) {\r\n          return (<Text copyable>{c}</Text>)\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_empresa',\r\n      width: 150,\r\n      render: (estado) => <EstadoTag estado={estado}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (id, row) => <EmpleadoAcciones id={id} empleado={row} listarEmpleados={listarEmpleados} listaContratas={listaContratas}/>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => verDetalleEmpleado(record)\r\n          }\r\n        }}\r\n        className=\"tabla-personal\"\r\n        title={() => HeaderEmpleados(abrirModalCrear, listarEmpleados, setDataEmpleados, setPageNumber, setTotalDocs)}\r\n        columns={columnas}\r\n        dataSource={dataEmpleados}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ x: '1250px', y: '65vh' }}\r\n        pagination={{\r\n          current: pageNumber,\r\n          total: totalDocs,\r\n          defaultPageSize: limitNumber,\r\n          pageSizeOptions: [10,20,50,100],\r\n          onChange: (page) => setPageNumber(page),\r\n          onShowSizeChange: (_,limit) => setLimitNumber(limit)\r\n        }}\r\n      />\r\n      {/* MODAL PARA CREAR EL NUEVO EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"crear\"\r\n        contratas={listaContratas}\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={guardarEmpleado}\r\n      />\r\n      {/* MODAL DETALLE DEL EMPLEADO */}\r\n      <ModalDetalle\r\n        visible={modalDetalle}\r\n        abrirModal={abrirModalDetalle}\r\n        empleado={empleadoObj}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction ModalContrata({visible, setVisible, accion, guardar, contrata={}}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [ruc, setRuc] = useState(null);\r\n  const [fecha_incorporacion, setFecha_incorporacion] = useState(null);\r\n  const [observacion, setObservacion] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (contrata.nombre) {\r\n      setNombre(contrata.nombre);\r\n      setRuc(contrata.ruc);\r\n      setFecha_incorporacion(contrata.fecha_incorporacion);\r\n      setObservacion(contrata.observacion);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[contrata]);\r\n\r\n  const limpiarEstados = async () => {\r\n    setNombre(null);\r\n    setRuc(null);\r\n    setFecha_incorporacion(null);\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  const onOk = async () => {\r\n    await guardar({nombre, ruc, \r\n      fecha_incorporacion: fecha_incorporacion && fecha_incorporacion, \r\n      observacion: observacion && observacion\r\n    }, contrata.id);\r\n    limpiarEstados();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      width={270}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? 'Crear Contrata':'Editar Contrata'}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarEstados}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n        <p>Nombre de Contrata:</p>\r\n        <Input\r\n          placeholder=\"Nombre de Contrata\" \r\n          defaultValue={nombre} \r\n          onChange={e => setNombre(e.target.value)}\r\n        /><br/><br/>\r\n        <p>RUC:</p>\r\n        <Input \r\n          placeholder=\"RUC\" \r\n          defaultValue={ruc} \r\n          onChange={e => setRuc(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Fecha de Incorporacin:</p>\r\n        <DatePicker\r\n          defaultValue={fecha_incorporacion && moment.utc(fecha_incorporacion)} \r\n          onChange={(_, date) => setFecha_incorporacion(date)}\r\n        /><br/><br/>\r\n        <p>Observacion:</p>\r\n        <Input\r\n          placeholder=\"Observacion\" \r\n          defaultValue={observacion} \r\n          onChange={e => setObservacion(e.target.value)}\r\n        /><br/><br/>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalContrata.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  accion: PropTypes.string,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object,\r\n}\r\n\r\nexport default ModalContrata\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker, Modal, Radio, Space } from 'antd';\r\n\r\n\r\nfunction ModalEliminar({visible, setVisible, guardar, contrata={}}) {\r\n  const [activo, setActivo] = useState(true);\r\n  const [fecha_baja, setFecha_baja] = useState(null);\r\n\r\n  async function onOk() {\r\n    if (contrata._id) {\r\n      await guardar(contrata._id, { activo, fecha_baja });\r\n      limpiarModal();\r\n    } else {  \r\n      console.log('objeto contrata vacio.')\r\n    }\r\n  };\r\n\r\n  const cambiarEstado = (e) => setActivo(e.target.value);\r\n  const cambiarFecha = (_,f) => setFecha_baja(f);\r\n\r\n  const limpiarModal = () => {\r\n    setActivo(true);\r\n    setFecha_baja(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={250}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title=\"Desactivar Contrata\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Space direction=\"vertical\">\r\n        <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n          *La contrata no se eliminar de la base de datos, pero si dejar de aparecer en las listas del sistema.\r\n        </p>\r\n        Seleccionar estado:\r\n        <Radio.Group onChange={cambiarEstado} value={activo}>\r\n          <Radio value={true}>Activo</Radio>\r\n          <Radio value={false}>Inactivo</Radio>\r\n        </Radio.Group>\r\n        Seleccionar fecha de baja:\r\n        <DatePicker onChange={cambiarFecha}/>\r\n      </Space>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEliminar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object\r\n};\r\n\r\nexport default ModalEliminar;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Tag } from 'antd';\r\nimport { EditTwoTone, PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../common/Contenedor';\r\nimport { getContratas, patchContrata, postContrata, putContrata } from '../../../services/apiContrata';\r\nimport { contratas } from '../../../constants/metodos';\r\nimport ModalContrata from './ModalContrata';\r\nimport colores from '../../../constants/colores';\r\nimport ModalEliminar from './ModalEliminar';\r\n\r\nexport default function TablaContratas() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataContratas, setDataContratas] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalEliminar, setModalEliminar] = useState(false);\r\n  const [contrata, setContrata] = useState({});\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    setLoading(true);\r\n    await getContratas(true, contratas.LISTA_TODO).then(({data}) => {\r\n      setLoading(false);\r\n      setDataContratas(data && data);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  async function crearContrata(data) {\r\n    await postContrata(data)\r\n      .then(async() => await cargarContratas())\r\n      .catch((error) => {\r\n        console.log(error);\r\n        abrirModalCrear();\r\n      })\r\n  };\r\n\r\n  async function editarContrata(data) {\r\n    if (contrata._id) {\r\n      await putContrata(contrata._id, data)\r\n        .then(async() => await cargarContratas())\r\n        .catch((error) => {\r\n          console.log(error);\r\n          abrirModalEditar();\r\n        })\r\n    }\r\n  };\r\n\r\n  async function eliminarContrata(id, data) {\r\n    await patchContrata(id, data)\r\n      .then(async() => await cargarContratas())\r\n      .catch(error => {\r\n        console.log(error);\r\n        abrirModalEliminar();\r\n      })\r\n  }\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalEliminar = () => setModalEliminar(!modalEliminar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'activo',\r\n      width: 150,\r\n      render: (a) => {\r\n        if (a) {\r\n          return (<Tag color=\"success\">Activo</Tag>)\r\n        } else {\r\n          return (<Tag color=\"error\">Inactivo</Tag>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Inicio',\r\n      dataIndex: 'fecha_incorporacion',\r\n      width: 150,\r\n      render: (f) => f?moment(f).format('DD-MM-YYYY'):'-'\r\n    },\r\n    {\r\n      title: 'Fecha Baja',\r\n      dataIndex: 'fecha_baja',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY'): '-'\r\n    },\r\n    {\r\n      title: 'Observacin',\r\n      dataIndex: 'observacion'\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (_, row) => (\r\n        <span>\r\n          <EditTwoTone\r\n            title=\"Editar\"\r\n            twoToneColor={colores.warning} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEditar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n          <DeleteTwoTone \r\n            title=\"Configuraciones\"\r\n            twoToneColor={colores.error} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEliminar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        style={{ marginBottom: '1rem' }}\r\n        className=\"tabla-personal\"\r\n        title={() => \r\n          <Button \r\n            icon={<PlusOutlined/>}\r\n            onClick={abrirModalCrear}\r\n          >\r\n            Agregar\r\n          </Button>\r\n        }\r\n        columns={columnas}\r\n        dataSource={dataContratas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={false}\r\n      />\r\n      {/* MODAL PARA AGREGAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={crearContrata}\r\n        accion=\"crear\"\r\n      />\r\n      {/* MODAL PARA EDITAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalEditar}\r\n        setVisible={setModalEditar}\r\n        guardar={editarContrata}\r\n        contrata={contrata}\r\n        accion=\"editar\"\r\n      />\r\n      {/* MODAL ELIMINAR CONTRATA */}\r\n      <ModalEliminar\r\n        visible={modalEliminar}\r\n        setVisible={setModalEliminar}\r\n        guardar={eliminarContrata}\r\n        contrata={contrata}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import { rutas as lisaRutas, permisos } from '../constants/listaRutas';\r\nimport ListaPersonal from \"../views/GestionPersonal/ListaPersonal\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.listaPersonal,\r\n    exact: true,\r\n    component: ListaPersonal,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: lisaRutas.listaContratas,\r\n    exact: true,\r\n    component: ListaContratas,\r\n    nivel: permisos.listaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport TablaEmpleados from '../../components/gestionEmpleados/personal/TablaEmpleados';\r\n\r\nexport default function ListaPersonal() {\r\n  return (\r\n    <div>\r\n      <TituloVista\r\n        titulo=\"Lista de Personal\"\r\n        subtitulo=\"Usuarios y Personal\"\r\n      />\r\n      <TablaEmpleados/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport TablaContratas from '../../components/gestionEmpleados/contrata/TablaContratas';\r\n\r\nexport default function ListaContratas() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Contratas\" subtitulo=\"Usuarios y Personal\"/>\r\n      <TablaContratas/>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * @param {array} data \r\n * @param {string} field \r\n */\r\nexport async function obtenerFiltroId(data=[], field, persona=false) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n      let isNull = false;\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null && e[field]._id && e[field]._id !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field]._id)\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: persona ? e[field].nombre + ' ' + e[field].apellidos : e[field].nombre,\r\n                value: e[field]._id\r\n              })\r\n            } \r\n          } else {\r\n            isNull = true;\r\n          };\r\n        });\r\n        \r\n        if (isNull) {\r\n          return resolve([...filtrosArray, { text: '-', value: '-'}]);\r\n        } else {\r\n          return resolve(filtrosArray);\r\n        };\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nexport async function obtenerFiltroNombre(data=[], field) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field])\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: e[field],\r\n                value: e[field]\r\n              })\r\n            } \r\n          };\r\n        });\r\n  \r\n        return resolve(filtrosArray);\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select, Table, Button } from 'antd';\r\nimport { CheckCircleOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction TablaTecnicos({gestores=[], loadingGestores, auditores=[], loadingAuditores}) {\r\n  const [dataTecnicos, setDataTecnicos] = useState([]);\r\n  const [loadingTecnicos, setLoadingTecnicos] = useState(false);\r\n  const [loadingAsignarGestor, setLoadingAsignarGestor] = useState(false);\r\n  const [loadingAsignarAuditor, setLoadingAsignarAuditor] = useState(false);\r\n  const [tecnicosSeleccionados, setTecnicosSeleccionados] = useState([]);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [auditorSeleccionado, setAuditorSeleccionado] = useState(null);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroAuditor, setFiltroAuditor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarEmpleados();\r\n  },[]);\r\n\r\n  async function cargarEmpleados() {\r\n    setLoadingTecnicos(true);\r\n    await getEmpleados(true, { metodo: empleados.LISTA_TECNICOS_GLOBAL }).then(async({data}) => {\r\n        if (data) {\r\n          obtenerFiltroId(data, 'contrata').then((f) => setFiltroContrata(f))\r\n          obtenerFiltroId(data, 'gestor', true).then((f) => setFiltroGestor(f))\r\n          obtenerFiltroId(data, 'auditor', true).then((f) => setFiltroAuditor(f))\r\n          setDataTecnicos(data);\r\n        }\r\n      }).catch((error) => console.log(error)).finally(() => setLoadingTecnicos(false));\r\n  };\r\n\r\n  async function asignarTecnico(gestor=true) {\r\n    if (gestor) {\r\n      if (tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarGestor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_GESTOR, gestor: gestorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarGestor(false));\r\n      } else {\r\n        console.log('no hay tecnicos seleccionado')\r\n      }; \r\n    } else {\r\n      if (auditorSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarAuditor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_AUDITOR, auditor: auditorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarAuditor(false));\r\n      } else {\r\n        console.log('no hay tecnicos o auditor seleccionado')\r\n      }\r\n    }\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      width: 150,\r\n      dataIndex: 'nombre',\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      width: 150,\r\n      dataIndex: 'apellidos',\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      width: 100,\r\n      dataIndex: 'carnet'\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      width: 150,\r\n      dataIndex: 'contrata',\r\n      filters: filtroContrata,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => c.nombre && c.nombre\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 150,\r\n      dataIndex: 'gestor',\r\n      filters: filtroGestor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined && r.gestor !== null) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (gestor) => {\r\n        if (gestor && gestor.nombre && gestor.apellidos) {\r\n          return gestor.nombre + ' ' + gestor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Auditor',\r\n      width: 150,\r\n      dataIndex: 'auditor',\r\n      filters: filtroAuditor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.auditor\r\n        } else if( r.auditor !== undefined) {\r\n          return r.auditor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (auditor) => {\r\n        if (auditor && auditor.nombre && auditor.apellidos) {\r\n          return auditor.nombre + ' ' + auditor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <p>Asignar Gestor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingGestores}\r\n        defaultValue={gestorSeleccionado}\r\n        onChange={e => setGestorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        gestores.length > 0 ? \r\n        gestores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarGestor ? <LoadingOutlined spin/>: <CheckCircleOutlined/>}\r\n        onClick={asignarTecnico}\r\n      >Asignar</Button>\r\n      <p>Asignar Auditor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingAuditores}\r\n        defaultValue={auditorSeleccionado}\r\n        onChange={e => setAuditorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            console.log(input, option)\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        auditores.length > 0 ? \r\n        auditores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarAuditor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n        onClick={() => asignarTecnico(false)}\r\n      >Asignar</Button>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        dataSource={dataTecnicos}\r\n        loading={loadingTecnicos}\r\n        columns={columnas}\r\n        rowSelection={{\r\n          columnWidth: 30,\r\n          selectedRowKeys: tecnicosSeleccionados,\r\n          onChange: (e) => setTecnicosSeleccionados(e)\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: 20,\r\n          pageSizeOptions: [20,50,100],\r\n        }}\r\n        scroll={{ y: '60vh' }}\r\n      />      \r\n    </div>\r\n  )\r\n}\r\n\r\nTablaTecnicos.propTypes = {\r\n  gestores: PropTypes.array,\r\n  loadingGestores: PropTypes.bool,\r\n  auditores: PropTypes.array,\r\n  loadingAuditores: PropTypes.bool\r\n}\r\n\r\nexport default TablaTecnicos\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {Date} parametros.fecha_inicio\r\n * @param {Date} parametros.fecha_fin\r\n */\r\nexport const getAsistencias = async ({metodo, page, limit, fecha_inicio, fecha_fin}) => restPrivate({\r\n  url: 'asistencia', method: 'GET', params: {metodo, page, limit, fecha_inicio, fecha_fin}\r\n}, true);","import moment from 'moment';\r\n/**\r\n * @param {array} data \r\n */\r\nexport default async function ordenarAsistencia(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.tecnico.nombre && i.apellidos === obj.tecnico.apellidos);\r\n          if (aux !== -1 && obj.createdAt ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              nombre: obj.tecnico.nombre,\r\n              apellidos: obj.tecnico.apellidos,\r\n              gestor: {\r\n                nombre: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n                _id: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor._id: '-',\r\n              },\r\n              auditor: {\r\n                nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n                _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n              },\r\n              observacion: obj.observacion,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          let field = moment(obj.createdAt).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            nombre: obj.tecnico.nombre,\r\n            apellidos: obj.tecnico.apellidos,\r\n            gestor: {\r\n              nombre: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n              _id: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor._id: '-',\r\n            },\r\n            auditor: {\r\n              nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n              _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n            },\r\n            observacion: obj.observacion,\r\n            [field]: {\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n};","const estadoAsistencia = {\r\n  FALTA: 'F',\r\n  ASISTIO: 'A',\r\n  DESCANSO: 'D',\r\n  PERMISO: 'P',\r\n  SUSPENDIDO: 'S',\r\n  DESCANSO_MEDICO: 'DM',\r\n  EXAMEN_MEDICO: 'EM',\r\n};\r\n\r\nexport default estadoAsistencia;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tag } from 'antd';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\n\r\nfunction EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case estadoAsistencia.FALTA:\r\n      return (<Tag color=\"error\">{estado}</Tag>);\r\n    case estadoAsistencia.ASISTIO:\r\n      return (<Tag color=\"success\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO:\r\n      return (<Tag color=\"gold\">{estado}</Tag>);\r\n    case estadoAsistencia.PERMISO:\r\n      return (<Tag color=\"blue\">{estado}</Tag>);\r\n    case estadoAsistencia.SUSPENDIDO:\r\n      return (<Tag color=\"warning\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO_MEDICO:\r\n      return (<Tag color=\"geekblue\">{estado}</Tag>);\r\n    case estadoAsistencia.EXAMEN_MEDICO:\r\n        return (<Tag color=\"purple\">{estado}</Tag>);\r\n    // case  estado === 'BA':\r\n    //   return (<Tag color=\"blue\">{estado}</Tag>);\r\n    default:\r\n      return (<Tag>-</Tag>)\r\n  };\r\n};\r\n\r\nEstadoTag.propTypes = {\r\n  estado: PropTypes.string\r\n};\r\n\r\nexport default EstadoTag;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Col, DatePicker, Popover, Row, Statistic, Table, Tag } from 'antd';\r\nimport { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getAsistencias } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport colores from '../../../constants/colores';\r\nimport ordenarAsistencia from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst columnasDefecto = [\r\n  {\r\n    title: '#',\r\n    width: 50,\r\n    align: 'center',\r\n    render: (_,__,i) => i+1\r\n  }, \r\n  {\r\n    title: 'Tecnico',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Gestor',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Fecha',\r\n    width: 100\r\n  }\r\n]\r\n\r\nexport default function TablaAsistencias() {\r\n  const [diaInicio, setDiaInicio] = useState(null);\r\n  const [diaFin, setDiaFin] = useState(null);\r\n  const [diasSemana, setDiasSemana] = useState([]);\r\n  const [columnas, setColumnas] = useState(columnasDefecto);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [rutas, setRutas] = useState({total:0,activas:0});\r\n\r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [diasSemana, filtroGestores])\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        page: 1,\r\n        limit: 20,\r\n        fecha_inicio: diaInicio,\r\n        fecha_fin: diaFin\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistencia(data.filter((e) => e.tecnico !== null))\r\n      }).then((resultado) => {\r\n        setDataAsistencias(resultado);\r\n        obtenerFiltroId(resultado, 'gestor', true).then((f) => setFiltroGestores(f));\r\n        obtenerFiltroId(resultado, 'auditor', true).then((f) => setFiltroAuditores(f));\r\n        rutasAtivas(resultado)\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n\r\n  function cambiarSemana(dia) {\r\n    if (dia) {\r\n      let weekStart = dia.clone().startOf('week');\r\n      let weekEnd = dia.clone().endOf('week');\r\n      setDiaInicio(moment(weekStart).format('YYYY-MM-DD'));\r\n      setDiaFin(moment(weekEnd).format('YYYY-MM-DD'))\r\n      let days = [];\r\n      for (let i = 0; i <= 6; i++) {\r\n        days.push(moment(weekStart).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setDiasSemana(days);\r\n    } else {\r\n      setDiaInicio(null);\r\n      setDiaFin(null);\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    let hoy = moment().format('DD-MM');\r\n    if (diasSemana.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      },{\r\n        title: 'Tecnico',\r\n        dataIndex: 'nombre',\r\n        width: 300,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }, {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        filters: filtroGestores,\r\n        onFilter: (c, record) => {\r\n          if (record.gestor && c) {\r\n            return record.gestor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        filters: filtroAuditores,\r\n        onFilter: (c, record) => {\r\n          if (record.auditor && c) {\r\n            return record.auditor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'En Ruta',\r\n        dataIndex: hoy,\r\n        width: 150,\r\n        align: 'center',\r\n        filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n        onFilter: (c, record) => {\r\n          if (record[hoy]) {\r\n            if(!record[hoy].iniciado && !c) return true\r\n            return record[hoy].iniciado === c\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        render: (e) => {\r\n          if (e) {\r\n            if (e.iniciado) {\r\n              return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><Tag color={colores.success}><CheckCircleOutlined/></Tag></button>\r\n              </Popover>)\r\n            } else {\r\n              return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n            }\r\n          } else {\r\n            return <Tag color={colores.error}>No</Tag>\r\n          }\r\n        }\r\n      }]\r\n      const columnsAux = diasSemana.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a) => {\r\n            if (a && a.estado && a.observacion && a.observacion !== '-') {\r\n              return (<Popover content={a.observacion} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><EstadoTag estado={a.estado}/></button>\r\n              </Popover>)\r\n            } else {\r\n              return (<EstadoTag estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n  //funcion para contar las rutas activas\r\n  function rutasAtivas(data) {\r\n    let total = 0;\r\n    let activas = 0;\r\n    let hoy = moment().format('DD-MM');\r\n    if (data.length > 0) {\r\n      data.forEach((e) => {\r\n        if (e[hoy] && e[hoy].estado) {\r\n          total = total +1;\r\n          if (e[hoy].iniciado) activas = activas +1;\r\n        }\r\n      });\r\n    };\r\n    setRutas({total, activas})\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <DatePicker \r\n            onChange={cambiarSemana} \r\n            picker=\"week\" \r\n            style={{ marginRight: '.5rem' }}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <Statistic \r\n            title=\"Rutas Activas (Hoy)\" \r\n            value={rutas.activas} \r\n            suffix={`/ ${rutas.total}`}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas}\r\n        dataSource={dataAsistencias}\r\n        pagination={{\r\n          defaultPageSize: 20\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { ClusterOutlined, CheckSquareOutlined } from '@ant-design/icons'\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TablaTecnicos from '../../components/operativa/listaRutas/TablaTecnicos';\r\nimport { getEmpleados } from '../../services/apiEmpleado';\r\nimport { empleados } from '../../constants/metodos';\r\nimport TablaAsistencias from '../../components/operativa/listaRutas/TablaAsistencias';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function ListaRutas() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [loadingGestores, setLoadingGestores] = useState(false);\r\n  const [listaAuditores, setListaAuditores] = useState([]);\r\n  const [loadingAuditores, setLoadingAuditores] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarAuditores();\r\n  },[]);\r\n\r\n  async function cargarGestores() {\r\n    setLoadingGestores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES }).then(({data}) => {\r\n      if(data) setListaGestores([...data, { _id: null, nombre: '-', apellidos: '' }]);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingGestores(false));\r\n  };\r\n\r\n  async function cargarAuditores() {\r\n    setLoadingAuditores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_AUDITORES}).then(({data}) => {\r\n      if(data) setListaAuditores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAuditores(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <ClusterOutlined />\r\n                Asignar Rutas\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <TablaTecnicos\r\n              gestores={listaGestores}\r\n              loadingGestores={loadingGestores}\r\n              auditores={listaAuditores}\r\n              loadingAuditores={loadingAuditores}\r\n            />\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckSquareOutlined />\r\n                Asistencia\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <TablaAsistencias/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas, permisos } from '../../constants/listaRutas';\r\nimport ListaRutas from \"../../views/Operativa/ListaRutas\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.listaRutas,\r\n    exact: true,\r\n    component: ListaRutas,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default array","export const averias = {\r\n  TIPO: 'averiashfc',\r\n  CODIGO_ZONAL: 'codofcadm',\r\n  CODIGO_REQUERIMIENTO: 'codreq',\r\n  CODIGO_CLIENTE: 'codcli',\r\n  NOMBRE_CLIENTE: 'nomcli',\r\n  CODIGO_CTR: 'codctr',\r\n  DESCRIPCION_CTR: 'desnomctr',\r\n  CODIGO_NODO: 'codnod',\r\n  CODIGO_TROBA: 'nroplano',\r\n  DISTRITO: 'desdtt',\r\n  //direccion -START\r\n  destipvia: 'destipvia',\r\n  desnomvia: 'desnomvia',\r\n  numvia: 'numvia',\r\n  despis: 'despis',\r\n  desint: 'desint',\r\n  desmzn: 'desmzn',\r\n  deslot: 'deslot',\r\n  destipurb: 'destipurb',\r\n  desurb: 'desurb',\r\n  //direccion -END\r\n  FECHA_REGISTRO: 'fec_regist',\r\n  CODIGO_MOTIVO: 'codmotv',\r\n  DETALLE_MOTIVO: 'desmotv',\r\n  TIPO_REQUERIMIENTO: 'tipreqfin',\r\n  DETALLE_TRABAJO: 'desobsordtrab',\r\n  TELEFONO_CONTACTO: 'tel_cont_cc',\r\n  TELEFONO_REFERENCIA: 'tel_cont_ref_cc',\r\n  NUMERO_REITERADA: 'numaverei',\r\n  TIPO_TECNOLOGIA: 'tiptecnologia',\r\n  // CODIGO_SEGMENTO: 'codsegmento',\r\n  // TELEFONO: 'telefono',\r\n  //detalle\r\n  // CODIGO_ORDEN: 'codordtrab',\r\n  // CODIGO_INCIDENCIA: 'codinc',\r\n};","import * as XLSX from 'xlsx';\r\n\r\nexport default async function convertirExcel(excel){\r\n  return new Promise(\r\n    function(resolve, reject) {\r\n      try {\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n\r\n        reader.onload = (event) => {\r\n          let bstr = event.target.result;\r\n          const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\r\n          /* Get first worksheet */\r\n          const wsname = wb.SheetNames[0];\r\n          const ws = wb.Sheets[wsname];\r\n          /* Convert array of arrays */\r\n          const data = XLSX.utils.sheet_to_json(ws);\r\n\r\n          let a = [];\r\n\r\n          data.map((objeto) => {\r\n            return a.push(\r\n              Object.keys(objeto).reduce((c, k) => (\r\n                // eslint-disable-next-line\r\n                c[k.trim().toLowerCase()] = objeto[k], c\r\n              ), {})\r\n            );\r\n          });\r\n          return resolve(a);                   \r\n        }\r\n\r\n        if (rABS) {\r\n          reader.readAsBinaryString(excel);\r\n        } else {\r\n          reader.readAsArrayBuffer(excel);\r\n        }\r\n\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }\r\n  );\r\n}","export default function numeroFecha(numeroDeDias, utc){\r\n  var diasDesde1900 = 25567 + 2;\r\n  // 86400 es el nmero de segundos en un da, luego multiplicamos por 1000 para obtener milisegundos.\r\n  let fecha = new Date((numeroDeDias - diasDesde1900) * 86400 * 1000);\r\n  //false para los valores que de frente suban\r\n  //true para los valores que necesitan tratamiento\r\n  if (utc) {\r\n    return fecha;\r\n  } else {\r\n    return (new Date(fecha.setHours(fecha.getHours() + 5)))\r\n  }\r\n}","import numeroFecha from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { averias } from '../../constants/valores';\r\n\r\nconst codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAverias(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes\r\n    .filter((e) => codctrArray.includes(String(e[averias.CODIGO_CTR])))\r\n    .map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n\r\n    if (isEmpty(orden[averias.TELEFONO])) {verificado = false}\r\n    if (isEmpty(String(orden[averias.DISTRITO]).trim())) {verificado = false}\r\n    if (isNaN(orden[averias.CODIGO_REQUERIMIENTO])) {verificado = false}\r\n\r\n    return ({\r\n      key: indice,\r\n      verificado,\r\n      tipo: averias.TIPO,\r\n      codigo_zonal: orden[averias.CODIGO_ZONAL] !== undefined && orden[averias.CODIGO_ZONAL],\r\n      codigo_requerimiento : orden[averias.CODIGO_REQUERIMIENTO] !== undefined && orden[averias.CODIGO_REQUERIMIENTO],\r\n      codigo_cliente: orden[averias.CODIGO_CLIENTE] !== undefined && orden[averias.CODIGO_CLIENTE],\r\n      nombre_cliente: orden[averias.NOMBRE_CLIENTE] !== undefined && orden[averias.NOMBRE_CLIENTE],\r\n      codigo_ctr: orden[averias.CODIGO_CTR] !== undefined && orden[averias.CODIGO_CTR],\r\n      descripcion_ctr: orden[averias.DESCRIPCION_CTR] !== undefined && orden[averias.DESCRIPCION_CTR],\r\n      codigo_nodo: orden[averias.CODIGO_NODO] !== undefined && orden[averias.CODIGO_NODO],\r\n      codigo_troba: orden[averias.CODIGO_TROBA] !== undefined && orden[averias.CODIGO_TROBA],\r\n      distrito: orden[averias.DISTRITO] !== undefined && orden[averias.DISTRITO],\r\n      direccion: (orden[averias.destipvia] !== undefined ? orden[averias.destipvia]:'')\r\n                  + (orden[averias.desnomvia] !== undefined ? ' '+orden[averias.desnomvia]:'')\r\n                  + (orden[averias.numvia] !== undefined ? ' '+orden[averias.numvia]:'')\r\n                  + (orden[averias.despis] !== undefined ? ' '+orden[averias.despis]:'')\r\n                  + (orden[averias.desint] !== undefined ? (' Int. ' + orden[averias.desint]):'')\r\n                  + (orden[averias.desmzn] !== undefined ? (' Mz. ' + orden[averias.desmzn]):'')\r\n                  + (orden[averias.deslot] !== undefined ? (' Lt. ' + orden[averias.deslot]):'')\r\n                  + (orden[averias.destipurb] !== undefined ? ' '+orden[averias.destipurb]:'')\r\n                  + (orden[averias.desurb] !== undefined ? ' '+orden[averias.desurb]:''),\r\n                  // .replace(/false|,/g, ''),\r\n      fecha_registro : !isNaN(Number(orden[averias.FECHA_REGISTRO])) && numeroFecha(orden[averias.FECHA_REGISTRO]),\r\n      codigo_motivo: orden[averias.CODIGO_MOTIVO] !== undefined && orden[averias.CODIGO_MOTIVO],\r\n      detalle_motivo : orden[averias.DETALLE_MOTIVO] !== undefined && orden[averias.DETALLE_MOTIVO].replace(/,/g, ''),\r\n      tipo_requerimiento: orden[averias.TIPO_REQUERIMIENTO] !== undefined && orden[averias.TIPO_REQUERIMIENTO],\r\n      detalle_trabajo: orden[averias.DETALLE_TRABAJO] !== undefined && (orden[averias.DETALLE_TRABAJO]).replace(/,/g, ''),\r\n      telefono_contacto: orden[averias.TELEFONO_CONTACTO] !== undefined && orden[averias.TELEFONO_CONTACTO],\r\n      telefono_referencia: orden[averias.TELEFONO_REFERENCIA] !== undefined && orden[averias.TELEFONO_REFERENCIA],\r\n      numero_reiterada: orden[averias.NUMERO_REITERADA] !== undefined && orden[averias.NUMERO_REITERADA],\r\n      tipo_tecnologia: orden[averias.TIPO_TECNOLOGIA] !== undefined && orden[averias.TIPO_TECNOLOGIA],\r\n    })\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n}","import { averias } from '../../constants/valores';\r\nimport { pendientesAverias } from './asignarAverias'\r\n\r\nexport default async function asignarValores(obj, tipo, estado) {\r\n  switch (tipo) {\r\n    case averias.TIPO:\r\n      if (estado === 1) {\r\n        return await pendientesAverias(obj);\r\n      } else {\r\n        return false   \r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Radio, Row, Statistic, Upload } from 'antd';\r\nimport { UploadOutlined, SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport variables from '../../../constants/config';\r\nimport convertirExcel from '../../../libraries/convertirExcel';\r\nimport asignarValores from '../../../libraries/asignarValores';\r\nimport { getOrdenes, postOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\n\r\nfunction ActualizarOrdenes({tipoOrden}) {\r\n  const [estadoOrden, setEstadoOrden] = useState(1)\r\n  const [estadoArchivo, setEstadoArchivo] = useState('done');\r\n  const [nombreArchivo, setNombreArchivo] = useState('');\r\n  const [ordenesObtenidas, setOrdenesObtenidas] = useState([]);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setEstadoArchivo('done');\r\n    setNombreArchivo('');\r\n    setOrdenesObtenidas([]);\r\n  },[estadoOrden]);\r\n\r\n  async function guardarArchivo() {\r\n    if (ordenesObtenidas.length === 0) {\r\n      cogoToast.warn('No hay ordenes para subir.', { position: 'top-right' });\r\n    } else {\r\n      setLoadingButton(true);\r\n      await postOrdenes({metodo: ordenes.SUBIR_DATA, ordenes: ordenesObtenidas })\r\n        .then(async() => {\r\n          cogoToast.info('Sincronizando ordenes con TOA...', { position: 'top-right' });\r\n          return await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo: tipoOrden})\r\n        }).catch((err) => console.log(err));\r\n      setLoadingButton(false);  \r\n    }\r\n  };\r\n\r\n  function cargarArchivo(file) {\r\n    //actualizar el estado y el no mbre del archivo\r\n    setEstadoArchivo('uploading');\r\n    setNombreArchivo(file.name);\r\n    //validar si es un archivo excel\r\n    if (!variables.formatosAdmitidos.includes(file.type)) {\r\n      setEstadoArchivo('error');\r\n      cogoToast.warn('Formato Incorrecto.', { position: 'top-right' })\r\n      return false;\r\n    };\r\n    //convertir excel a json\r\n    convertirExcel(file).then(async(objJson) => {\r\n      //obtener los valores necesarios, actualizar estado y guardar\r\n      await asignarValores(objJson, tipoOrden, estadoOrden).then((data) => {\r\n        setEstadoArchivo('done');\r\n        setOrdenesObtenidas(data);\r\n        cogoToast.success(`${data.length} Ordenes encontradas.`, {position: 'top-right'});\r\n      });\r\n    }).catch((err) => {\r\n      setEstadoArchivo('error');\r\n      cogoToast.error('Error convirtiendo el archivo', {position: 'top-right'})\r\n      console.log(err);\r\n    })\r\n    //evita enviar peticiuones http\r\n    return false;\r\n  };\r\n\r\n  const removerArchivo = () => {\r\n    setNombreArchivo('');\r\n    setEstadoArchivo('done');\r\n    setOrdenesObtenidas([]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={10} md={10} lg={12} xl={12} spellCheck>\r\n          <p>Tipo de Archivo:</p>\r\n          <Radio.Group onChange={(e) => setEstadoOrden(e.target.value)} value={estadoOrden}>\r\n            <Radio value={1}>\r\n              Pendientes\r\n            </Radio>\r\n            <Radio value={2}>\r\n              Liquidadas\r\n            </Radio>\r\n          </Radio.Group>\r\n          <div style={{width: '14rem', margin: '1rem 0', }}>\r\n            <Upload \r\n              accept=\".xls,.xlsx\"\r\n              beforeUpload={cargarArchivo}\r\n              onRemove={removerArchivo}\r\n              fileList={[{uid: '-1', name: nombreArchivo, status: estadoArchivo}]}\r\n            >\r\n              <Button>\r\n                <UploadOutlined />{` `}Subir Archivo\r\n              </Button>\r\n            </Upload>\r\n          </div>\r\n        </Col>\r\n        <Col sm={14} md={14} lg={12} xl={12}>\r\n          <Statistic title=\"Ordenes\" value={ordenesObtenidas.length}/>\r\n          <Button \r\n            style={{ marginTop: '.5rem' }} \r\n            type=\"primary\" \r\n            icon={loadingButton ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n            onClick={guardarArchivo}\r\n          >\r\n            Guardar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n     \r\n    </div>\r\n  )\r\n};\r\n\r\nActualizarOrdenes.propTypes = {\r\n  tipoOrden: PropTypes.string\r\n};\r\n\r\nexport default ActualizarOrdenes\r\n\r\n","/**\r\n * \r\n * @param {string} string \r\n */\r\nexport default function capitalizar(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Tag } from 'antd';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nfunction TagEstado({estado}) {\r\n  switch (estado) {\r\n    case 'cancelado':\r\n      return <Tag>{capitalizar(estado)}</Tag>\r\n    case 'completado':\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case 'iniciado':\r\n      return <Tag color=\"geekblue\">{capitalizar(estado)}</Tag>\r\n    case 'no realizada':\r\n      return <Tag color=\"magenta\">{capitalizar(estado)}</Tag>\r\n    case 'pendiente':\r\n      return <Tag color=\"orange\">{capitalizar(estado)}</Tag>\r\n    case 'suspendido':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    default:\r\n      return <Tag>-</Tag>\r\n  }\r\n}\r\n\r\nTagEstado.propTypes = {\r\n  estado: PropTypes.string\r\n}\r\n\r\nexport default TagEstado\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from './TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasAverias(filtroDistrito=[],filtroBucket=[],filtroEstadoToa=[],filtroContrata=[], filtroGestor=[]) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 60\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r) => {\r\n        if (r) {\r\n          return <Tag color=\"#E5302F\">{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return <Tag>{moment().diff(fecha, 'hours')}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    }\r\n  ]\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { CloudSyncOutlined, EditFilled, LoadingOutlined, ReloadOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport columnasAverias from './columnasAverias'\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\n\r\nfunction TablaOrdenes({ gestores, contratas, tipo }) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingCruzar, setLoadingCruzar] = useState(false);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (dataOrdenes.length > 0) {\r\n      obtenerFiltroNombre(dataOrdenes, 'distrito').then((f) => setFiltroDistrito(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'bucket').then((f) => setFiltroBucket(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'estado_toa').then((f) => setFiltroEstadoToa(f));\r\n      obtenerFiltroId(dataOrdenes, 'contrata').then((f) => setFiltroContrata(f));\r\n      obtenerFiltroId(dataOrdenes, 'gestor', true).then((f) => setFiltroGestor(f));\r\n    };\r\n  },[dataOrdenes])\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_HOY })\r\n      .then(({data}) => setDataOrdenes(data))\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function sincronizarData() {\r\n    setLoadingCruzar(true);\r\n    await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo})\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCruzar(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button\r\n          icon={loadingCruzar ? <LoadingOutlined spin/>:<CloudSyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={sincronizarData}\r\n        >Sincronizar</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<EditFilled/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Editar Bucket</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Asignar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => console.log(record)\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasAverias(filtroDistrito,filtroBucket,filtroEstadoToa,filtroContrata,filtroGestor)}\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nTablaOrdenes.propTypes = {\r\n  gestores: PropTypes.array,\r\n  contratas: PropTypes.array\r\n}\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined } from '@ant-design/icons'\r\n\r\nimport { averias } from '../../../constants/valores';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport TablaOrdenes from '../../../components/operativa/administrarOrdenes/TablaOrdenes';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAverias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Ordenes\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <ActualizarOrdenes\r\n                tipoOrden={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Lista de Ordenes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <TablaOrdenes \r\n                tipo={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as lisaRutas, permisos } from '../../constants/listaRutas';\r\nimport AdministrarAverias from \"../../views/Operativa/Administrar/AdministrarAverias\";\r\nimport AdministrarAltas from \"../../views/Operativa/Administrar/AdministrarAltas\";\r\nimport AdministrarBasicas from \"../../views/Operativa/Administrar/AdministrarBasicas\";\r\nimport AdministrarSpeedy from \"../../views/Operativa/Administrar/AdministrarSpeedy\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.adminAveriasHfc,\r\n    exact: true,\r\n    component: AdministrarAverias,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminAltasHfc,\r\n    exact: true,\r\n    component: AdministrarAltas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminBasicas,\r\n    exact: true,\r\n    component: AdministrarBasicas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminspeedy,\r\n    exact: true,\r\n    component: AdministrarSpeedy,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react'\r\n\r\nexport default function AdministrarAltas() {\r\n  return (\r\n    <div>\r\n      administrar altas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarBasicas() {\r\n  return (\r\n    <div>\r\n      administrar basicas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarSpeedy() {\r\n  return (\r\n    <div>\r\n      administrar speedy\r\n    </div>\r\n  )\r\n}\r\n","import listaRutas from './listaRutas';\r\nimport administrarOrdenes from './administrarOrdenes';\r\n\r\nconst rutasOperativa = [\r\n  ...listaRutas,\r\n  ...administrarOrdenes\r\n];\r\n\r\nexport default rutasOperativa;","import { rutas, permisos } from './constants/listaRutas';\r\nimport Dashboard from './views/Dashboard';\r\n\r\nimport gestionPersonal from './routes/gestionPersonal';\r\nimport operativa from './routes/operativa';\r\n\r\nconst arregloRutas = [\r\n  {\r\n    path: rutas.dashboard,\r\n    exact: true,\r\n    nivel: [...permisos.todos, 9],\r\n    component: Dashboard\r\n  },\r\n  ...gestionPersonal,\r\n  ...operativa\r\n]\r\n\r\nexport default arregloRutas;","import React, { useState } from 'react';\r\n\r\nimport TituloContent from '../components/common/TituloContent';\r\nimport Contenedor from '../components/common/Contenedor';\r\nimport IndicadorGponAverias from '../components/dashboard/IndicadorGponAverias';\r\nimport IndicadorGponAltas from '../components/dashboard/IndicadorGponAltas';\r\nimport IndicadorGponGestor from '../components/dashboard/IndicadorGponGestor';\r\nimport Prueba from '../components/dashboard/Prueba';\r\nimport IndicadorGponDevoluciones from '../components/dashboard/IndicadorGponDevoluciones';\r\n\r\nexport default function Dashboard() {\r\n  const [cambiar, setCambiar] = useState(0)\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Dashboard\" subtitulo=\"Indicadores\"/>\r\n      <Contenedor>\r\n        {/* INDICADOR AVERIAS GPON */}\r\n        <IndicadorGponAverias prueba={cambiar%2 === 1 ? cambiar:0 }/>\r\n        {/* INDICADOR DE ALTAS GPON */}\r\n        <IndicadorGponAltas prueba={cambiar%2 === 0 ? cambiar:0}/>\r\n        {/* INDICADOR DE GESTORES */}\r\n        <IndicadorGponGestor prueba={cambiar%2 === 0 ? cambiar:0}/>\r\n        {/* INDICADORES DEVOLUCIONES X GESTOR */}\r\n        <IndicadorGponDevoluciones/>\r\n        {/* <Prueba/> */}\r\n        <button onClick={() => setCambiar(cambiar+1)}>hola</button>\r\n        <Prueba/>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};","import React from 'react';\r\nimport { Button, Result } from 'antd';\r\n\r\nimport Contenedor from '../common/Contenedor';\r\nimport { rutas } from '../../constants/listaRutas';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Contenedor>\r\n       <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle=\"Lo sentimos, no tienes autorizacion para entrar a esta pgina.\"\r\n        extra={<Button type=\"primary\" onClick={() => window.location.pathname = rutas.dashboard}>Inicio</Button>}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction PrivateRoute({ component: Component, nivel=[], ...rest }) {\r\n  const [usuario, setUsuario] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setUsuario(new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY)).decodedToken);\r\n  },[nivel])\r\n\r\n  if(nivel.includes(0)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else if (usuario && nivel.includes(usuario.cargo)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else {\r\n    return (<Route {...rest} render={() => (<NotFound/>)}/>)\r\n  }\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.func,\r\n  nivel: PropTypes.array\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'moment/locale/es-mx';\r\nimport es_ES from 'antd/es/locale/es_ES';\r\n\r\nimport './App.css';\r\nimport { rutas } from './constants/listaRutas';\r\nimport Index from './views/Index';\r\nimport Login from './views/Login';\r\nimport Layout from './components/layout';\r\nimport routes from './routes';\r\nimport PrivateRoute from './components/layout/PrivateRoute';\r\n\r\nexport default function App() {\r\n  return (\r\n    <ConfigProvider locale={es_ES}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path={rutas.login} component={Login}/>\r\n          <Layout>\r\n          {routes.map((route, index) => (\r\n              <PrivateRoute \r\n                key={index}\r\n                path={route.path}\r\n                exact={route.exact}\r\n                nivel={route.nivel}\r\n                component={\r\n                  props => (<route.component {...props}/>)\r\n                }\r\n              />\r\n            )\r\n          )}\r\n          </Layout>\r\n        </Switch>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />\r\n  //</React.StrictMode>\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(console.log);\r\n"],"sourceRoot":""}