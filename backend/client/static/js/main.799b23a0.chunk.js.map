{"version":3,"sources":["constants/cargos.js","constants/listaRutas.js","constants/config.js","services/socket.js","components/common/Contenedor.js","views/Index.js","services/requestHelper.js","services/apiUsuario.js","services/authToken.js","views/Login.js","components/layout/Sider/MenuUsuario.js","components/layout/Sider/index.js","components/layout/Header/Notificaciones.js","components/layout/Header/OpcionesUsuario.js","components/layout/index.js","components/layout/PrivateLayout.js","components/common/TituloContent.js","services/apiEmpleado.js","constants/metodos.js","constants/avatares.js","views/PerfilUsuario.js","routes/perfilUsuario.js","constants/colores.js","constants/valoresToa.js","components/dashboard/IndicadoresLiquidacion/ResumenOrdenes.js","constants/tipoOrden.js","components/dashboard/ChartProduccion.js","components/dashboard/IndicadoresTCFL/ModalDetalleOrden.js","components/dashboard/IndicadoresLiquidacion/ChartDevolucion.js","components/dashboard/IndicadoresLiquidacion/index.js","libraries/capitalizar.js","components/dashboard/IndicadoresActividad/columnasResumen.js","components/dashboard/IndicadoresActividad/ChartActividad.js","components/dashboard/IndicadoresActividad/TabIndicadorActividad.js","libraries/separarField.js","components/dashboard/IndicadoresActividad/index.js","components/dashboard/IndicadoresTCFL/IndicadorPorcentaje.js","components/dashboard/IndicadoresTCFL/TablaDetalle.js","components/dashboard/IndicadoresTCFL/index.js","components/dashboard/IndicadoresProduccion/index.js","routes/dashboard.js","views/Dashboard/ResumenGeneral.js","components/gestionEmpleados/personal/HeaderEmpleados.js","constants/estadoEmpleado.js","components/gestionEmpleados/personal/EmpleadoTag.js","components/gestionEmpleados/personal/ModalEmpleado.js","components/gestionEmpleados/personal/ModalPermisos.js","components/gestionEmpleados/personal/ModalEstado.js","components/gestionEmpleados/personal/ModalConfiguracion.js","components/gestionEmpleados/personal/EmpleadoAcciones.js","services/apiContrata.js","components/gestionEmpleados/personal/ModalDetalle.js","components/gestionEmpleados/personal/TablaEmpleados.js","components/gestionEmpleados/contrata/ModalContrata.js","components/gestionEmpleados/contrata/ModalEliminar.js","components/gestionEmpleados/contrata/TablaContratas.js","routes/gestionPersonal.js","views/GestionPersonal/ListaPersonal.js","views/GestionPersonal/ListaContratas.js","libraries/obtenerFiltro.js","components/operativa/listaRutas/TablaTecnicos.js","services/apiAsistencia.js","libraries/ordenarAsistencias.js","constants/estadoAsistencia.js","components/operativa/listaRutas/ModalCrearAsistencia.js","components/operativa/listaRutas/EstadoTag.js","components/operativa/listaRutas/ModalEditarAsistencia.js","components/excelExports/ExcelAsistenciaTecnico.js","components/operativa/listaRutas/TablaAsistenciasTecnicos.js","components/excelExports/ExcelAsistencia.js","components/operativa/listaRutas/TablaAsistenciasGestores.js","components/operativa/listaRutas/TablaAsistenciaAuditor.js","views/Operativa/ListaRutas/Asistencias.js","routes/operativa/listaRutas.js","views/Operativa/ListaRutas/AsignarRutas.js","views/Operativa/GestionarAsistencia.js","constants/valoresOrdenes.js","components/operativa/administrarOrdenes/TagEstado.js","services/apiOrden.js","components/operativa/administrarOrdenes/columnas/PopObservacion.js","components/common/TagHoras.js","components/operativa/gestionarOrdenes/columnas/columnasPendientesGestor.js","components/operativa/gestionarOrdenes/columnas/columnasSinBandejaGestor.js","components/operativa/administrarOrdenes/ModalsTabla/ModalDetalleOrden.js","components/operativa/gestionarOrdenes/ModalColumnas.js","components/operativa/gestionarOrdenes/TablaOrdenes.js","components/operativa/administrarOrdenes/ModalsTabla/ModalRegistro.js","components/operativa/administrarOrdenes/ModalsTabla/ModalInfancia.js","components/operativa/administrarOrdenes/ModalsTabla/ModalReiterada.js","libraries/convertirBase64.js","components/operativa/administrarOrdenes/ModalsTabla/ModalEstado.js","components/operativa/gestionarOrdenes/ModalAgendarTecnico.js","components/operativa/administrarOrdenes/ModalsTabla/ModalAsignar.js","libraries/colorEstado.js","components/excelExports/ExcelOrdenesPendientes.js","components/operativa/gestionarOrdenes/OrdenesPendientesGestor.js","components/operativa/administrarOrdenes/columnas/columnasLiquidadas.js","components/excelExports/ExcelOrdenesLiquidadas.js","components/operativa/gestionarOrdenes/columnas/columnasLiquidadasGestor.js","components/operativa/administrarOrdenes/OrdenesLiquidadas.js","components/operativa/gestionarOrdenes/OrdenesSinAsignar.js","views/Operativa/Gestionar/ListaOrdenes.js","routes/operativa/gestionarAsistencia.js","libraries/convertirExcel.js","libraries/numeroFecha.js","libraries/asignarValores/asignarAverias.js","libraries/asignarValores/asignarAltas.js","libraries/asignarValores/index.js","libraries/fragmentarArray.js","components/operativa/administrarOrdenes/ActualizarOrdenes.js","components/common/TagDias.js","components/operativa/administrarOrdenes/columnas/columnasOrdenes.js","components/operativa/administrarOrdenes/TablaOrdenesPendientes.js","components/operativa/administrarOrdenes/ModalsTabla/ModalAgendar.js","components/operativa/administrarOrdenes/OrdenesPendientes.js","components/operativa/administrarOrdenes/columnas/columnasOtrasBandejas.js","components/operativa/administrarOrdenes/OrdenesExternas.js","views/Operativa/Administrar/AdministrarAverias.js","components/operativa/administrarOrdenes/columnas/columnasAnuladas.js","components/operativa/administrarOrdenes/OrdenesAnuladas.js","views/Operativa/Administrar/AdministrarAltas.js","routes/operativa/administrarOrdenes.js","views/Operativa/Administrar/AdministrarBasicas.js","views/Operativa/Administrar/AdministrarSpeedy.js","routes/operativa/index.js","routes.js","components/layout/NotFound.js","components/layout/PrivateRoute.js","views/SubirIndicadores.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["cargos","TODO","ADMINISTRADOR","JEFE_OPERACIONES","JEFE_LOGISTICA","LIDER_GESTION","ASISTENTE_LOGISTICA","JEFE_CONTRATA","GESTOR","ALMACENERO","AUDITOR","TECNICO","rutas","permisos","todos","listaContratas","grupoOperativa","administrarOrdenes","gestion","variables","urlApi","public","socket","TOKEN_STORAGE_KEY","logoPath","logoFull","version","formatosAdmitidos","io","transports","secure","reconnection","Contenedor","children","style","margin","borderRadius","span","padding","backgroundColor","WebkitBoxShadow","MozBoxShadow","boxShadow","Index","useState","listaImagenes","setListaImagenes","useEffect","emit","on","imagenes","e","console","log","cogoToast","error","position","off","fontSize","href","autoplay","length","map","img","i","minWidth","height","src","width","restAuth","config","a","closeLoading","loading","hideAfter","role","newAxiosRequest","axios","create","baseURL","then","data","hide","success","message","errors","Error","catch","err","response","errData","undefined","Object","keys","warn","request","restPrivate","toast","headers","Authorization","Cookie","get","status","String","remove","document","location","login","url","method","session","logout","AuthToken","token","this","decodedToken","nombre","id","cargo","imagen","gestor","exp","jwtDecode","isExpired","Date","expiresAt","Login","history","useHistory","values","set","push","isValid","type","justify","align","xs","sm","md","lg","xl","className","name","initialValues","remember","onFinish","Item","hasFeedback","rules","required","autoComplete","prefix","UserOutlined","placeholder","min","Password","LockOutlined","htmlType","SubMenu","Menu","Divider","ItemGroup","getPath","window","pathname","substring","items","titulo","grupo","key","icon","DashboardOutlined","ruta","TeamOutlined","IdcardOutlined","CarryOutOutlined","FileSearchOutlined","ScheduleOutlined","MenuUsuario","theme","mode","defaultSelectedKeys","includes","title","c","to","sub","Sider","Layout","collapsed","breakpoint","trigger","collapsible","alt","notifications","Notificaciones","visible","setVisible","placement","overlayClassName","onVisibleChange","v","content","itemLayout","dataSource","locale","emptyText","renderItem","item","Meta","lines","description","RightOutlined","count","dot","offset","BellOutlined","OpcionesUsuario","usuario","setUsuario","auth","cerrarSesion","color","marginRight","marginLeft","Text","SettingOutlined","onClick","PoweroffOutlined","PrivateLayout","WrappedComponent","spinLoading","setCollapsed","styleFooter","transition","clear","left","bottom","right","spinning","tip","size","Header","classnames","MenuUnfoldOutlined","MenuFoldOutlined","Content","minHeight","marginTop","Footer","props","state","spin","setState","Component","TituloVista","routes","breadcrumbName","subtitulo","breadcrumb","getEmpleados","metodo","page","limit","idFiltro","params","buscarEmpleado","value","field","patchEmpleados","fecha_baja","estado_empresa","auditor","negocio","subNegocio","columnas","tecnicos","password","newPassword1","newPassword2","postEmpleados","putEmpleados","empleados","contratas","ordenes","asistencias","avatares","Option","Select","path","listaRutas","exact","component","loadingUsuario","setLoadingUsuario","loadingActualizar","setLoadingActualizar","loadingContraseña","setLoadingContraseña","usuarioObj","setUsuarioObj","setPassword","setNewPassword1","setNewPassword2","finally","_id","limpiarInputs","cargarPerfil","cambiarInput","justifyContent","display","direction","addonBefore","onChange","currentTarget","marginBottom","apellidos","email","target","nacionalidad","fecha_nacimiento","moment","_","tipo_documento","numero_documento","Group","xxl","nivel","colores","warning","Pendiente","Completado","Iniciado","Suspendido","Cancelado","NoRealizada","gponAltas","hfcAltas","gponAverias","hfcAverias","gponRutinas","hfcRutinas","estadosToa","CANCELADO","COMPLETADO","INICIADO","NO_REALIZADA","PENDIENTE","SUSPENDIDO","bajas","ordenesB2B","ResumenOrdenes","filter","estado_toa","valueStyle","CheckCircleOutlined","AlertOutlined","tipoOrdenes","tipoTecnologia","tipoNegocio","text","subTipoNegocio","nodosLiteyca","ChartProduccion","paddinLeft","alignItems","autoFit","transpose","shape","animate","enter","duration","label","tooltip","Typography","ModalDetalleOrden","abrir","horas","devolucion","columnasDetalle","render","__","dataIndex","r","copyable","ellipsis","t","columnasExtras","f","format","row","fecha_pre_no_realizado","diff","columnasDevolucion","onOk","onCancel","footer","centered","rowKey","columns","generarColumnas","pagination","pageSize","bordered","scroll","y","x","ChartDevolucion","tipo","modalDetalle","setModalDetalle","ordenesDetalle","setOrdenesDetalle","abrirModalDetalle","abrirDetalle","adjust","fields","hora","dataGestoresLiquidados","setDataGestoresLiquidados","dataGestoresDevueltas","setDataGestoresDevueltas","checkTipo","setCheckTipo","ordenesGestoresDevoluciones","altas","devueltas","estado","subtipo_actividad","gestores","completo","listaOrdenada","forEach","total","cantidad","ordenesMotivoDevoluciones","motivos","motivo_no_realizado","motivo","replace","completadas","gestor_liquidado_toa","ordenesGestoresLiquidadas","checkedChildren","unCheckedChildren","checked","capitalizar","string","charAt","toUpperCase","slice","columnasResumen","showTitle","sorter","b","completado","o","iniciado","IssuesCloseOutlined","no_realizada","pendiente","suspendido","cancelado","columnasTotal","pageData","totalC","totalI","totalN","totalP","totalS","totalCan","totalT","Summary","Row","Cell","FieldTimeOutlined","ChartActividad","val","marginRatio","callback","fill","fontWeight","shared","TabIndicadorActividad","dataChart","background","summary","separarBucket","buckets","estados","newData","bucket","numOrdenes","d","separarContrata","contrata","g","separarGestor","ordenarResumen","tipos","nuevaData","ordenarResumenId","TabPane","Tabs","setNegocio","tecnologia","setTecnologia","ordenesFiltradas","setOrdenesFiltradas","Promise","resolve","filtroNegocio","filtroTecnologia","data2","averiaActicidad","altaActividad","rutinaActicidad","hfc","gpon","aplicarFiltros","disabled","paddingLeft","animated","tab","DatabaseOutlined","UsergroupAddOutlined","tecnico","IndicadorPorcentaje","plazo","vencidas","porcentaje","textAlign","gutter","p","strokeColor","percent","strokeWidth","gapDegree","trailColor","showInfo","TablaDetalle","setLoading","setHoras","setTimeout","indexNameColorMap","green","typeNameMap","vencido","appendPadding","indexCode","itemName","formatter","showMarkers","columnTitle","offsetY","eachView","view","facet","coordinate","columnIndex","axis","tickLine","line","columnValue","interval","interaction","setAltas","averias","setAverias","tipoAgenda","setTipoAgenda","bucketDetalle","setBucketDetalle","contrataDetalle","setContrataDetalle","gestorDetalle","setGestorDetalle","obtenerTcfl","fecha_registro_legados","Math","round","generarObjeto","averiasPlazo","averiasVencidas","altasPlazo","altasVencidas","averiasActividad","altasActividad","todoOrdenes","ordenesAgendas","tipo_cita","toLowerCase","averiasTCFL","altasTCFL","bucketsChart","obj","filtrarBucket","contratasChart","filtrarContrata","gestoresChart","filtrarGestor","filtrarOrdenes","todo","setListaContratas","contrataSeleccionada","setContrataSeleccionada","filtradosAverias","setFiltradosAverias","filtradosAltas","setFiltradosAltas","heightChart","setHeightChart","filtrarData","ordenesF","condicion","aux","listarContratas","tamaño","setOrdenes","horaActualizado","setHoraActualizado","jsonAverias","Array","JSON","parse","jsonAltas","IndicadoresLiquidacion","IndicadoresActividad","IndicadoresTCFL","IndicadoresProduccion","Search","Input","estadoEmpleado","ACTIVO","INACTIVO","CargoTag","EstadoTag","ExclamationCircleOutlined","CloseCircleOutlined","ModalEmpleado","accion","empleado","guardar","Number","now","empleadoObj","setEmpleadoObj","Form","useForm","form","cancelText","okText","validateFields","resetFields","info","destroyOnClose","layout","onValuesChange","allowClear","ModalPermisos","listarEmpleados","setCargo","defaultValue","ModalEstado","setEstado","fechaBaja","setFechaBaja","ModalConfiguracion","modalPermisos","setModalPermisos","modalEstados","setModalEstados","actualizarEmpleado","block","CaretUpOutlined","danger","EmpleadoAcciones","visibleEmpleado","setVisibleEmpleado","visibleConf","setVisibleConf","EditTwoTone","twoToneColor","paddingRight","SettingTwoTone","getContratas","postContrata","putContrata","patchContrata","ModalDetalle","abrirModal","column","fecha_ingreso","observacion","TablaEmpleados","pageNumber","setPageNumber","limitNumber","setLimitNumber","totalDocs","setTotalDocs","dataEmpleados","setDataEmpleados","modalCrear","setModalCrear","docs","abrirModalCrear","u","onRow","record","onDoubleClick","listarEmpleado","setEmpleados","tipoBusqueda","setTipoBusqueda","paddingTop","enterButton","onSearch","PlusOutlined","HeaderEmpleados","current","defaultPageSize","pageSizeOptions","onShowSizeChange","ModalContrata","setNombre","ruc","setRuc","fecha_incorporacion","setFecha_incorporacion","setObservacion","limpiarEstados","utc","date","ModalEliminar","activo","setActivo","setFecha_baja","limpiarModal","TablaContratas","dataContratas","setDataContratas","modalEditar","setModalEditar","modalEliminar","setModalEliminar","setContrata","cargarContratas","abrirModalEditar","abrirModalEliminar","DeleteTwoTone","TituloContent","obtenerFiltroId","persona","filtrosArray","isNull","findIndex","obtenerFiltroNombre","valoresTecnicos","carnet","tipo_negocio","sub_tipo_negocio","TablaTecnicos","loadingGestores","auditores","loadingAuditores","totalTecnicos","setTotalTecnicos","dataTecnicos","setDataTecnicos","loadingTecnicos","setLoadingTecnicos","loadingAsignarGestor","setLoadingAsignarGestor","loadingAsignarAuditor","setLoadingAsignarAuditor","loadingAsignarNegocio","setLoadingAsignarNegocio","loadingAsignarSubNegocio","setLoadingAsignarSubNegocio","tecnicosSeleccionados","setTecnicosSeleccionados","gestorSeleccionado","setGestorSeleccionado","auditorSeleccionado","setAuditorSeleccionado","negocioSeleccionado","setNegocioSeleccionado","subNegocioSeleccionado","setSubNegocioSeleccionado","filtroContrata","setFiltroContrata","filtroGestor","setFiltroGestor","filtroAuditor","setFiltroAuditor","saveAsCsv","useJsonToCsv","cargarEmpleados","asignarTecnico","exportarTecnicos","filename","realizarBusqueda","valor","indexOf","filters","onFilter","showSearch","filterOption","input","option","LoadingOutlined","n","rowSelection","columnWidth","selectedRowKeys","getAsistencias","fecha_inicio","fecha_fin","postAsistencias","fecha","patchAsistencia","ordenarAsistencia","reject","nuevoArray","fecha_registro","objetoNuevo","fecha_iniciado","dni","idEmpleado","ordenarAsistenciaGestor","ordenarAsistenciaAuditor","estadoAsistencia","FALTA","ASISTIO","TARDANZA","DESCANSO","PERMISO","DESCANSO_MEDICO","EXAMEN_MEDICO","VACACIONES","BAJA","GUARDIA","TextArea","ModalCrearAsistencia","actualizar","loadingCrear","setLoadingCrear","estadoSeleccionado","setEstadoSeleccionado","SaveOutlined","rows","cursor","toDate","ModalEditarAsistencia","ExcelAsistenciaTecnico","dias","exportarRef","useRef","colorCelda","AntColores","primary","headerOptions","bold","wrap","autoWidth","ExportOutlined","options","workbookOptions","sheets","indexEstado","indexEncontrados","cells","cell","borderBottom","borderLeft","borderRight","borderTop","save","guardarArchivo","fileName","ref","locked","headerCellOptions","cellOptions","RangePicker","DatePicker","TablaAsistenciasTecnicos","startOf","diaInicio","setDiaInicio","endOf","diaFin","setDiaFin","listaDias","setListaDias","setColumnas","dataAsistencias","setDataAsistencias","loadingAsistencia","setLoadingAsistencia","filtroGestores","setFiltroGestores","filtroAuditores","setFiltroAuditores","activas","rutasAverias","setRutasAverias","rutasAltas","setRutasAltas","rutasGpon","setRutasGpon","idAsistencia","setIdAsistencia","textoBusqueda","setTextoBusqueda","columnaBusqueda","setColumnaBusqueda","inputBusqueda","listarAsistencias","resultado","rutasAtivas","cambiarRango","hoy","firstColumn","getColumnSearchProps","columnsAux","destroyTooltipOnHide","days","add","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","node","onPressEnter","handleSearch","SearchOutlined","handleReset","filterIcon","filtered","toString","onFilterDropdownVisibleChange","select","highlightStyle","searchWords","autoEscape","textToHighlight","ReloadOutlined","suffix","ExcelAsistencia","TablaAsistenciasGestores","TablaAsistenciasAuditores","array","listaGestores","setListaGestores","setLoadingGestores","listaAuditores","setListaAuditores","setLoadingAuditores","cargarGestores","cargarAuditores","GroupOutlined","ClusterOutlined","CheckSquareOutlined","columnasDefecto","cabecera","propiedad","cabecera_2","averiasDireccion","espacio","cabecera_3","hfcLiquidadas","listaBuckets","listaEstadosGestor","codigosLiquidadasEfectivas","codigosLiquidadasInefectivas","codigosLiquidadasNoCorresponde","TagEstado","getOrdenes","codigo_cliente","id_ordenes","fechaInicio","fechaFin","postOrdenes","ordenesExternas","orden","putOrdenes","patchOrdenes","fecha_cita","patchFilesOrdenes","PopObservacion","listarOrdenes","cancelarPop","codigo_requerimiento","onConfirm","TagHoras","columnasBaseGestor","filtroTipo","filtroTimeSlot","abrirRegistro","fixed","req","strong","tipo_agenda","ts","PlusCircleTwoTone","columnasPendientesGestor","filtroDistrito","filtroBucket","filtroEstadoToa","filtroEstadoGestor","filtroTecnico","filtroTecnicoAsignado","filtroTipoRequerimiento","filtroTipoTecnologia","filtroCtr","filtroNodo","filtroTroba","abrirReiterada","abrirInfancia","tipo_requerimiento","tipo_tecnologia","codigo_ctr","codigo_nodo","codigo_troba","numero_reiterada","infancia","inf","distrito","direccion","bckt","estado_gestor","tecnico_liteyca","ordenDetalle","setOrdenDetalle","loadingDetalle","setLoadingDetalle","buscarDetalleOrden","telefono_contacto","telefono_referencia","nombre_cliente","detalle_trabajo","observacion_gestor","observacion_toa","codigo_peticion","codigo_trabajo","ModalColumnas","columnasBase","columnasUsuario","columnasSeleccionadas","setColumnasSeleccionadas","guardarConfiguracion","targetKeys","titles","listStyle","TablaOrdenes","asignadas","ordenesSeleccionadas","setOrdenesSeleccionadas","setColumnasUsuario","setFiltroDistrito","setFiltroBucket","setFiltroEstadoToa","setFiltroEstadoGestor","setFiltroTecnico","setFiltroTecnicoAsignado","setFiltroTipo","setFiltroTipoRequerimiento","setFiltroTipoTecnologia","setFiltroCtr","setFiltroNodo","setFiltroTroba","setFiltroTimeSlot","idOrdenDetalle","setIdOrdenDetalle","modalColumnas","setModalColumnas","setTipo","obtenerColumnasGestor","establacerFiltros","abrirModalColumnas","columnasAux","index","newColumns","base","splice","generarColumnasGestor","columnasSinBandejaGestor","registros","previewVisible","setPreviewVisible","previewImage","setPreviewImage","imagenPreview","EyeTwoTone","ModalInfancia","carnet_liquidado","ModalReiterada","dataOrdenes","setDataOrdenes","buscarReiteradas","cliente","getBase64","file","reader","FileReader","readAsDataURL","onload","result","onerror","actualizarEstado","fileList","setFileList","convertirBase64","originFileObj","preview","afterClose","accept","listType","beforeUpload","lista","onRemove","nuevaLista","uid","onPreview","multiple","UploadOutlined","ModalAgendarTecnico","agendar","bucketSeleccionado","setBucketSeleccionado","tecnicoSeleccionado","setTecnicoSeleccionado","fechaCita","setFechaCita","loadingAgendar","setLoadingAgendar","agendarOrden","confirmLoading","ModalAsignar","asignar","tecnicoIndexSeleccionado","setTecnicoIndexSeleccionado","listaTecnicosOrdenado","setListaTecnicosOrdenado","tipoAsignar","setTipoAsignar","ordenarListaTecnicos","asignarOrden","gestor_liteyca","tecnicosGestor","inputValue","some","colorEstado","colorHora","colorDia","dia","ExcelOrdenesPendientes","exportarExcel","infancia_registro","infancia_liquidado","fecha_liquidado","fecha_asignado","horas_registro","horas_asignado","dias_asignado","indexTipo","indexEstadoGestor","indexHoraRegistro","indexHoraAsignado","indexDiaAsignado","indexFechaCita","heigth","OrdenesPendientesGestor","listaOrdenes","setListaOrdenes","loadingOrdenes","setLoadingOrdenes","dataRegistros","setDataRegistros","dataInfancia","setDataInfancia","loadingEstado","setLoadingEstado","loadingRegistro","setLoadingRegistro","loadingAsignar","setLoadingAsignar","loadingExportar","setLoadingExportar","modalAgendar","setModalAgendar","modalReiterada","setModalReiterada","modalInfancia","setModalInfancia","modalEstado","setModalEstado","modalRegistro","setModalRegistro","modalAsignar","setModalAsignar","codigoCliente","setCodigoCliente","ordenesMetodo","buscarInfancia","buscarRegistro","id_orden","files","orden_imagen","FormData","append","stringify","abrirModalEstado","abrirModalAgendar","abrirModalReiterada","abrirModalInfancia","abrirModalRegistro","abrirModalAsignar","auxData","UserSwitchOutlined","FileSyncOutlined","overlay","arrow","ModalRegistro","ExcelOrdenesLiquidadas","numero","actualizarEstadoData","indexEstadoLiquidado","OrdenesLiquidadas","loadingBuscar","setLoadingBuscar","setFiltroTecnologia","setFechaInicio","setFechaFin","generarFiltros","tecnico_liquidado","columnasLiquidadasGestor","columnasGenerales","columnasAverias","columnasAltas","columnasOrdenesLiquidadas","OrdenesSinAsignar","diasSemana","setDiasSemana","cambiarSemana","weekStart","clone","weekEnd","picker","listaTecnicos","setListaTecnicos","cargarTecnicos","UnorderedListOutlined","InfoCircleOutlined","excel","rABS","readAsBinaryString","event","bstr","wb","XLSX","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","objeto","reduce","k","trim","readAsArrayBuffer","numeroFecha","numeroDeDias","setHours","getHours","unirHoraFecha","mes","anio","fechaCompleta","pendientesAverias","promises","indice","verificado","isEmpty","isNaN","valores","substr","all","liquidadasAverias","efectivas","inEfectivas","noCorresponde","iTecnico","tipo_liquidacion","estado_liquidado","pendientesAltas","liquidadasAltas","asignarValores","fragmentarArray","inicio","cantidadAux","dataAux","ActualizarOrdenes","tipoOrden","estadoOrden","setEstadoOrden","estadoArchivo","setEstadoArchivo","nombreArchivo","setNombreArchivo","ordenesObtenidas","setOrdenesObtenidas","ordenesTotal","setOrdenesTotal","loadingButton","setLoadingButton","setResultado","enviarOrdenesPendientes","res","resultadoAux","infoResponse","enviarOrdenesLiquidadas","spellCheck","convertirExcel","objJson","TagDias","ColumnasOrdenes","filtros","filtroGestorAsignado","filtroTecnicoToa","filtroTipoReq","filtroPai","filtroObservacion","filtroFechaCita","columnasGeneral","filteredValue","aling","indicador_pai","setFiltros","dataTotal","setDataTotal","setFiltroGestorAsignado","setFiltroTecnicoToa","setFiltroTipoReq","setFiltroPai","setFiltroObservacion","setFiltroFechaCita","cantidadFiltrados","setCantidadFiltrados","obtenerFiltroFecha","buscarRequerimiento","currentDataSource","columnasOrdenes","ModalAgendar","OrdenesPendientes","loadingCruzar","setLoadingCruzar","loadingComprobarInfancias","setLoadingComprobarInfancias","loadingInfancia","setLoadingInfancia","CloudSyncOutlined","SyncOutlined","ClearOutlined","TablaOrdenesPendientes","columnasOtrasBandejas","agenda","OrdenesExternas","columnasOrdenesAnuladas","OrdenesAnuladas","lisaRutas","CloudUploadOutlined","BugOutlined","rutasOperativa","gestionarAsistencia","arregloRutas","perfilUsuario","dashboard","gestionPersonal","operativa","NotFound","subTitle","extra","PrivateRoute","rest","SubirIndicadores","loadingImagenes","setLoadingImagenes","post","maxCount","App","es_ES","route","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","update","onUpdate","onSuccess","ReactDOM","getElementById","process","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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F,KAAM,QACN7F,MAAO,UAIE8F,GAAiB,CAC5B,CACED,KAAM,OACN7F,MAAO2F,IAET,CACEE,KAAM,MACN7F,MAAO2F,IAET,CACEE,KAAM,QACN7F,MA3BK,SA6BP,CACE6F,KAAM,WACN7F,MA9BQ,YAgCV,CACE6F,KAAM,WACN7F,MAjCQ,aAqCC+F,GAAe,CAC5B,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,Q,4BC3GeC,OA/Cf,YAAoE,IAAD,IAAzC1R,YAAyC,MAApC,GAAoC,EAAhC2L,EAAgC,EAAhCA,MAAO1M,EAAyB,EAAzBA,OAAyB,IAAjB0S,kBAAiB,MAAN,IAAM,EACjE,OAAK3R,GAAQA,EAAKpB,OAAS,EAEvB,qBACE3B,MAAO,CACLkC,MAAO,OACPF,OAAQA,EACRoP,QAAS,OACTuD,WAAY,SACZxD,eAAgB,UANpB,SASE,cAAC,KAAD,MAIF,eAAC,SAAD,CACEpO,KAAMA,EACNf,OAAQA,EACR5B,QAAS,CAAC,EAAE,GAAG,GAAGsU,GAClBE,SAAO,EAJT,UAME,cAAC,cAAD,CAAYC,WAAS,IACrB,cAAC,QAAD,CACEjO,KAAK,WAEP,cAAC,QAAD,CAAMA,KAAK,WAAWsD,SAAS,IAC/B,cAAC,KAAD,IACA,cAAC,Y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","file":"static/js/main.799b23a0.chunk.js","sourcesContent":["const cargos = {\r\n  TODO: [1,2,3,4,5,6,7,8],\r\n  ADMINISTRADOR: 1,\r\n  JEFE_OPERACIONES: 2,\r\n  JEFE_LOGISTICA: 3,\r\n  LIDER_GESTION: 4,\r\n  ASISTENTE_LOGISTICA: 5,\r\n  JEFE_CONTRATA: 6,\r\n  GESTOR: 7,\r\n  ALMACENERO: 8,\r\n  AUDITOR: 9,\r\n  TECNICO: 10\r\n};\r\n\r\nexport default cargos;","import cargos from './cargos';\r\n\r\nexport const rutas = {\r\n  login: \"/login\",\r\n  perfilUsuario: \"/perfil-usuario\",\r\n  resumenGeneral: \"/dashboard/resumen-general\",\r\n  indicadoresGpon: \"/dashboard/indicadores-gpon\",\r\n  indicadoresHfc: \"/dashboard/indicadores-hfc\",\r\n  resumenTcfl: \"/dashboard/resumen-tcfl\",\r\n  listaPersonal: \"/lista-personal\",\r\n  listaContratas: \"/lista-contratas\",\r\n  asignarRutas: \"/lista-rutas/asignar-rutas\",\r\n  listaAsistencia: \"/lista-rutas/asistencias\",\r\n  adminAveriasHfc: \"/administrar-ordenes/averias-hfc\",\r\n  adminAltasHfc: \"/administrar-ordenes/altas-hfc\",\r\n  adminBasicas: \"/administrar-ordenes/basicas\",\r\n  adminspeedy: \"/administrar-ordenes/speedy\",\r\n  gestionarAsistencia: \"/gestionar-ordenes/asistencia\",\r\n  gestionarListaOrdenes: \"/gestionar-ordenes/lista-ordenes\",\r\n  gestionarLiquidarOrdenes: \"/gestionar-ordenes/liquidar-ordenes\",\r\n};\r\n\r\nexport const permisos = {\r\n  todos: cargos.TODO,\r\n  listaContratas: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  grupoOperativa: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION,\r\n    cargos.JEFE_CONTRATA,\r\n    cargos.GESTOR\r\n  ],\r\n  administrarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  gestion: [\r\n    cargos.GESTOR\r\n  ]\r\n};","const variables = {\r\n  // 192.168.100.90\r\n  //https://atenea-v2.herokuapp.com/\r\n  urlApi: 'https://atenea-v2.herokuapp.com/api',\r\n  public: 'https://atenea-v2.herokuapp.com/',\r\n  socket: 'https://atenea-v2.herokuapp.com/',\r\n  TOKEN_STORAGE_KEY: 'atenea.authToken',\r\n  logoPath: '/icon.png',\r\n  logoFull: '/iconL.png',\r\n  version: '0.0.32',\r\n  formatosAdmitidos: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n};\r\n\r\nexport default variables;","import * as io from 'socket.io-client';\r\nimport variables from \"../constants/config\";\r\n\r\nexport const socket = io(variables.socket, { transports: ['websocket'], secure: true, reconnection: true  });","import React from 'react'\r\nimport { Col, Row } from 'antd';\r\n\r\nexport default function Contenedor({children}) {\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '0 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n  return (\r\n    <Row style={style_row}>\r\n      <Col span={24} style={style_col}>\r\n      {children}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Carousel, Image } from 'antd';\r\n\r\nimport { socket } from '../services/socket';\r\nimport Contenedor from '../components/common/Contenedor';\r\nimport { rutas } from '../constants/listaRutas'\r\nimport cogoToast from 'cogo-toast';\r\n\r\nexport default function Index() {\r\n  const [listaImagenes, setListaImagenes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.emit('enviarIndicadores');\r\n    \r\n    socket.on('indicadoresimagenes', (imagenes) => {\r\n      setListaImagenes(imagenes);\r\n    });\r\n\r\n    socket.on('error', (e) => {\r\n      console.log(e);\r\n      cogoToast.error('Error conectando al servidor.', { position: 'top-left' })\r\n    });\r\n\r\n    return () => {\r\n      socket.off('indicadoresimagenes');\r\n    };\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  return (\r\n    <div>\r\n      <Contenedor>\r\n        <div style={{ fontSize: \"1.5rem\" }}>\r\n          <a href={rutas.login}>login</a>\r\n        </div><br/><br/>\r\n        <Carousel autoplay>\r\n        {\r\n          listaImagenes && listaImagenes.length > 0 ?\r\n          listaImagenes.map((img, i) => img? (<div key={i} style={{ minWidth: '100vw', height: '80vh' }}>\r\n            <Image src={img} width=\"100vw\" height=\"80vh\"/>\r\n          </div>) :null)\r\n          :null\r\n        }\r\n        </Carousel>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}","// eslint-disable-next-line no-unused-vars\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport Cookie from \"js-cookie\";\r\nimport cogoToast from 'cogo-toast';\r\n//objeto con variables del sistema (direccion url de la api)\r\nimport variables from '../constants/config';\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config - Objeto con las variables de configuracion de axios\r\n*/\r\nexport const restAuth = async (config) => {\r\n  //iniciar toast de loading\r\n  const closeLoading = cogoToast.loading('Iniciando sesión...', {\r\n    hideAfter: 0, position: 'top-right', role: \"success\"\r\n  });\r\n  //inicializar objeto para realiuzar la consulta (axios)\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi\r\n  });\r\n  //retorna la peticion, y se extrae la propiedad \"data\"\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    //una vez que se obtiene la respuesta se debe \r\n    //cerrar el toast de loading\r\n    closeLoading.hide();\r\n    //si se encuentra la data enviarla al fron\r\n    if (data && data.data) {\r\n      cogoToast.success(data.message, { position: 'top-right' })\r\n      return ({data: data.data, errors: false});\r\n    } else {\r\n    //error que salta al no poder obtener la data del data\r\n      cogoToast.error('No se puede obtener la data' ,{ position: 'top-right'})\r\n      throw Error(\"No se puede obtener la data\");\r\n    }\r\n  }).catch(err => {\r\n    //en caso de error cerrar el loading\r\n    closeLoading.hide();\r\n    //enviar un mensaje en escenario posible dependiendo del error\r\n    if (err.response) {\r\n      //mostrar el error por consola\r\n      console.log(err.response);\r\n      //guardar la informacion del error en un avariables\r\n      const errData = (err.response.data);\r\n      //mostrar como mensaje el primero error que muestre\r\n      const message = errData[Object.keys(errData)[0]] !== undefined ? \r\n        errData[Object.keys(errData)[0]] \r\n        : 'Error en la solicitud.';\r\n      //enviar un aviso con el mensaje de error\r\n      cogoToast.warn( message, { position: 'top-right' });\r\n      //retornar le data vacia\r\n      return {\r\n        data: false, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config\r\n * @param {boolean} toast false si no se quiere mostrar el toast\r\n*/\r\nexport const restPrivate = async (config, toast) => {\r\n  let closeLoading;\r\n  if (toast) {\r\n    closeLoading = cogoToast.loading('Cargando...', {\r\n      hideAfter: 0, position: 'top-right', role: \"success\"\r\n    });\r\n  }\r\n\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi,\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookie.get(variables.TOKEN_STORAGE_KEY)\r\n    }\r\n  });\r\n\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    if (toast) {\r\n      closeLoading.hide();\r\n      cogoToast[data.status ? data.status : 'error'](data.message, { position: 'top-right' })\r\n    }\r\n    return (data);\r\n  }).catch(err => {\r\n    if (toast) closeLoading.hide();\r\n    if (err.response) {\r\n      const errData = err.response.data;\r\n      if (String(err.response.status) === \"401\") {\r\n        cogoToast.error('Token Invalido, cerrando sesión.',\r\n        { position: 'top-right'});\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        document.location.href=\"/login\";\r\n      } else {\r\n        cogoToast.warn( errData.message !== 'undefined' ? errData.message : 'Error en la solicitud.',\r\n        { position: 'top-right'})\r\n      }\r\n      return {\r\n        data: null, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};","import { restAuth, restPrivate } from './requestHelper';\r\n\r\nexport const login = async (data) => restAuth({\r\n  url: 'private/auth/login', method: 'POST', data\r\n});\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const session = async (toast) => restPrivate({\r\n  url: 'private/auth/session', method: 'GET'\r\n}, toast);\r\n/**\r\n * @param {boolean} toast \r\n */\r\nexport const logout = async (toast=true) => restPrivate({\r\n  url: 'private/auth/logout', method: 'GET'\r\n}, toast);\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport class AuthToken {\r\n  constructor(token) {\r\n    this.decodedToken = { \r\n      nombre: null,\r\n      id: null,\r\n      cargo: null,\r\n      imagen: null,\r\n      gestor: null, \r\n      exp: 0 \r\n    };\r\n    \r\n    try {\r\n      if (token) this.decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      console.log('Error');\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  get isValid() {\r\n    return !this.isExpired;\r\n  }\r\n\r\n  get expiresAt() {\r\n    return new Date(this.decodedToken.exp * 1000);\r\n  }\r\n\r\n  get isExpired() {\r\n    return new Date() > this.expiresAt;\r\n  }\r\n\r\n  get authorizationString() {\r\n    return `Bearer ${this.token}`;\r\n  }\r\n};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookie from \"js-cookie\";\r\nimport { Col, Row, Form, Input, Button } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nimport { login } from '../services/apiUsuario';\r\nimport variables from '../constants/config';\r\nimport { rutas } from '../constants/listaRutas';\r\nimport { AuthToken } from '../services/authToken';\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth.isValid) {\r\n      history.push(rutas.resumenGeneral);\r\n    };\r\n  },[history]);\r\n\r\n  async function enviarFormulario(values) {\r\n    await login(values).then((data) => {\r\n      if (data.data && !data.errors) {\r\n        Cookie.set(variables.TOKEN_STORAGE_KEY, data.data);\r\n        history.push(rutas.resumenGeneral);\r\n      }\r\n    }).catch((error) => {\r\n      console.log('error');\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\" style={{backgroundColor: 'rgb(242, 242, 247)', height: '100vh'}}>\r\n        <Col xs={20} sm={12} md={8} lg={6} xl={5}>\r\n          <div className=\"contenedor-padre\">\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{remember: true}}\r\n              onFinish={enviarFormulario}\r\n            >\r\n              <div className=\"logoForm\"/>\r\n              <Form.Item\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una correo!'\r\n                  },\r\n                  {\r\n                    type: 'email',\r\n                    message: '¡Ingresa un email válido!'\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  autoComplete=\"current-email\"\r\n                  type=\"email\"\r\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                  placeholder=\"Correo\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una contraseña válida!',\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message: '¡La contraseña debe tener mas de 6 carácteres!',\r\n                  }\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  autoComplete=\"current-password\"\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Contraseña\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                  Acceder\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DashboardOutlined,\r\n  ScheduleOutlined,\r\n  TeamOutlined,\r\n  IdcardOutlined,\r\n  CarryOutOutlined,\r\n  FileSearchOutlined,\r\n  // HistoryOutlined,\r\n  // GroupOutlined,\r\n  // ExportOutlined,\r\n  // ImportOutlined,\r\n  // CloudServerOutlined,\r\n  // GoldOutlined,\r\n  // SlidersOutlined,\r\n  // TableOutlined,\r\n  // SearchOutlined,\r\n  // FieldTimeOutlined,\r\n  // ShopOutlined,\r\n  // BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\n\r\nimport { rutas, permisos } from '../../../constants/listaRutas';\r\n\r\nconst { SubMenu, Item, Divider, ItemGroup } = Menu;\r\n\r\nconst getPath = () => {return String(window.location.pathname).substring(1)};\r\n\r\nconst items = [\r\n  {\r\n    permisos: [...permisos.todos, 9],\r\n    titulo: 'Panel de Control',\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'sub100',\r\n        icon: DashboardOutlined,\r\n        titulo: 'Dashboard',\r\n        permisos: permisos.todos,\r\n        children: [\r\n          {\r\n            ruta: rutas.resumenGeneral,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Resumen General'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.todos,\r\n    titulo: 'Usuarios y Contratas',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaPersonal,\r\n        icon: TeamOutlined,\r\n        permisos: permisos.todos,\r\n        titulo: 'Lista de Personal'\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaContratas,\r\n        icon: IdcardOutlined,\r\n        permisos: permisos.listaContratas,\r\n        titulo: 'Lista de Contratas'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.grupoOperativa,\r\n    titulo: 'Operativa',\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'listaRutas',\r\n        icon: CarryOutOutlined,\r\n        titulo: 'Lista Rutas',\r\n        permisos: permisos.administrarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.asignarRutas,\r\n            icon: CarryOutOutlined,\r\n            titulo: 'Asignar Rutas'\r\n          },\r\n          {\r\n            ruta: rutas.listaAsistencia,\r\n            icon: CarryOutOutlined,\r\n            titulo: 'Asistencias'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.gestionarAsistencia,\r\n        icon: CarryOutOutlined,\r\n        permisos: permisos.gestion,\r\n        titulo: 'Asistencia'\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub98',\r\n        icon: FileSearchOutlined,\r\n        titulo: 'Administrar ordenes',\r\n        permisos: permisos.administrarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.adminAveriasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminAltasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminBasicas,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.adminspeedy,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub97',\r\n        icon: ScheduleOutlined,\r\n        titulo: 'Gestionar ordenes',\r\n        permisos: permisos.gestion,\r\n        children: [\r\n          {\r\n            ruta: rutas.gestionarListaOrdenes,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Lista de Ordenes'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarLiquidarOrdenes,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Liquidar Orden'\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n// eslint-disable-next-line\r\nfunction MenuUsuario({cargo}) {\r\n  if (!cargo) {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n        <ItemGroup title='Panel de Control'>\r\n          <Divider/>\r\n          <Item key=\"dashboard\">\r\n            <Link to={rutas.resumenGeneral}>\r\n            <DashboardOutlined />\r\n            <span>Dashboard</span>\r\n            </Link>\r\n          </Item>\r\n        </ItemGroup>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n      {\r\n        items.map((e,i) =>(\r\n          e.permisos.includes(cargo) ?\r\n          (<ItemGroup title={e.titulo} key={i}>\r\n            <Divider/>\r\n            {e.children.map((c) => (\r\n                !c.grupo && c.permisos.includes(cargo) ?\r\n                (<Item key={String(c.ruta).substring(1)}>\r\n                  <Link to={c.ruta}>\r\n                    <c.icon/>\r\n                    <span>{c.titulo}</span>\r\n                  </Link>\r\n                </Item>)\r\n                :\r\n                c.grupo && c.permisos.includes(cargo) ?\r\n                (<SubMenu \r\n                  key={c.key}\r\n                  title={\r\n                    <span>\r\n                      <c.icon/>\r\n                      <span>{c.titulo}</span>\r\n                    </span>\r\n                  }\r\n                >\r\n                  {c.children.map((sub) => (\r\n                    <Item key={String(sub.ruta).substring(1)}>\r\n                      <Link to={sub.ruta}>\r\n                        <sub.icon/>\r\n                        <span>{sub.titulo}</span>\r\n                      </Link>\r\n                    </Item>\r\n                  ))}\r\n                </SubMenu>):null\r\n            ))}\r\n          </ItemGroup>):null  \r\n        ))\r\n      }\r\n      </Menu>\r\n    )\r\n  };\r\n};\r\n\r\nMenuUsuario.propTypes = {\r\n  cargo: PropTypes.number\r\n}\r\n\r\nexport default MenuUsuario;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Layout } from 'antd';\r\n\r\nimport MenuUsuario from './MenuUsuario';\r\nimport config from '../../../constants/config';\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Index = ({collapsed, cargo}) => {\r\n  return (\r\n    <Sider \r\n      width={256}\r\n      theme=\"light\" \r\n      breakpoint=\"lg\"\r\n      trigger={null} \r\n      collapsible \r\n      collapsed={collapsed} \r\n      className=\"sider\"\r\n    >\r\n      <div className=\"brand\">\r\n      {!collapsed ? \r\n        <div className=\"full-logo\">\r\n          <img alt=\"full-logo\" src={config.logoFull} />\r\n        </div> \r\n        : \r\n        <div className=\"logo\">\r\n          <img alt=\"logo\" src={config.logoPath} />\r\n        </div>\r\n            \r\n      }\r\n      </div>\r\n      <div className=\"menu-container\">\r\n        <MenuUsuario cargo={cargo}/>\r\n      </div>\r\n    </Sider>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  collapsed: PropTypes.bool\r\n};\r\n\r\nexport default Index;\r\n","import React, { useState } from 'react';\r\nimport { Popover, Badge, List } from 'antd';\r\nimport { BellOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\n// import StateIcon from '../../common/StateIcon'\r\n\r\nconst notifications = [{title:'Hola', icon: 'success'},{title:'Hola', icon: 'error'}, {title:'Hola', icon: 'warning'}];\r\n\r\nconst Notificaciones = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <Popover\r\n      trigger=\"click\"\r\n      placement=\"bottomRight\"\r\n      overlayClassName=\"notification-popover\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n      content={\r\n        <div className=\"caja-notificaciones\" style={{ minWidth: '20rem' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={notifications}\r\n            locale={{\r\n              emptyText: <span>You have viewed all notifications.</span>,\r\n            }}\r\n            renderItem={item => (\r\n              <List.Item className=\"item-notificaciones\">\r\n                {/* <StateIcon \r\n                  estado={item.icon} \r\n                  style={{fontSize: '2rem', paddingRight: '.8rem'}}\r\n                /> */}\r\n                <List.Item.Meta\r\n                  className=\"datos-notificaciones\"                \r\n                  title={\r\n                    <span lines={1}>\r\n                      Orden Actualizada\r\n                    </span>\r\n                  }\r\n                  description=\"hola k tal como te va\"\r\n                />\r\n                <RightOutlined className=\"flecha-notificaciones\"/>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {notifications.length ? (\r\n            <div\r\n              // onClick={onAllNotificationsRead}\r\n              className=\"clear-button\"\r\n            >\r\n              <span>Limpiar Notificaciones</span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      }\r\n    >\r\n       <Badge\r\n        count={0}//numero de notificaciones\r\n        dot\r\n        offset={[-10, 10]}\r\n        className=\"icon-button\"\r\n      >\r\n        <BellOutlined className=\"icon-font\"/>\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n};\r\n\r\nexport default Notificaciones;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Avatar, Typography } from 'antd';\r\nimport { PoweroffOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from '../../../constants/config';\r\nimport { AuthToken } from '../../../services/authToken';\r\nimport { logout } from '../../../services/apiUsuario';\r\nimport { rutas } from '../../../constants/listaRutas';\r\n\r\nexport default function OpcionesUsuario() { \r\n  const [usuario, setUsuario] = useState(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth) {\r\n      setUsuario(auth.decodedToken);\r\n    }\r\n  },[]);\r\n\r\n  const cerrarSesion = async () => {\r\n    await logout().then(async(response) => {//cerró sesion correctamente\r\n      if (response.status !== 'error') {\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        history.push('/login');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      console.log('Error cerrando sesión.')\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Menu key=\"user\" mode=\"horizontal\" >\r\n      <Menu.SubMenu\r\n        title={\r\n          <Fragment>\r\n            <span style={{ color: '#999', marginRight: 4 }}>\r\n              <span>Hola,</span>\r\n            </span>\r\n            <span>{usuario&&usuario.nombre}</span>\r\n            <Avatar style={{ marginLeft: 8 }} src={usuario&&usuario.imagen} />\r\n          </Fragment>\r\n        }\r\n      >\r\n        <Menu.Item key=\"Configuraciones\">\r\n          <Typography.Text type=\"sucess\">\r\n            <Link to={rutas.perfilUsuario}>\r\n              <SettingOutlined />\r\n              Configuraciones\r\n            </Link>\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"SignOut\" onClick={cerrarSesion}>\r\n          <Typography.Text type=\"danger\">\r\n            <PoweroffOutlined/>\r\n            {/* <Trans>Sign out</Trans> */}Desconectar\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Layout, Spin } from 'antd';\r\nimport Sider from './Sider/index';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport config from '../../constants/config';\r\nimport Notificaciones from './Header/Notificaciones';\r\nimport OpcionesUsuario from './Header/OpcionesUsuario';\r\nimport PrivateLayout from './PrivateLayout';\r\n\r\nvar anchoContenedor = '256px';\r\n\r\nfunction Index({children, spinLoading, cargo}) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  if (collapsed) {\r\n    anchoContenedor = '80px'\r\n  } else {\r\n    anchoContenedor = '256px'\r\n  }\r\n\r\n  const styleContent = {\r\n    minHeight: 'calc(100vh - 94px - 3rem)',\r\n    marginTop: '.5rem',\r\n    // margin: `1rem`,\r\n    transition: 'margin .2s'\r\n  }\r\n  \r\n  const styleFooter = {\r\n    backgroundColor: 'white',\r\n    width: `100%`,\r\n    margin: `0px`,\r\n    padding: '16px 16px 24px 10px',\r\n    transition: 'margin .2s',\r\n    clear: 'both',\r\n    left: anchoContenedor,\r\n    bottom: 0,\r\n    right: 0\r\n  }\r\n\r\n  return (\r\n    <Spin \r\n      spinning={spinLoading} \r\n      tip=\"Cargando Interfaz...\" \r\n      size=\"large\"\r\n      className=\"spin-container\"\r\n    >\r\n      <Layout>\r\n        <Sider collapsed={collapsed} cargo={cargo}/>\r\n        <Layout className=\"site-layout\">\r\n          <Layout.Header \r\n            style={{ minWidth: collapsed && 'calc(100vw - 95px)'}}\r\n            className={classnames(\"header\", {\r\n              \"collapsed\": collapsed,\r\n            })}\r\n            id=\"layoutHeader\"\r\n          >\r\n          <div className=\"button\" onClick={() => setCollapsed(!collapsed)}>\r\n            {\r\n              collapsed ?\r\n              <MenuUnfoldOutlined className=\"text-primary\"/> : \r\n              <MenuFoldOutlined/>\r\n            }\r\n            </div>\r\n            <div className=\"right-container\">\r\n              <Notificaciones/>\r\n              <OpcionesUsuario/>\r\n            </div>\r\n          </Layout.Header>\r\n          <Layout.Content\r\n            className=\"site-layout-background\"\r\n            style={styleContent}\r\n          >\r\n            {children}\r\n          </Layout.Content>\r\n          <Layout.Footer style={styleFooter}>\r\n            Atenea System v{config.version} - 2020&copy;\r\n          </Layout.Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default PrivateLayout(Index)","import React, { Component } from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { rutas } from '../../constants/listaRutas';\r\nimport { session } from \"../../services/apiUsuario\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\n\r\nexport default function PrivateLayout(WrappedComponent) {\r\n  return class extends Component {  \r\n\r\n    constructor(props)   {\r\n      super(props)\r\n      this.state = {\r\n        spin: true,\r\n        cargo: null,\r\n      }\r\n    }\r\n    async componentDidMount() {\r\n      const token = Cookie.get(variables.TOKEN_STORAGE_KEY);\r\n      if (!token) {\r\n        document.location.href = (rutas.login);\r\n      } else {\r\n        const usuario = new AuthToken(token);\r\n        await session(true).then((data) => {\r\n          if(data.status === 'error') {\r\n            Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n            document.location.href = (rutas.login);\r\n          } else {\r\n            this.setState({spin: false, cargo: usuario.decodedToken.cargo })\r\n          }\r\n        }).catch((error) => {\r\n          this.setState({spin: false})\r\n          console.log(error);\r\n          console.log('error de sesion en (PrivateRoutes)');\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} spinLoading={this.state.spin} cargo={this.state.cargo}/>;\r\n    }\r\n  };\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from 'antd';\r\n\r\nconst TituloVista = ({titulo, subtitulo}) => {\r\n  const routes = [\r\n    {\r\n      breadcrumbName: subtitulo,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader\r\n      className=\"site-page-header\"\r\n      title={titulo}\r\n      breadcrumb={{routes}}\r\n    />\r\n  )\r\n};\r\n\r\nTituloVista.propTypes = {\r\n  titulo: PropTypes.string,\r\n  subtitulo: PropTypes.string\r\n}\r\n\r\nexport default TituloVista\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {string} parametros.idFiltro\r\n */\r\nexport const getEmpleados = async (toast, {metodo, page, limit, idFiltro}) => restPrivate({\r\n  url: 'empleados', method: 'GET', params: {metodo, page, limit, idFiltro}\r\n}, toast);\r\n\r\n/**\r\n * @param {string} value \r\n * @param {string} field \r\n */\r\nexport const buscarEmpleado = async (value, field) => restPrivate({\r\n  url: 'empleados/buscar', method: 'GET', params: { value, field }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {boolean} toast validar si mostrará avisos\r\n * @param {object} data\r\n * @param {string} data.id\r\n * @param {string} data.metodo el metodo\r\n * @param {number} data.cargo cargo a modificar\r\n * @param {Date} data.fecha_baja fecha de baja\r\n * @param {number} data.estado_empresa estado dentro de la empresa\r\n * @param {string} data.gestor\r\n * @param {string} data.negocio\r\n * @param {string} data.subNegocio\r\n * @param {string} data.columnas\r\n * @param {string} data.tecnicos\r\n * @param {string} data.password\r\n * @param {string} data.newPassword1\r\n * @param {string} data.newPassword2\r\n */\r\nexport const patchEmpleados = async (\r\n  toast, { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor,negocio, subNegocio, columnas, tecnicos, password, newPassword1, newPassword2 }\r\n) => restPrivate({\r\n  url: 'empleados', \r\n  method: 'PATCH', \r\n  data: { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor,negocio, subNegocio, columnas, tecnicos, password, newPassword1, newPassword2 }\r\n}, toast);\r\n\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postEmpleados = async (data) => restPrivate({\r\n  url: 'empleados', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id id del empleado\r\n * @param {object} data objeto a actualizar\r\n */\r\nexport const putEmpleados = async (id, data) => restPrivate({\r\n  url: 'empleados/' + id, method: 'PUT', data\r\n}, true);\r\n\r\n","export const empleados = {\r\n  PERFIL_USUARIO: 'perfilUsuario',\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_TECNICOS_GLOBAL: 'listaTecnicosGlobal',\r\n  LISTA_TECNICOS_GESTOR: 'listaTecnicosGestor',\r\n  LISTA_GESTORES: 'listaGestores',\r\n  LISTA_AUDITORES: 'listaAuditores',\r\n  OBTENER_COLUMNAS: 'obtenerColumnas',\r\n  RESET_PASS: 'resetPassword',\r\n  CERRAR_SESSION: 'cerrarSesion',\r\n  ACTUALIZAR_CARGO: 'actualizarPermisos',\r\n  ACTIVAR_CUENTA: 'activarCuenta',\r\n  EDITAR_ESTADO: 'editarEstadoEmpresa',\r\n  ACTUALIZAR_GESTOR: 'actualizarGestor',\r\n  ACTUALIZAR_AUDITOR: 'actualizarAuditor',\r\n  ACTUALIZAR_NEGOCIO: 'actualizarNegocio',\r\n  ACTUALIZAR_SUB_NEGOCIO: 'actualizarSubNegocio',\r\n  ACTUALIZAR_COLUMNAS_GESTOR: 'actualizarColumnasGestor',\r\n  ACTUALIZAR_CONTRASEÑA: 'actualizarContraseña'\r\n};\r\n\r\nexport const contratas = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_NOMBRES: 'listaNombres'\r\n};\r\n\r\nexport const ordenes = {\r\n  SUBIR_DATA: 'subirData',\r\n  COMPROBAR_INFANCIAS: 'comprobarInfancias',\r\n  SUBIR_INFANCIAS_EXTERNAS: 'subirInfanciasExternas',\r\n  ACTUALIZAR_DATA: 'actualizarLiquidadas',\r\n  CRUZAR_DATA: 'cruzarData',\r\n  ORDENES_HOY: 'obtenerOrdenesPendientes',\r\n  ORDENES_LIQUIDADAS: 'obtenerOrdenesLiquidadas',\r\n  ORDENES_ANULADAS: 'obtenerOrdenesAnuladas',\r\n  ORDENES_OTRAS_BANDEJAS: 'obtenerOrdenesOtrasBandejas',\r\n  EXPORTAR_PENDIENTES: 'exportarPendientes',\r\n  EXPORTAR_LIQUIDADAS: 'exportarLiquidadas',\r\n  EXPORTAR_PENDIENTES_GESTOR: 'exportarPendientesGestor',\r\n  ORDENES_HOY_GESTOR: 'obtenerOrdenesPendientesGestor',\r\n  BUSCAR_REITERADA: 'buscarReiterada',\r\n  BUSCAR_INFANCIA: 'buscarInfancia',\r\n  BUSCAR_REGISTROS: 'buscarRegistro',\r\n  BUSCAR_DETALLE: 'obtenerDetalleOrden',\r\n  AGENDAR_ORDEN: 'agendarOrden',\r\n  AGENDAR_ORDEN_GESTOR: 'agendarOrdenGestor',\r\n  ASIGNAR_ORDEN: 'asignarOrden',\r\n  ACTUALIZAR_ESTADO: 'actualizarEstado',\r\n  AGREGAR_OBSERVACION: 'agregarObservacion',\r\n  // DEVOLVER_ORDEN: 'devolverOrden'\r\n};\r\n\r\nexport const asistencias = {\r\n  LISTAR_TODO: 'listarTodo',\r\n  LISTAR_GESTOR: 'listarGestor'\r\n}","export const avatares = [\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847830/avatars/daniel_fbzpxm.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847803/avatars/stevie_g4dcxw.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847793/avatars/veronika_ydt9xq.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847792/avatars/nan_ng0uzp.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847790/avatars/justen_oprd2m.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847788/avatars/jenny_goini9.jpg',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847786/avatars/elyse_tqzbdt.png',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847983/avatars/matthew_wwdp4r.png',\r\n  'https://res.cloudinary.com/liteyca/image/upload/v1613847771/avatars/elliot_dpwphr.jpg',\r\n];","import React, { useState, useEffect } from 'react';\r\nimport { Avatar, Button, Col, DatePicker, Image, Input, Radio, Row, Select, Space, Spin } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../components/common/Contenedor';\r\nimport TituloVista from '../components/common/TituloContent';\r\nimport { getEmpleados, patchEmpleados, putEmpleados } from '../services/apiEmpleado';\r\nimport { empleados } from '../constants/metodos';\r\nimport { avatares } from '../constants/avatares';\r\nimport cogoToast from 'cogo-toast';\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function PerfilUsuario() {\r\n  const [loadingUsuario, setLoadingUsuario] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [loadingContraseña, setLoadingContraseña] = useState(false);\r\n  const [usuarioObj, setUsuarioObj] = useState({});\r\n  const [password, setPassword] = useState(null);\r\n  const [newPassword1, setNewPassword1] = useState(null);\r\n  const [newPassword2, setNewPassword2] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cargarPerfil();\r\n  },[]);\r\n\r\n  async function cargarPerfil() {\r\n    setLoadingUsuario(true);\r\n    return await getEmpleados( true, { metodo: empleados.PERFIL_USUARIO })\r\n      .then(({data}) => {\r\n        if (data) { setUsuarioObj(data); } \r\n        else { setUsuarioObj({}); };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingUsuario(false));\r\n  };\r\n\r\n  async function actualizarPerfil() {\r\n    if (usuarioObj._id) {\r\n      setLoadingActualizar(true);\r\n      return await putEmpleados( usuarioObj._id, usuarioObj )\r\n        .catch((e) => console.log(e))\r\n        .finally(() => setLoadingActualizar(false));\r\n    } else {\r\n      cogoToast.warn('No se encontró el id del usuario.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  async function actualizarContraseña() {\r\n    if (usuarioObj._id) {\r\n      setLoadingContraseña(true);\r\n      return await patchEmpleados(true, { id: usuarioObj._id, metodo: empleados.ACTUALIZAR_CONTRASEÑA, password, newPassword1, newPassword2 })\r\n        .catch((e) => console.log(e))\r\n        .finally(() => {\r\n          limpiarInputs()\r\n          setLoadingContraseña(false)\r\n        });\r\n    } else {\r\n      cogoToast.warn('No se encontró el id del usuario.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  const cambiarInput = (field, value) => {\r\n    setUsuarioObj({\r\n      ...usuarioObj,\r\n      [field]: value\r\n    })\r\n  };\r\n\r\n  const limpiarInputs = () => {\r\n    setPassword(null);\r\n    setNewPassword1(null);\r\n    setNewPassword2(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Datos de Usuario\" subtitulo=\"Perfil\"/>\r\n      <Contenedor>\r\n        {\r\n          loadingUsuario ? <div style={{ margin: '2rem', justifyContent: 'center', display: 'flex' }}><Spin spinning size=\"large\"/></div> :\r\n          <div style={{ margin: '1rem .5rem' }}>\r\n            <h3>Editar Datos Personales:</h3>\r\n            <Row style={{ margin: '1rem 0' }}>\r\n              <Col sm={12}>\r\n                <Space direction=\"vertical\">\r\n                  <Input \r\n                    addonBefore=\"Nombre:\" \r\n                    placeholder=\"Nombre\" \r\n                    style={{ width: '400px' }} \r\n                    value={usuarioObj.nombre ? usuarioObj.nombre : null}\r\n                    onChange={(e) => cambiarInput('nombre', e.currentTarget.value)}\r\n                  />\r\n                  <Input \r\n                    addonBefore=\"Apellidos:\" \r\n                    placeholder=\"Apellidos\" \r\n                    style={{ width: '400px', marginBottom: '.5rem' }}\r\n                    value={usuarioObj.apellidos ? usuarioObj.apellidos : null}\r\n                    onChange={(e) => cambiarInput('apellidos', e.currentTarget.value)}\r\n                  />\r\n                  <Input \r\n                    addonBefore=\"Correo:\" \r\n                    placeholder=\"Correo\" \r\n                    style={{ width: '400px', marginBottom: '.5rem' }}\r\n                    value={ usuarioObj.usuario && usuarioObj.usuario.email ? usuarioObj.usuario.email : null }\r\n                    onChange={(e) => setUsuarioObj({...usuarioObj, usuario: { ...usuarioObj.usuario, email: e.target.value }})}\r\n                  />\r\n                  <Input \r\n                    onChange={(e) => cambiarInput('nacionalidad', e.currentTarget.value)} \r\n                    value={usuarioObj.nacionalidad ? usuarioObj.nacionalidad : null}\r\n                    addonBefore=\"Nacionalidad\" \r\n                    placeholder=\"Nacionalidad\" \r\n                    style={{ width: '400px' }}\r\n                  />\r\n                </Space>\r\n              </Col>\r\n              <Col sm={12}>\r\n                <Space direction=\"vertical\">\r\n                  <span>Fecha de Nacimiento:</span>\r\n                  <DatePicker \r\n                    placeholder=\"Fecha de Nacimiento\" \r\n                    style={{ width: '400px' }}\r\n                    value={usuarioObj.fecha_nacimiento ? moment(usuarioObj.fecha_nacimiento) : null}\r\n                    onChange={(_, e) => cambiarInput('fecha_nacimiento', e)}\r\n                  />\r\n                  <span>Tipo de Documento:</span>\r\n                  <Select onChange={(e) => cambiarInput('tipo_documento', e)} value={usuarioObj.tipo_documento ? usuarioObj.tipo_documento : null} style={{ width: '400px' }} placeholder=\"Seleccionar tipo de Documento\">\r\n                    <Option value=\"DNI\">DNI</Option>\r\n                    <Option value=\"Otro\">Otros</Option>\r\n                  </Select>\r\n                  <Input \r\n                    onChange={(e) => cambiarInput('numero_documento', e.currentTarget.value)} \r\n                    value={usuarioObj.numero_documento ? usuarioObj.numero_documento : null}\r\n                    addonBefore=\"Número de Documento\" \r\n                    placeholder=\"Numero de Documento\" \r\n                    style={{ width: '400px' }}\r\n                  />\r\n                </Space>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{ marginBottom: '3rem' }}>\r\n              <span>Imagen de Perfil:</span><br/>\r\n              <Radio.Group \r\n                value={usuarioObj.usuario && usuarioObj.usuario.imagen ? usuarioObj.usuario.imagen : null} \r\n                onChange={(e) => setUsuarioObj({...usuarioObj, usuario: { ...usuarioObj.usuario, imagen: e.target.value }})}\r\n              >\r\n              {avatares.map((img, i) => (\r\n                <Radio value={img} key={i} style={{ margin: '.5rem' }}>\r\n                  <Avatar\r\n                    size={{ xs: 20, sm: 28, md: 36, lg: 60, xl: 76, xxl: 90 }}\r\n                    src={<Image src={img}/>}\r\n                  />,\r\n                </Radio>\r\n              ))\r\n              }\r\n              </Radio.Group>\r\n            </Row>\r\n            <Button onClick={actualizarPerfil} type=\"primary\" loading={loadingActualizar}>Guardar</Button>\r\n          </div>\r\n        }\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <div style={{ margin: '1rem .5rem' }}>\r\n          <h3>Cambiar Constraseña:</h3>\r\n          <Space direction=\"vertical\">\r\n            <span>Contraseña actual:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setPassword(e.currentTarget.value)} value={password}/><br/>\r\n            <span>Nueva contraseña:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setNewPassword1(e.currentTarget.value)} value={newPassword1}/><br/>\r\n            <span>Repetir contraseña:</span>\r\n            <Input.Password required style={{ width: 300 }} onChange={(e) => setNewPassword2(e.currentTarget.value)} value={newPassword2}/><br/>\r\n          </Space>\r\n        </div>\r\n        <Button style={{ marginBottom: '1rem' }} type=\"primary\" onClick={actualizarContraseña} loading={loadingContraseña}>Guardar</Button>\r\n      </Contenedor>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport PerfilUsuario from '../views/PerfilUsuario';\r\n\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.perfilUsuario,\r\n    exact: true,\r\n    component: PerfilUsuario,\r\n    nivel: permisos.todos\r\n  },\r\n]\r\n\r\nexport default rutas","const colores = {\r\n  success: '#52c41a',\r\n  error: '#EB2F2F',\r\n  warning: '#F8C82E',\r\n  Pendiente: '#EFFF12',\r\n  Completado: '#9BB6C2',\r\n  Iniciado: '#5DBE3F',\r\n  Suspendido: '#ABFFBC',\r\n  Cancelado: '#80FF80',\r\n  NoRealizada: '#1414FF',\r\n};\r\n\r\nexport default colores;","export const gponAltas = [\r\n  'Instalación Movistar uno Gpon',\r\n  'Instalación Gpon Movistar Tot',\r\n  'Instalación Migración Gpon',\r\n  'Instalación Migración Gpon MT',\r\n  'Instalación Gpon New',\r\n  'Instalación Migración HFC a Gpon',\r\n  'Instalación Migración HFC a Gpon CC',\r\n  'Instalacion B2B Tradicional GPON'\r\n];\r\n\r\nexport const hfcAltas = [\r\n  'Instalación Migración',\r\n  'Instalación Migración Movistar Total',\r\n  'Instalación Movistar Total',\r\n  'Instalación Movistar uno',\r\n  'Instalación CATV',\r\n  'Instalacion B2B Tradicional HFC'\r\n];\r\n\r\nexport const gponAverias = [\r\n  'Reparación GPON',\r\n  'Reparación Gpon Movistar Uno',\r\n  'Reparacion Movistar Total Gpon',\r\n  'Reparacion B2B Tradicional GPON',\r\n];\r\n\r\nexport const hfcAverias =[\r\n  'Reparación Movistar Total',\r\n  'Reparación Movistar uno',\r\n  'Reparación CATV',\r\n  'Reparacion B2B Tradicional HFC'\r\n];\r\n\r\nexport const gponRutinas = [\r\n  'Instalación Rutina VA Gpon',\r\n  'Rutina MT GPON MT',\r\n  'Rutina MT GPON MT',\r\n  'Rutina VA GPON MT',\r\n  'Traslado GPON',\r\n  'Instalación rutina MT Gpon',\r\n  'Instalación rutina Bucle Gpon',\r\n  'Traslado GPON Movistar Total',\r\n  'Instalación rutina AT Gpon',\r\n  'Rutina AT GPON MT'\r\n];\r\n\r\nexport const hfcRutinas = [\r\n  'Instalación Rutina Bucle',\r\n  'Instalación Rutina CATV_AT',\r\n  'Instalación Rutina CATV_VA',\r\n  'Instalación Rutina MT Movistar Total',\r\n  'Traslado HFC',\r\n  'Instalación Rutina VA Movistar Total',\r\n  'Traslado HFC Mov Total',\r\n  'Instalación Rutina AT Movistar Total',\r\n  'Instalación Rutina CATV_MT'\r\n];\r\n\r\nexport const valoresExcelToa = {\r\n  bucket: \"Bucket\", \r\n  requerimiento: \"Requerimiento\",\r\n  estado: \"Estado\",\r\n  fecha_cita: \"Fecha Cita\",\r\n  motivo_no_realizado: \"Motivo No Realizado\",\r\n  subtipo_actividad: \"Subtipo Actividad\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  contrata: \"Contrata\",\r\n  tipo_agenda: \"Time Slot\",\r\n  sla_inicio: \"SLA_INICIO\",\r\n  sla_fin: \"SLA_FIN\"\r\n};\r\n\r\nexport const estadosToa = {\r\n  CANCELADO: 'Cancelado',\r\n  COMPLETADO: 'Completado',\r\n  INICIADO: 'Iniciado',\r\n  NO_REALIZADA: 'No Realizada',\r\n  PENDIENTE: 'Pendiente',\r\n  SUSPENDIDO: 'Suspendido'\r\n};\r\n\r\nexport const bajas = [\r\n  'Baja de Acometida'\r\n];\r\n\r\nexport const ordenesB2B = [\r\n  'Instalacion B2B Tradicional GPON',\r\n  'Instalacion B2B Tradicional HFC',\r\n  'Reparacion B2B Tradicional GPON',\r\n  'Reparacion B2B Tradicional HFC',\r\n]","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Statistic } from 'antd';\r\nimport { AlertOutlined, CheckCircleOutlined } from '@ant-design/icons';\r\nimport colores from '../../../constants/colores';\r\nimport { estadosToa } from '../../../constants/valoresToa';\r\n\r\nfunction ResumenOrdenes({titulo, ordenes=[]}) {\r\n  return (\r\n    <Row style={{ padding: '.5rem 0' }}>\r\n      <Col sm={24}><h4>{titulo}</h4></Col>\r\n      <Col sm={12}>\r\n        <Statistic\r\n          title=\"Liquidadas\"\r\n          value={ordenes && ordenes.length > 0 ? ordenes.filter(e => e && e.estado_toa === estadosToa.COMPLETADO).length : 0}\r\n          valueStyle={{ color: colores.success }}\r\n          prefix={<CheckCircleOutlined />}\r\n        />\r\n      </Col>\r\n      <Col sm={12}>\r\n        <Statistic\r\n          title=\"Pendientes\"\r\n          value={ordenes && ordenes.length > 0 ? ordenes.filter(e => e && e.estado_toa === estadosToa.PENDIENTE).length : 0}\r\n          valueStyle={{ color: colores.warning }}\r\n          prefix={<AlertOutlined />}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  )\r\n};\r\n\r\nResumenOrdenes.propTypes = {\r\n  titulo: PropTypes.string,\r\n  ordenes: PropTypes.array,\r\n};\r\n\r\nexport default ResumenOrdenes;\r\n\r\n","export const tipoOrdenes = {\r\n  AVERIAS: 'averiashfc',\r\n  ALTAS: 'altashfc',\r\n  RUTINAS: 'rutinas',\r\n  BAJAS: 'bajas',\r\n  SPEEDY: 'speedy',\r\n  BASICAS: 'basicas'\r\n};\r\n\r\nexport const tipoTecnologia = {\r\n  GPON: 'gpon',\r\n  HFC: 'hfc',\r\n  ADSL: 'adsl',\r\n  COBRE: 'cobre',\r\n  CRITICOS: 'criticos',\r\n  EMPRESAS: 'empresas'\r\n};\r\n\r\nexport const tipoNegocio = [\r\n  {\r\n    text: 'Averia',\r\n    value: 'averias'\r\n  },\r\n  {\r\n    text: 'Altas',\r\n    value: 'altas'\r\n  }\r\n];\r\n\r\nexport const subTipoNegocio = [\r\n  {\r\n    text: 'GPON',\r\n    value: tipoTecnologia.GPON\r\n  },\r\n  {\r\n    text: 'HFC',\r\n    value: tipoTecnologia.HFC\r\n  },\r\n  {\r\n    text: 'COBRE',\r\n    value: tipoTecnologia.COBRE\r\n  },\r\n  {\r\n    text: 'CRITICOS',\r\n    value: tipoTecnologia.CRITICOS\r\n  },\r\n  {\r\n    text: 'EMPRESAS',\r\n    value: tipoTecnologia.EMPRESAS\r\n  }\r\n];\r\n\r\nexport const nodosLiteyca = [\r\n\"MA\",\r\n\"SM\",\r\n\"SJ\",\r\n\"PN\",\r\n\"MR\",\r\n\"SV\",\r\n\"VN\",\r\n\"B1\",\r\n\"B3\",\r\n\"B2\",\r\n\"BE\",\r\n\"GC\",\r\n\"GM\",\r\n\"GR\",\r\n\"EH\",\r\n\"PS\",\r\n\"P2\",\r\n\"GU\",\r\n\"GX\",\r\n\"GZ\",\r\n\"TJ\",\r\n\"TO\",\r\n\"D4\",\r\n\"D5\",\r\n\"P0\",\r\n\"PB\",\r\n\"SU\",\r\n\"W5\",\r\n\"W6\",\r\n\"BD\",\r\n\"B0\",\r\n\"B5\",\r\n\"B4\",\r\n\"PF\",\r\n\"B7\",\r\n\"BZ\",\r\n\"E1\",\r\n\"BO\",\r\n\"BG\",\r\n\"BW\",\r\n\"BK\",\r\n\"PD\",\r\n\"BF\",\r\n\"B9\",\r\n\"B6\",\r\n\"E3\",\r\n\"E2\",\r\n\"B8\",\r\n\"B3\",\r\n\"BX\",\r\n\"P8\",\r\n\"ANAI\",\r\n\"ANBA\",\r\n\"ANCA\",\r\n\"ANCB\",\r\n\"ANCC\",\r\n\"ANCD\",\r\n\"ANCH\",\r\n\"ANCM\",\r\n\"ANCO\",\r\n\"ANCP\",\r\n\"ANCQ\",\r\n\"ANCR\",\r\n\"ANEM\",\r\n\"ANEP\",\r\n\"ANHL\",\r\n\"ANHM\",\r\n\"ANHR\",\r\n\"ANHU\",\r\n\"ANMA\",\r\n\"ANMC\",\r\n\"ANMO\",\r\n\"ANNE\",\r\n\"ANPO\",\r\n\"ANRE\",\r\n\"ANSA\",\r\n\"ANSI\",\r\n\"ANSJ\",\r\n\"ANSM\",\r\n\"ANSN\",\r\n\"ANTI\",\r\n\"ANYC\",\r\n\"ANYU\",\r\n\"MA\",\r\n\"MAU2\",\r\n\"MAU3\",\r\n\"PIEA\",\r\n\"PILA\",\r\n\"PILO\",\r\n\"PIMA\",\r\n\"PINE\",\r\n\"PING\",\r\n\"PIQU\",\r\n\"PISJ\",\r\n\"PISU\",\r\n\"PITA\",\r\n\"SJ\",\r\n\"SJU1\",\r\n\"SJU2\",\r\n\"SJU3\",\r\n\"TUCC\",\r\n\"TUCO\",\r\n\"TUPP\",\r\n\"TUPS\",\r\n\"TUTU\",\r\n\"TUZA\",\r\n\"TUZO\",\r\n];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Axis, Chart, Coordinate, Interval } from 'bizcharts';\r\nimport { Empty, Tooltip } from 'antd';\r\n\r\nfunction ChartProduccion({data=[], field, height, paddinLeft=150}) {\r\n  if (!data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: height,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Empty/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart \r\n        data={data} \r\n        height={height} \r\n        padding={[0,50,10,paddinLeft]}\r\n        autoFit\r\n      >\r\n        <Coordinate transpose />\r\n        <Axis\r\n          name=\"nombre\"\r\n        />\r\n        <Axis name=\"cantidad\" visible={false} />\r\n        <Tooltip/>\r\n        <Interval \r\n          shape=\"rect\"\r\n          position={`nombre*cantidad*${field}`}\r\n          animate={{ enter: { duration: 500 } }}\r\n          label=\"cantidad\"\r\n          tooltip={[`${field}*cantidad`,]}\r\n        />\r\n      </Chart>\r\n    )\r\n  }\r\n};\r\n\r\nChartProduccion.propTypes = {\r\n  data: PropTypes.array,\r\n  field: PropTypes.string,\r\n  height: PropTypes.number,\r\n  paddinLeft: PropTypes.number\r\n};\r\n\r\nexport default ChartProduccion;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Tag, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalleOrden({ordenes=[], visible, abrir, horas, devolucion=false}) {\r\n\r\n  const columnasDetalle = [\r\n    {\r\n      title: '#',\r\n      width: 40,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'requerimiento',\r\n      width: 115,\r\n      align: 'center',\r\n      render: (r) => <Text copyable>{r}</Text>\r\n    },\r\n    {\r\n      title: 'Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 100,\r\n      align: 'center',\r\n      render: (r) => <Text copyable>{r}</Text>\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 180,\r\n      ellipsis: true,\r\n      render: (t) => t && t.nombre ? <Text>{`${t.nombre} ${t.apellidos}`}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico',\r\n      width: 180,\r\n      ellipsis: true,\r\n      render: (t) => t && t.nombre ? <Text>{`${t.nombre} ${t.apellidos}`}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 80,\r\n      align: 'center'\r\n    },\r\n    {\r\n      title: 'Actividad',\r\n      dataIndex: 'subtipo_actividad',\r\n      width: 220,\r\n    },\r\n    {\r\n      title: 'Tipo de Cita',\r\n      dataIndex: 'tipo_cita',\r\n      width: 150,\r\n    }\r\n  ];\r\n\r\n  const columnasExtras = [\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro_legados',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (f) => moment(f).format('DD/MM/YY HH:mm')\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_pre_no_realizado',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (f) => moment(f).format('DD/MM/YY HH:mm')\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro_legados',\r\n      width: 60,\r\n      align: 'center',\r\n      render: (f, row) => {\r\n        let a = moment(row.fecha_pre_no_realizado).diff(f, 'hour');\r\n        if (a < horas) {\r\n          return <Tag color=\"success\">{a}</Tag>\r\n        } else {\r\n          return <Tag color=\"error\">{a}</Tag>\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  const columnasDevolucion = [\r\n    {\r\n      title: 'Observacion TOA',\r\n      dataIndex: 'observacion_toa',\r\n      width: 450,\r\n    }\r\n  ];\r\n\r\n  const generarColumnas = () => {\r\n    let columns = columnasDetalle;\r\n    if (devolucion) {\r\n      columns.push(...columnasDevolucion)\r\n    } else {\r\n      columns.push(...columnasExtras)\r\n    };\r\n    return columns\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Lista de Ordenes\"\r\n      visible={visible}\r\n      onOk={abrir}\r\n      onCancel={abrir}\r\n      footer={false}\r\n      width=\"85vw\"\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"requerimiento\"\r\n        dataSource={ordenes}\r\n        columns={generarColumnas()}\r\n        pagination={{\r\n          pageSize: 50\r\n        }}\r\n        size=\"small\"\r\n        bordered\r\n        scroll={{ y: '60vh', x: '80vw' }}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalDetalleOrden.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  horas: PropTypes.number,\r\n  devolucion: PropTypes.bool\r\n};\r\n\r\nexport default ModalDetalleOrden;\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Axis, Chart, Coordinate, Interval } from 'bizcharts';\r\nimport { Empty } from 'antd';\r\n\r\nimport ModalDetalleOrden from '../IndicadoresTCFL/ModalDetalleOrden';\r\n\r\nfunction ChartDevolucion({data=[], tipo=true}) {\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [ordenesDetalle, setOrdenesDetalle] = useState([]);\r\n\r\n  const abrirDetalle = (data) => {\r\n    if (data && data.data) {\r\n      setOrdenesDetalle(data.data.ordenes);\r\n      abrirModalDetalle();\r\n    };\r\n  };\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  if (!data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 500,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Empty/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart \r\n        data={data} \r\n        height={500} \r\n        padding={[0,50,20, tipo?150:190]}\r\n        onClick={({data}) => abrirDetalle(data)}\r\n        autoFit\r\n      >\r\n        <Coordinate transpose />\r\n        <Axis\r\n          name=\"cantidad\"\r\n        />\r\n        <Axis name=\"cantidad\" visible={false} />\r\n        <Interval \r\n          adjust={[\r\n            {\r\n              type: 'stack',\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [ \"estado\" ],\r\n            values: [ \"#ff764a\", \"#ffa600\" ],\r\n          }}\r\n          position={`nombre*cantidad*${tipo?\"gestor\":\"motivo\"}`}\r\n          animate={{ enter: { duration: 500 } }}\r\n          label={[\"total\", (a) => {\r\n            return {\r\n              content: a?a:null,\r\n            }\r\n          }]}\r\n          tooltip={[`${tipo?\"gestor\":\"motivo\"}*estado*cantidad`,]}\r\n        />\r\n         <ModalDetalleOrden ordenes={ordenesDetalle} abrir={abrirModalDetalle} visible={modalDetalle} horas={72} devolucion={true} />\r\n      </Chart>\r\n    )\r\n  }\r\n};\r\n\r\nChartDevolucion.propTypes = {\r\n  data: PropTypes.array,\r\n  tipo: PropTypes.bool\r\n};\r\n\r\nexport default ChartDevolucion;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Space, Switch } from 'antd';\r\nimport ResumenOrdenes from './ResumenOrdenes';\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport { bajas, estadosToa, gponAltas, hfcAltas, hfcRutinas } from '../../../constants/valoresToa';\r\nimport Contenedor from '../../common/Contenedor';\r\nimport ChartProduccion from '../ChartProduccion';\r\nimport ChartDevolucion from './ChartDevolucion';\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [dataGestoresLiquidados, setDataGestoresLiquidados] = useState([]);\r\n  const [dataGestoresDevueltas, setDataGestoresDevueltas] = useState([]);\r\n  const [checkTipo, setCheckTipo] = useState(true);\r\n\r\n  useEffect(() => {\r\n    ordenesGestoresLiquidadas();\r\n    if (checkTipo) {\r\n      ordenesGestoresDevoluciones();\r\n    } else {\r\n      ordenesMotivoDevoluciones();\r\n    };\r\n  //eslint-disable-next-line\r\n  },[ordenes]);\r\n\r\n  useEffect(() => {\r\n    if (checkTipo) {\r\n      ordenesGestoresDevoluciones();\r\n    } else {\r\n      ordenesMotivoDevoluciones();\r\n    };\r\n  //eslint-disable-next-line\r\n  },[checkTipo])\r\n\r\n  function ordenesGestoresLiquidadas() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      \r\n      let completadas = ordenes.filter((e) => e && e.gestor_liquidado_toa && e.estado === estadosToa.COMPLETADO);\r\n      if (completadas.length > 0) {\r\n        let gestores = [];\r\n        let completo = [];\r\n        let listaOrdenada = [];\r\n        completadas.forEach((e) => {\r\n          if (e && e.gestor_liquidado_toa && !gestores.includes(e.gestor_liquidado_toa.nombre)) {\r\n            gestores.push(e.gestor_liquidado_toa.nombre);\r\n            completo.push(`${e.gestor_liquidado_toa.nombre} ${e.gestor_liquidado_toa.apellidos}`)\r\n          };\r\n        })\r\n        gestores.forEach((gestor, i) => {\r\n          listaOrdenada.push({\r\n            nombre: gestor,\r\n            gestor: completo[i],\r\n            ordenes: completadas.filter((e) => e && e.gestor_liquidado_toa && e.gestor_liquidado_toa.nombre === gestor),\r\n            cantidad: completadas.filter((e) => e && e.gestor_liquidado_toa && e.gestor_liquidado_toa.nombre === gestor).length\r\n          })\r\n        })\r\n        setDataGestoresLiquidados(listaOrdenada);\r\n      } else {\r\n        setDataGestoresLiquidados([]);\r\n      }\r\n    }\r\n  };\r\n\r\n  function ordenesGestoresDevoluciones() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      let altas = [...hfcAltas,...gponAltas,...hfcRutinas,...hfcAltas];\r\n      let devueltas = ordenes.filter((e) => e && e.gestor && [estadosToa.CANCELADO, estadosToa.NO_REALIZADA].includes(e.estado) && altas.includes(e.subtipo_actividad));\r\n      if (devueltas.length > 0) {\r\n        let gestores = [];\r\n        let completo = [];\r\n        let listaOrdenada = [];\r\n        devueltas.forEach((e) => {\r\n          if (e && e.gestor && !gestores.includes(e.gestor.nombre)) {\r\n            gestores.push(e.gestor.nombre);\r\n            completo.push(`${e.gestor.nombre} ${e.gestor.apellidos}`)\r\n          };\r\n        })\r\n        gestores.forEach((gestor, i) => {\r\n          listaOrdenada.push({\r\n            nombre: gestor,\r\n            gestor: completo[i],\r\n            estado: estadosToa.CANCELADO,\r\n            total: null,\r\n            ordenes: devueltas.filter((e) => e && e.gestor && e.gestor.nombre === gestor && e.estado_toa === estadosToa.CANCELADO),\r\n            cantidad: devueltas.filter((e) => e && e.gestor && e.gestor.nombre === gestor && e.estado_toa === estadosToa.CANCELADO).length\r\n          },{\r\n            nombre: gestor,\r\n            gestor: completo[i],\r\n            estado: estadosToa.NO_REALIZADA,\r\n            total: devueltas.filter((e) => e && e.gestor && e.gestor.nombre === gestor).length,\r\n            ordenes: devueltas.filter((e) => e && e.gestor && e.gestor.nombre === gestor && e.estado_toa === estadosToa.NO_REALIZADA),\r\n            cantidad: devueltas.filter((e) => e && e.gestor && e.gestor.nombre === gestor && e.estado_toa === estadosToa.NO_REALIZADA).length\r\n          })\r\n        })\r\n        setDataGestoresDevueltas(listaOrdenada);\r\n      } else {\r\n        setDataGestoresDevueltas([]);\r\n      }\r\n    };\r\n  };\r\n\r\n  function ordenesMotivoDevoluciones() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      let altas = [...hfcAltas,...gponAltas,...hfcRutinas,...hfcAltas];\r\n      let devueltas = ordenes.filter((e) => e && e.gestor && [estadosToa.CANCELADO, estadosToa.NO_REALIZADA].includes(e.estado) && altas.includes(e.subtipo_actividad));\r\n      if (devueltas.length > 0) {\r\n        let motivos = [];\r\n        let listaOrdenada = [];\r\n        devueltas.forEach((e) => {\r\n          if (e && e.gestor && !motivos.includes(e.motivo_no_realizado)) {\r\n            motivos.push(e.motivo_no_realizado);\r\n          };\r\n        })\r\n        motivos.forEach((motivo, i) => {\r\n          listaOrdenada.push({\r\n            nombre: String(motivo).substring(9,motivo.length).replace('-',''),\r\n            motivo,\r\n            estado: estadosToa.CANCELADO,\r\n            total: null,\r\n            ordenes: devueltas.filter((e) => e && e.motivo_no_realizado === motivo && e.estado_toa === estadosToa.CANCELADO),\r\n            cantidad: devueltas.filter((e) => e && e.motivo_no_realizado === motivo && e.estado_toa === estadosToa.CANCELADO).length\r\n          },{\r\n            nombre: String(motivo).substring(9,motivo.length).replace('-',''),\r\n            motivo,\r\n            estado: estadosToa.NO_REALIZADA,\r\n            total: devueltas.filter((e) => e && e.motivo_no_realizado === motivo).length,\r\n            ordenes: devueltas.filter((e) => e && e.motivo_no_realizado === motivo && e.estado_toa === estadosToa.NO_REALIZADA),\r\n            cantidad: devueltas.filter((e) => e && e.motivo_no_realizado === motivo && e.estado_toa === estadosToa.NO_REALIZADA).length\r\n          })\r\n        })\r\n        setDataGestoresDevueltas(listaOrdenada);\r\n      } else {\r\n        setDataGestoresDevueltas([]);\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <Row >\r\n        <Col sm={12} >\r\n          <Contenedor>\r\n            <ResumenOrdenes \r\n              titulo=\"Averias\" \r\n              ordenes={ordenes.filter((e) => e && e.tipo === tipoOrdenes.AVERIAS)}\r\n            />\r\n          </Contenedor>\r\n        </Col>\r\n        <Col sm={12}>\r\n          <Contenedor>\r\n            <ResumenOrdenes\r\n              titulo=\"Altas\" \r\n              ordenes={ordenes.filter((e) => e && e.tipo === tipoOrdenes.ALTAS && !bajas.includes(e.subtipo_actividad))}\r\n            />\r\n         </Contenedor>\r\n        </Col>\r\n      </Row>\r\n      <Contenedor>\r\n        <Row>\r\n          <Space direction=\"vertical\" />\r\n          <Col sm={12}>\r\n            <div style={{ marginTop: '.5rem', marginBottom: '1rem' }}>\r\n              <h3>Indicadores de Liquidación (Gestor)</h3>\r\n              <ChartProduccion data={dataGestoresLiquidados} field=\"gestor\" height={500}/>\r\n            </div>\r\n          </Col>\r\n          <Col sm={12}>\r\n            <div style={{ marginTop: '.5rem', marginBottom: '1rem' }}>\r\n              <h3>Indicadores de Devolución (Altas/Rutinas) - {` `}\r\n                <Switch \r\n                  size=\"small\"\r\n                  checkedChildren=\"Gestor\" \r\n                  unCheckedChildren=\"Motivo\"\r\n                  onChange={(e) => setCheckTipo(e)}\r\n                  checked={checkTipo} \r\n                />\r\n              </h3>\r\n              <ChartDevolucion data={dataGestoresDevueltas} tipo={checkTipo}/>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      \r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string\r\n};\r\n\r\nexport default Index;\r\n\r\n","/**\r\n * \r\n * @param {string} string \r\n */\r\nexport default function capitalizar(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};","import { CheckCircleOutlined, FieldTimeOutlined, IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { Table, Tag, Tooltip } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nexport function columnasResumen(tipo) {\r\n  return [\r\n    {\r\n      title: capitalizar(tipo),\r\n      dataIndex: tipo,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      width: 200,\r\n      align: 'left',\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>{t}</Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Completado',\r\n      dataIndex: 'completado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.completado < b.completado) {\r\n          return -1;\r\n        }\r\n        if (a.completado > b.completado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      // className: 'columna-resumen-completado',\r\n      render: (o) => <Tag icon={<CheckCircleOutlined />} color=\"#8994e9\">{o ? o : 0}</Tag> \r\n    },\r\n    {\r\n      title: 'Iniciado',\r\n      dataIndex: 'iniciado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.iniciado < b.iniciado) {\r\n          return -1;\r\n        }\r\n        if (a.iniciado > b.iniciado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      // className: 'columna-resumen-iniciado',\r\n      render: (o) => <Tag icon={<IssuesCloseOutlined />} color=\"#66CC33\">{o ? o : 0}</Tag> \r\n    },\r\n    {\r\n      title: 'No Realizada',\r\n      dataIndex: 'no_realizada',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.no_realizada < b.no_realizada) {\r\n          return -1;\r\n        }\r\n        if (a.no_realizada > b.no_realizada) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Pendiente',\r\n      dataIndex: 'pendiente',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.pendiente < b.pendiente) {\r\n          return -1;\r\n        }\r\n        if (a.pendiente > b.pendiente) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Suspendido',\r\n      dataIndex: 'suspendido',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.suspendido < b.suspendido) {\r\n          return -1;\r\n        }\r\n        if (a.suspendido > b.suspendido) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: 'Cancelado',\r\n      dataIndex: 'cancelado',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.cancelado < b.cancelado) {\r\n          return -1;\r\n        }\r\n        if (a.cancelado > b.cancelado) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? e : 0\r\n    },\r\n    {\r\n      title: `Total`,\r\n      dataIndex: 'total',\r\n      align: 'center',\r\n      sorter: (a, b) => {\r\n        if (a.total < b.total) {\r\n          return -1;\r\n        }\r\n        if (a.total > b.total) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (e) => e ? <Tag color=\"#999999\"><strong>{e ? e : 0}</strong></Tag>  : 0\r\n    },\r\n  ]\r\n};\r\n\r\nexport function columnasTotal(pageData) {\r\n  let totalC = 0;\r\n  let totalI = 0;\r\n  let totalN = 0;\r\n  let totalP = 0;\r\n  let totalS = 0;\r\n  let totalCan = 0;\r\n  let totalT = 0;\r\n\r\n  pageData.forEach(({ completado, iniciado, no_realizada, pendiente, suspendido, cancelado, total }) => {\r\n    totalC += completado;\r\n    totalI += iniciado;\r\n    totalN += no_realizada;\r\n    totalP += pendiente;\r\n    totalS += suspendido;\r\n    totalCan += cancelado;\r\n    totalT += total;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Table.Summary.Row style={{ backgroundColor: \"#F7F7F7\" }}>\r\n        <Table.Summary.Cell><strong>Total</strong></Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag icon={<CheckCircleOutlined />} color=\"#8994e9\"><strong>{totalC}</strong></Tag> \r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag icon={<FieldTimeOutlined />} color=\"#66CC33\">{totalI}</Tag> \r\n          {/* <Text>{totalI}</Text> */}\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalN}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalP}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalS}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Text>{totalCan}</Text>\r\n        </Table.Summary.Cell>\r\n        <Table.Summary.Cell align=\"center\">\r\n          <Tag color=\"#999999\"><strong>{totalT}</strong></Tag>\r\n        </Table.Summary.Cell>\r\n      </Table.Summary.Row>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd';\r\nimport { Chart, Interaction, Interval, Tooltip } from 'bizcharts';\r\n\r\nimport colores from '../../../constants/colores';\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return colores.Pendiente; }\r\n  if (estado === 'Completado') { return colores.Completado; }\r\n  if (estado === 'Iniciado') { return colores.Iniciado; }\r\n  if (estado === 'Suspendido') { return colores.Suspendido }\r\n  if (estado === 'Cancelado') { return colores.Cancelado; }\r\n  if (estado === 'No Realizada') { return colores.NoRealizada; }\r\n};\r\n\r\nexport default function ChartActividad({data=[], field}) {\r\n  if (!data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 250,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={250} padding={[30, 20, 90, 40]} data={data} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position={`${field}*ordenes`}\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartActividad.propTypes = {\r\n  data: PropTypes.array,\r\n  field: PropTypes.string\r\n};\r\n\r\n","import React from 'react';\r\nimport { Col, Empty, Row, Table } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { columnasResumen, columnasTotal } from './columnasResumen';\r\nimport ChartActividad from './ChartActividad';\r\n\r\n\r\nfunction TabIndicadorActividad({dataSource=[], dataChart=[],  tipo}) {\r\n\r\n  if (dataSource.length <= 0 || dataChart <= 0) {\r\n    return (\r\n      <div>\r\n        <Empty style={{ margin: '5rem' }}/>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartActividad data={dataChart} field={tipo}/>\r\n        </Col>\r\n        <Col sm={24}>\r\n          <Row style={{ margin: '1rem 0' }}>\r\n            <Table\r\n              style={{ background: \"white !important\"}}\r\n              rowKey=\"key\"\r\n              columns={columnasResumen(tipo)}\r\n              dataSource={dataSource}\r\n              size=\"small\"\r\n              pagination={false}\r\n              summary={columnasTotal}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  };\r\n}\r\n\r\nTabIndicadorActividad.propTypes = {\r\n  dataSource: PropTypes.array,\r\n  dataChart: PropTypes.array,\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default TabIndicadorActividad;\r\n\r\n","import { estadosToa } from \"../constants/valoresToa\";\r\n\r\nexport function separarBucket(data=[]) {\r\n  let buckets = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => !buckets.includes(o.bucket) ? buckets.push(o.bucket): null);\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    buckets.forEach((b) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => d.bucket === b && d.estado === e).length;\r\n        newData.push({\r\n          bucket: String(b).substring(6),\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, buckets, estados};\r\n  } else {\r\n    return {ordenes: [], buckets, estados: []} ;\r\n  };\r\n};\r\n\r\nexport function separarContrata(data=[]) {\r\n  let contratas = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.contrata && o.contrata.nombre) {\r\n        if (!contratas.includes(o.contrata.nombre)) contratas.push(o.contrata.nombre)\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    contratas.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.contrata && d.contrata.nombre){\r\n            return d.contrata.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          contrata: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, contratas};\r\n  } else {\r\n    return {ordenes: [], contratas} ;\r\n  };\r\n};\r\n\r\nexport function separarGestor(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    gestores.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function separarMotivo(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let motivos = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !motivos.includes(o.motivo_no_realizado) ? motivos.push(o.motivo_no_realizado) : null);\r\n    gestores.forEach((g) => {\r\n      motivos.forEach((m) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.motivo_no_realizado === m\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          descripcion: m,\r\n          motivo: String(m).substr(9).replace(/-/g, ''),\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function ordenarResumen(data=[], tipo) {\r\n  if (data && data.length > 0) {\r\n    let tipos = [];\r\n    let nuevaData = [];\r\n\r\n    data.forEach((d) => { if (!tipos.includes(d[tipo])) tipos.push(d[tipo]) });\r\n\r\n    tipos.filter((e) => e).forEach((e, i) => {\r\n      if (nuevaData.length <= 0) {\r\n        nuevaData = [{\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo]).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo]).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo]).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo]).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo]).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo]).length,\r\n          total: data.filter((d) => e === d[tipo]).length,\r\n        }]\r\n      } else {\r\n        nuevaData.push({\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo]).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo]).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo]).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo]).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo]).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo]).length,\r\n          total: data.filter((d) => e === d[tipo]).length,\r\n        })\r\n      }\r\n    })\r\n\r\n    return nuevaData;\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport function ordenarResumenId(data=[], tipo) {\r\n  if (data && data.length > 0) {\r\n    let tipos = [];\r\n    let nuevaData = [];\r\n\r\n    data.forEach((d) => { if (!tipos.includes(d[tipo].nombre)) tipos.push(d[tipo].nombre) });\r\n\r\n    tipos.filter((e) => e).forEach((e, i) => {\r\n      if (nuevaData.length <= 0) {\r\n        nuevaData = [{\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo].nombre).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo].nombre).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo].nombre).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo].nombre).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo].nombre).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo].nombre).length,\r\n          total: data.filter((d) => e === d[tipo].nombre).length,\r\n        }]\r\n      } else {\r\n        nuevaData.push({\r\n          key: i,\r\n          [tipo]: e,\r\n          completado: data.filter((d) => d.estado === estadosToa.COMPLETADO && e === d[tipo].nombre).length,\r\n          iniciado: data.filter((d) => d.estado === estadosToa.INICIADO && e === d[tipo].nombre).length,\r\n          no_realizada: data.filter((d) => d.estado === estadosToa.NO_REALIZADA && e === d[tipo].nombre).length,\r\n          pendiente: data.filter((d) => d.estado === estadosToa.PENDIENTE && e === d[tipo].nombre).length,\r\n          suspendido: data.filter((d) => d.estado === estadosToa.SUSPENDIDO && e === d[tipo].nombre).length,\r\n          cancelado: data.filter((d) => d.estado === estadosToa.CANCELADO && e === d[tipo].nombre).length,\r\n          total: data.filter((d) => e === d[tipo].nombre).length,\r\n        })\r\n      }\r\n    })\r\n\r\n    return nuevaData;\r\n  } else {\r\n    return [];\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Select, Tabs, Typography } from 'antd';\r\nimport { DatabaseOutlined, UsergroupAddOutlined, UserOutlined } from '@ant-design/icons';\r\n\r\nimport { tipoOrdenes, tipoTecnologia } from '../../../constants/tipoOrden';\r\nimport { bajas, gponAltas, gponAverias, gponRutinas, hfcAltas, hfcAverias, hfcRutinas } from '../../../constants/valoresToa';\r\nimport TabIndicadorActividad from './TabIndicadorActividad';\r\nimport { ordenarResumen, ordenarResumenId, separarBucket, separarContrata, separarGestor } from '../../../libraries/separarField';\r\n\r\n\r\nconst { Option } = Select;\r\nconst { Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index({hora, ordenes=[]}) {\r\n  const [negocio, setNegocio] = useState(tipoOrdenes.AVERIAS);\r\n  const [tecnologia, setTecnologia] = useState(tipoTecnologia.HFC);\r\n  const [ordenesFiltradas, setOrdenesFiltradas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(negocio === tipoOrdenes.BAJAS && tecnologia !== 'Todo') setTecnologia('Todo')\r\n    aplicarFiltros();\r\n  //eslint-disable-next-line\r\n  },[ordenes, negocio, tecnologia]);\r\n\r\n  async function aplicarFiltros() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      return new Promise((resolve) => resolve(filtroNegocio(ordenes)))\r\n        .then((data) => filtroTecnologia(data))\r\n        .then((data2) => setOrdenesFiltradas(data2))\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setOrdenesFiltradas([]);\r\n      return;\r\n    };\r\n  };\r\n\r\n  function filtroNegocio(data=[]) {\r\n    if(!data && data.length < 1) return [];\r\n    const averiaActicidad = [...hfcAverias, ...gponAverias];\r\n    const altaActividad = [...hfcAltas, ...gponAltas];\r\n    const rutinaActicidad = [...hfcRutinas, ...gponRutinas];\r\n\r\n    if (negocio === tipoOrdenes.AVERIAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && averiaActicidad.includes(e.subtipo_actividad));\r\n    } else if  (negocio === tipoOrdenes.ALTAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && altaActividad.includes(e.subtipo_actividad));\r\n    } else if (negocio === tipoOrdenes.RUTINAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && rutinaActicidad.includes(e.subtipo_actividad));\r\n    } else if (negocio === tipoOrdenes.BAJAS) {\r\n      return data.filter((e) => e && e.subtipo_actividad && bajas.includes(e.subtipo_actividad));\r\n    } else {\r\n      return data;\r\n    }\r\n  };\r\n\r\n  function filtroTecnologia(data=[]) {\r\n    if(!data && data.length < 1) return [];\r\n    const hfc = [...hfcAverias,...hfcAltas,...hfcRutinas];\r\n    const gpon = [...gponAverias,...gponAltas,...gponRutinas];\r\n\r\n    if (tecnologia === tipoTecnologia.HFC) {\r\n      return data.filter((e) => e && e.subtipo_actividad && hfc.includes(e.subtipo_actividad));\r\n    } else if (tecnologia === tipoTecnologia.GPON) {\r\n      return data.filter((e) => e && e.subtipo_actividad && gpon.includes(e.subtipo_actividad));\r\n    } else {\r\n      return data;\r\n    };\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <div style={{ marginTop: '.5rem' }}>\r\n        <h3>Indicadores de Actividad - {hora}</h3>\r\n        <Row>\r\n          <Col sm={7}>\r\n            <span>Negocio: </span>\r\n            <Select size=\"small\" style={{ width: '100px', marginLeft: '.5rem' }} value={negocio} onChange={(e) => setNegocio(e)}>\r\n              <Option value={tipoOrdenes.AVERIAS}>Averias</Option>\r\n              <Option value={tipoOrdenes.ALTAS}>Altas</Option>\r\n              <Option value={tipoOrdenes.RUTINAS}>Rutinas</Option>\r\n              <Option value={tipoOrdenes.BAJAS}>Bajas</Option>\r\n              <Option value=\"Todo\">Todo</Option>\r\n            </Select>\r\n          </Col>\r\n          <Col sm={7}>\r\n            <span>Tecnología:</span>\r\n            <Select size=\"small\" disabled={negocio === tipoOrdenes.BAJAS} style={{ width: '100px', marginLeft: '.5rem' }} value={tecnologia} onChange={(e) => setTecnologia(e)}>\r\n              <Option value={tipoTecnologia.HFC}>HFC</Option>\r\n              <Option value={tipoTecnologia.GPON}>GPON</Option>\r\n              <Option value=\"Todo\">Todo</Option>\r\n            </Select>\r\n          </Col>\r\n          <Col sm={7}>\r\n            <span>Zona: </span>\r\n            <Text type=\"secondary\">LIMA</Text>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DatabaseOutlined />\r\n              Bucket\r\n            </span>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <TabIndicadorActividad \r\n            dataSource={ordenarResumen(ordenesFiltradas, 'bucket')} \r\n            dataChart={separarBucket(ordenesFiltradas).ordenes}\r\n            tipo=\"bucket\" \r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UsergroupAddOutlined />\r\n              Contrata\r\n            </span>\r\n          }\r\n          key=\"2\"\r\n        >\r\n           <TabIndicadorActividad \r\n            dataSource={ordenarResumenId(ordenesFiltradas.filter((d) => d.tecnico && d.contrata), 'contrata')} \r\n            dataChart={separarContrata(ordenesFiltradas.filter((d) => d.tecnico && d.contrata)).ordenes}\r\n            tipo=\"contrata\" \r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UserOutlined />\r\n              Gestor\r\n            </span>\r\n          }\r\n          key=\"3\"\r\n        >\r\n           <TabIndicadorActividad \r\n            dataSource={ordenarResumenId(ordenesFiltradas.filter((d) => d.tecnico && d.gestor), 'gestor')} \r\n            dataChart={separarGestor(ordenesFiltradas.filter((d) => d.tecnico && d.gestor)).ordenes}\r\n            tipo=\"gestor\" \r\n          />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  hora: PropTypes.string,\r\n  ordenes: PropTypes.array\r\n};\r\n\r\nexport default Index;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Progress, Row, Statistic, Tooltip } from 'antd';\r\nimport { AlertOutlined, CheckCircleOutlined } from '@ant-design/icons';\r\n\r\nimport colores from '../../../constants/colores'\r\n\r\nfunction IndicadorPorcentaje({hora, plazo, vencidas, porcentaje}) {\r\n  return (\r\n    <Col sm={12}style={{ justifyContent: 'center', textAlign: 'center' }} >\r\n      <h4>Plazo {hora}h</h4>\r\n      <Row gutter={16} style={{ margin: '1rem 0' }}>\r\n        <Col sm={12} >\r\n          <Tooltip title={`${plazo} En plazo / ${vencidas} Vencidas`}>\r\n            <Progress\r\n              format={(p) => p + '%'}\r\n              strokeColor={porcentaje < 50 ? colores.error : porcentaje >= 50 && porcentaje < 70 ? colores.warning : colores.success}\r\n              percent={porcentaje} \r\n              strokeWidth={10}\r\n              width={160}\r\n              gapDegree={80}\r\n              trailColor=\"#CCCCFF\"\r\n              type=\"dashboard\" \r\n              showInfo\r\n            />\r\n          </Tooltip>\r\n        </Col>\r\n        <Col sm={12}>\r\n          <Row style={{marginBottom: '.5rem'}}>\r\n            <Statistic\r\n              title=\"En plazo\"\r\n              value={plazo}\r\n              valueStyle={{ color: colores.success }}\r\n              prefix={<CheckCircleOutlined />}\r\n            />\r\n          </Row>\r\n          <Row style={{marginBottom: '.5rem'}}>\r\n            <Statistic\r\n              title=\"Vencidas\"\r\n              value={vencidas}\r\n              valueStyle={{ color: colores.error }}\r\n              prefix={<AlertOutlined />}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Col>\r\n  )\r\n};\r\n\r\nIndicadorPorcentaje.propTypes = {\r\n  hora: PropTypes.number,\r\n  plazo: PropTypes.number,\r\n  vencidas: PropTypes.number,\r\n  porcentaje: PropTypes.number,\r\n};\r\n\r\nexport default IndicadorPorcentaje;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Chart, Tooltip, Legend, Facet } from \"bizcharts\";\r\nimport { Spin } from \"antd\";\r\nimport { green } from '@ant-design/colors';\r\n\r\nimport ModalDetalleOrden from \"./ModalDetalleOrden\";\r\n\r\nexport default function TablaDetalle({data=[], paddingLeft, height}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [ordenesDetalle, setOrdenesDetalle] = useState([]);\r\n  const [horas, setHoras] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false)\r\n    }, 80);\r\n  },[data, modalDetalle]);\r\n\r\n  const abrirDetalle = (data) => {\r\n    if (data && data.data) {\r\n      if (data.data.indexCode === \"Plazo 72h\") {\r\n        setHoras(72);\r\n      } else {\r\n        setHoras(24);\r\n      }\r\n      setOrdenesDetalle(data.data.ordenes);\r\n      abrirModalDetalle();\r\n    };\r\n  };\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const indexNameColorMap = {\r\n    \"Averias 24h\": {\r\n      title: \"Averias 24h\",\r\n      color: green[4],\r\n    },\r\n    \"Plazo 72h\": {\r\n      title: \"Plazo 72h\",\r\n      color: green[4],\r\n    },\r\n  };\r\n\r\n  const typeNameMap = {\r\n    plazo: 'Plazo',\r\n    vencido: 'Vencido'\r\n  };\r\n  \r\n  if (loading || !data || data.length < 1) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: height,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <Chart\r\n        autoFit\r\n        data={data}\r\n        height={height}\r\n        padding={[20, 20, 20, paddingLeft]}\r\n        appendPadding={[10]}\r\n        onClick={({data}) => abrirDetalle(data)}\r\n      >\r\n        <Legend visible={true} itemName={{\r\n          formatter: (text, item) => {\r\n            return typeNameMap[text];\r\n          }\t\r\n        }} />\r\n        <Tooltip showMarkers={false} />\r\n        <Facet\r\n          fields={[\"indexCode\"]}\r\n          type=\"rect\"\r\n          columnTitle={{\r\n            offsetY: -15,\r\n            style: {\r\n              fontSize: 14,\r\n              fontWeight: 300,\r\n              fill: \"#505050\",\r\n            },\r\n            formatter: (val) => {\r\n              return indexNameColorMap[val].title;\r\n            },\r\n          }}\r\n          eachView={(view, facet) => {\r\n            view.coordinate().transpose();\r\n  \r\n            if (facet.columnIndex === 0) {\r\n              view.axis(\"nombre\", {\r\n                tickLine: null,\r\n                line: null,\r\n              });\r\n              view.axis(\"value\", false);\r\n            } else {\r\n              view.axis(false);\r\n            }\r\n            const color = indexNameColorMap[facet.columnValue].color;\r\n            view\r\n              .interval()\r\n              .adjust(\"stack\")\r\n              .position(\"nombre*value\")\r\n              .color(\"type\", [color, \"#FFE2DC\"])\r\n              .size(20)\r\n              .label(\"value*type\", (value, type) => {\r\n                if (type === \"vencido\") {\r\n                  return null;\r\n                }\r\n                const offset = value < 30 ? 10 : -4;\r\n                return {\r\n                  content: `${value}%`,\r\n                  offset,\r\n                };\r\n              })\r\n              .tooltip(\r\n                \"nombre*value*indexCode*type*ordenes\",\r\n                (nombre, value, indexCode, type, ordenes) => {\r\n                  return {\r\n                    title: nombre,\r\n                    value: `${type} : ${ordenes.length}`,\r\n                    name: indexCode,\r\n                  };\r\n                }\r\n              );\r\n            view.interaction(\"element-active\");\r\n          }}\r\n        />\r\n        <ModalDetalleOrden ordenes={ordenesDetalle} abrir={abrirModalDetalle} visible={modalDetalle} horas={horas} />\r\n      </Chart>\r\n       \r\n    );\r\n  };\r\n};\r\n\r\nTablaDetalle.propTypes = {\r\n  data: PropTypes.array,\r\n  paddingLeft: PropTypes.number,\r\n  height: PropTypes.number\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Checkbox, Tabs } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { gponAltas, gponAverias, hfcAltas, hfcAverias } from '../../../constants/valoresToa';\r\nimport IndicadorPorcentaje from './IndicadorPorcentaje';\r\nimport { DatabaseOutlined, UsergroupAddOutlined, UserOutlined } from '@ant-design/icons';\r\nimport TablaDetalle from './TablaDetalle';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [altas, setAltas] = useState({plazo:[], vencidas: [], porcentaje: 0});\r\n  const [averias, setAverias] = useState({plazo:[], vencidas: [], porcentaje: 0});\r\n  const [tipoAgenda, setTipoAgenda] = useState(false);\r\n  const [bucketDetalle, setBucketDetalle] = useState([]);\r\n  const [contrataDetalle, setContrataDetalle] = useState([]);\r\n  const [gestorDetalle, setGestorDetalle] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (ordenes && ordenes.length > 0) {\r\n      filtrarOrdenes();\r\n      // filtrarBucket();\r\n    } else {\r\n      setAltas({plazo:[], vencidas: [], porcentaje: 0});\r\n      setAverias({plazo:[], vencidas: [], porcentaje: 0});\r\n    }\r\n  //eslint-disable-next-line\r\n  },[ordenes, tipoAgenda]);\r\n  // && String(e.tipo_cita).toLowerCase() !== 'telefónica'\r\n  function filtrarOrdenes() {\r\n    const averiasActividad = [...hfcAverias, ...gponAverias];\r\n    const altasActividad = [...hfcAltas, ...gponAltas];\r\n    const todoOrdenes = [...averiasActividad, ...altasActividad];\r\n    let ordenesAgendas = tipoAgenda ? \r\n      ordenes.filter((e) => todoOrdenes.includes(e.subtipo_actividad) && String(e.tipo_cita).toLowerCase() === \"telefónica\")\r\n    : \r\n      ordenes.filter((e) => todoOrdenes.includes(e.subtipo_actividad));\r\n    const averiasTCFL = obtenerTcfl(ordenesAgendas.filter((e) => averiasActividad.includes(e.subtipo_actividad)), 24);\r\n    const altasTCFL = obtenerTcfl(ordenesAgendas.filter((e) => altasActividad.includes(e.subtipo_actividad)), 72);\r\n\r\n    try {\r\n      filtrarBucket(ordenesAgendas, averiasTCFL, altasTCFL);\r\n      filtrarContrata(ordenesAgendas, averiasTCFL, altasTCFL);\r\n      filtrarGestor(ordenesAgendas, averiasTCFL, altasTCFL);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n    setAverias(averiasTCFL);\r\n    setAltas(altasTCFL);\r\n  };\r\n\r\n  function obtenerTcfl(data, hora) {\r\n    const plazo = data.filter((e) => moment(e.fecha_pre_no_realizado).diff(e.fecha_registro_legados, 'hour') < hora);\r\n    const vencidas = data.filter((e) => moment(e.fecha_pre_no_realizado).diff(e.fecha_registro_legados, 'hour') >= hora);\r\n    const porcentaje = Math.round((plazo.length*100) / (plazo.length + vencidas.length) );\r\n    \r\n    return {plazo, vencidas, porcentaje}\r\n  };\r\n\r\n  function filtrarBucket(data, averiasTCFL, altasTCFL) {\r\n    let buckets = [];\r\n    let bucketsChart = [];\r\n    data.forEach((e) => {\r\n      if (!buckets.includes(e.bucket)) {\r\n        buckets.push(e.bucket)\r\n      }\r\n    });\r\n    buckets.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.bucket === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.bucket === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.bucket === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.bucket === e);\r\n      \r\n      bucketsChart.push(...generarObjeto(String(e).substring(6), averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setBucketDetalle(bucketsChart);\r\n  };\r\n\r\n  function filtrarContrata(data, averiasTCFL, altasTCFL) {\r\n    let contratas = [];\r\n    let contratasChart = [];\r\n    data.forEach((e) => {\r\n      if (e.contrata && !contratas.includes(e.contrata.nombre)) {\r\n        contratas.push(e.contrata.nombre)\r\n      }\r\n    });\r\n    contratas.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.contrata && obj.contrata.nombre === e);\r\n      \r\n      contratasChart.push(...generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setContrataDetalle(contratasChart);\r\n  };\r\n\r\n  function filtrarGestor(data, averiasTCFL, altasTCFL) {\r\n    let gestores = [];\r\n    let gestoresChart = [];\r\n    data.forEach((e) => {\r\n      if (e.gestor && !gestores.includes(e.gestor.nombre)) {\r\n        gestores.push(e.gestor.nombre)\r\n      }\r\n    });\r\n    gestores.filter(e => e).forEach((e) => {\r\n      let averiasPlazo = averiasTCFL.plazo.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let averiasVencidas = averiasTCFL.vencidas.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let altasPlazo = altasTCFL.plazo.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      let altasVencidas = altasTCFL.vencidas.filter((obj) => obj && obj.gestor && obj.gestor.nombre === e);\r\n      \r\n      gestoresChart.push(...generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas))\r\n    })\r\n    setGestorDetalle(gestoresChart);\r\n  };\r\n\r\n  function generarObjeto(e, averiasPlazo, averiasVencidas, altasPlazo, altasVencidas) {\r\n    return [{\r\n      indexCode: \"Averias 24h\",\r\n      nombre: e,\r\n      type: \"plazo\",\r\n      ordenes: averiasPlazo,\r\n      value: Math.round((averiasPlazo.length * 100) / (averiasPlazo.length + averiasVencidas.length)),\r\n    },{\r\n      indexCode: \"Averias 24h\",\r\n      nombre: e,\r\n      type: \"vencido\",\r\n      ordenes: averiasVencidas,\r\n      value: Math.round((averiasVencidas.length * 100) / (averiasPlazo.length + averiasVencidas.length)),\r\n    },{\r\n      indexCode: \"Plazo 72h\",\r\n      nombre: e,\r\n      type: \"plazo\",\r\n      ordenes: altasPlazo,\r\n      value: Math.round((altasPlazo.length * 100) / (altasPlazo.length + altasVencidas.length)),\r\n    },{\r\n      indexCode: \"Plazo 72h\",\r\n      nombre: e,\r\n      type: \"vencido\",\r\n      ordenes: altasVencidas,\r\n      value: Math.round((altasVencidas.length * 100) / (altasPlazo.length + altasVencidas.length)),\r\n    }]\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: '.5rem' }}>\r\n      <h3>Indicadores TCFL - {hora}</h3>\r\n      <Checkbox checked={tipoAgenda} onChange={(e) => setTipoAgenda(e.target.checked)}/> Excluir Agendas\r\n      <Row style={{ margin: '1rem 0' }}>\r\n        <IndicadorPorcentaje hora={24} plazo={averias.plazo.length} vencidas={averias.vencidas.length} porcentaje={averias.porcentaje}/>\r\n        <IndicadorPorcentaje hora={72} plazo={altas.plazo.length} vencidas={altas.vencidas.length} porcentaje={altas.porcentaje}/>\r\n      </Row>\r\n      <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DatabaseOutlined />\r\n              Bucket\r\n            </span>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <TablaDetalle data={bucketDetalle} paddingLeft={120} height={350}/>\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UsergroupAddOutlined />\r\n              Contrata\r\n            </span>\r\n          }\r\n          key=\"2\"\r\n        >\r\n           <TablaDetalle data={contrataDetalle} paddingLeft={190} height={350}/>\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <UserOutlined />\r\n              Gestor\r\n            </span>\r\n          }\r\n          key=\"3\"\r\n        >\r\n          <TablaDetalle data={gestorDetalle} paddingLeft={120} height={750}/>\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string\r\n};\r\n\r\nexport default Index;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Select } from 'antd';\r\nimport ChartProduccion from '../ChartProduccion';\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\n\r\nconst { Option } = Select;\r\n\r\nconst todo = \"Todo\";\r\n\r\nfunction Index({ordenes=[], hora}) {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(todo);\r\n  const [filtradosAverias, setFiltradosAverias] = useState([]);\r\n  const [filtradosAltas, setFiltradosAltas] = useState([]);\r\n  const [heightChart, setHeightChart] = useState(500);\r\n\r\n  useEffect(() => {\r\n    listarContratas();\r\n    filtrarData();\r\n  //eslint-disable-next-line\r\n  },[ordenes]);\r\n\r\n  useEffect(() => {\r\n    filtrarData();\r\n  //eslint-disable-next-line\r\n  },[contrataSeleccionada]);\r\n\r\n  useEffect(() => {\r\n    if (filtradosAverias.length > 0 || filtradosAltas.length > 0) {\r\n      const tamaño = filtradosAverias.length > filtradosAltas.length ? filtradosAverias.length : filtradosAltas.length;\r\n      setHeightChart(tamaño > 35 ? tamaño*19 : tamaño*23)\r\n    } else {\r\n      setHeightChart(400)\r\n    }\r\n  },[filtradosAverias, filtradosAltas])\r\n\r\n  async function listarContratas() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      let contratas = [\"Todo\"];\r\n      ordenes.forEach((e) => {\r\n        if (e.contrata && e.contrata.nombre && !contratas.includes(e.contrata.nombre)) {\r\n          contratas.push(e.contrata.nombre);\r\n        }\r\n      });\r\n      setListaContratas(contratas.filter((e) => e));\r\n    };\r\n  };\r\n\r\n  async function filtrarData() {\r\n    if (ordenes && ordenes.length > 0) {\r\n      const averias = ordenes.filter((e) => e.tipo === tipoOrdenes.AVERIAS);\r\n      const altas = ordenes.filter((e) => e.tipo === tipoOrdenes.ALTAS);\r\n      \r\n      setFiltradosAverias(filtrarOrdenes(averias));\r\n      setFiltradosAltas(filtrarOrdenes(altas));\r\n    } else {\r\n      setFiltradosAverias([]);\r\n      setFiltradosAltas([]);\r\n    }\r\n  };\r\n\r\n  function filtrarOrdenes(data) {\r\n    let tecnicos = [];\r\n    let apellidos = [];\r\n    let obj = [{\r\n      nombre: false,\r\n      tecnico: false,\r\n      cantidad: false\r\n    }]\r\n\r\n    data.forEach((e) => {\r\n      let condicion = contrataSeleccionada === todo ? true : e.contrata.nombre === contrataSeleccionada;\r\n      if (condicion && !tecnicos.includes(`${e.tecnico.nombre} ${e.tecnico.apellidos}`)) {\r\n        tecnicos.push(`${e.tecnico.nombre} ${e.tecnico.apellidos}`);\r\n        apellidos.push(e.tecnico.apellidos)\r\n      }\r\n    });\r\n    apellidos = apellidos.filter(e => e);\r\n    tecnicos.filter(e => e).forEach((t) => {\r\n      const ordenesF = data.filter((e) => {\r\n        let condicion = contrataSeleccionada === todo ? true : e.contrata.nombre === contrataSeleccionada;\r\n        return ((e.tecnico.nombre+' '+e.tecnico.apellidos) === t && condicion)\r\n      });\r\n      const aux =  String(ordenesF[0].tecnico.nombre).substring(0,1)+'. '+ordenesF[0].tecnico.apellidos;\r\n      const nombre = String(aux).length > 20 ? String(aux).substring(0,20) + '...' : String(aux);\r\n      obj.push({\r\n        nombre: nombre.replace(/ {3}/g,\" \"),\r\n        tecnico: String(t).replace(/ {3}/g,\" \"),\r\n        cantidad: ordenesF.length\r\n      })\r\n    });\r\n    obj = obj.filter(e => e.nombre)\r\n    return obj;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginTop: '.5rem' }}>\r\n        <h3>Indicadores de Producción - {hora}</h3>\r\n        <Row style={{ marginTop: '1rem' }}>\r\n          <span>Contrata: </span>\r\n          <Select size=\"small\" style={{ width: '260px', marginLeft: '.5rem' }} value={contrataSeleccionada} onChange={(e) => setContrataSeleccionada(e)}>\r\n          {\r\n            listaContratas.length > 0 ?\r\n            listaContratas.map((c, i) => (\r\n              <Option key={i} value={c}>{c}</Option>\r\n            )):\r\n            <Option value={0}>-</Option>\r\n          }\r\n          </Select>\r\n        </Row>\r\n      </div>\r\n      <Row style={{ margin: '1rem 0' }}>\r\n        <Col sm={12} style={{ textAlign: 'center', margin: 0, padding: 0 }}>\r\n          <h4>Averias</h4>\r\n          <ChartProduccion data={filtradosAverias} field=\"tecnico\" height={heightChart} paddinLeft={180}/>\r\n        </Col>\r\n        <Col sm={12} style={{ textAlign: 'center', margin: 0, padding: 0 }}>\r\n          <h4>Altas</h4>\r\n          <ChartProduccion data={filtradosAltas} field=\"tecnico\" height={heightChart} paddinLeft={180}/>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  ordenes: PropTypes.array,\r\n  hora: PropTypes.string,\r\n};\r\n\r\nexport default Index;\r\n\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport ResumenGeneral from '../views/Dashboard/ResumenGeneral';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.resumenGeneral,\r\n    exact: true,\r\n    component: ResumenGeneral,\r\n    nivel: permisos.todos\r\n  }\r\n]\r\n\r\nexport default rutas","import React, { useState, useEffect } from 'react';\r\nimport cogoToast from 'cogo-toast';\r\nimport moment from 'moment';\r\n\r\nimport { socket } from '../../services/socket';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport IndicadoresLiquidacion from '../../components/dashboard/IndicadoresLiquidacion';\r\nimport IndicadoresActividad from '../../components/dashboard/IndicadoresActividad';\r\nimport IndicadoresTCFL from '../../components/dashboard/IndicadoresTCFL';\r\nimport IndicadoresProduccion from '../../components/dashboard/IndicadoresProduccion';\r\nimport { estadosToa } from '../../constants/valoresToa';\r\n\r\nexport default function ResumenGeneral() {\r\n  const [ordenes, setOrdenes] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState('');\r\n\r\n  useEffect(() => {\r\n    socket.emit('obtenerOrdenes');\r\n    \r\n    socket.on('ordenesGraficos', ({averias, altas, hora}) => {\r\n      const jsonAverias = new Array(JSON.parse(averias));\r\n      const jsonAltas = new Array(JSON.parse(altas));\r\n      if (hora && moment(new Date(hora)).isValid()) setHoraActualizado(moment(new Date(hora)).format('HH:mm'));\r\n      if(jsonAverias && jsonAverias[0] && jsonAverias[0].length > 0\r\n        && jsonAltas && jsonAltas[0] && jsonAltas[0].length > 0) setOrdenes([...jsonAverias[0], ...jsonAltas[0]]);\r\n    });\r\n\r\n    socket.on('error', (e) => {\r\n      console.log(e);\r\n      cogoToast.error('Error conectando al servidor.', { position: 'top-left' })\r\n    });\r\n\r\n    return () => {\r\n      socket.off('ordenesGraficos');\r\n    };\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Resumen General\" subtitulo=\"Dashboard\"/>\r\n      <IndicadoresLiquidacion ordenes={ordenes} hora={horaActualizado}/>\r\n      <Contenedor>\r\n        <IndicadoresActividad ordenes={ordenes} hora={horaActualizado} />\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <IndicadoresTCFL \r\n          ordenes={ordenes.filter((e) => e.estado_toa === estadosToa.COMPLETADO)} \r\n          hora={horaActualizado}\r\n        />\r\n      </Contenedor>\r\n      <Contenedor>\r\n        <IndicadoresProduccion \r\n          ordenes={ordenes.filter((e) => e.estado_toa === estadosToa.COMPLETADO && e.contrata && e.contrata.nombre)}\r\n          hora={horaActualizado}\r\n        />\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Button, Input, Radio  } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { buscarEmpleado } from '../../../services/apiEmpleado';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function HeaderEmpleados(abrirModalCrear, listarEmpleado, setEmpleados, setPageNumber, setTotalDocs) {\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n\r\n  async function buscarPersonal(value) {\r\n    if (value.length > 1) {\r\n      await buscarEmpleado(value, tipoBusqueda)\r\n        .then(({data}) => {\r\n          if (data.length > 0) {\r\n            setEmpleados(data)\r\n            setPageNumber(1)\r\n            setTotalDocs(data.length)\r\n          } else {\r\n            setEmpleados([]);\r\n          };\r\n        })\r\n        .catch((err) => console.log(err))\r\n    } else {\r\n      await listarEmpleado();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"header-tabla\">\r\n      <div className=\"busqueda\">\r\n        <Radio.Group \r\n          onChange={(e) => setTipoBusqueda(e.target.value)} \r\n          value={tipoBusqueda}\r\n          style={{ paddingTop: '.22rem' }}\r\n        >\r\n          <Radio value=\"nombre\">Nombre</Radio>\r\n          <Radio value=\"numero_documento\">Documento</Radio>\r\n          <Radio value=\"carnet\">Carnet</Radio>\r\n        </Radio.Group>\r\n        <Search\r\n          placeholder=\"Buscar personal\"\r\n          allowClear\r\n          enterButton={false}\r\n          onSearch={buscarPersonal}\r\n          style={{ width: 200, margin: 0 }}\r\n        />\r\n      </div>\r\n      <div className=\"boton-agregar\">\r\n        <Button\r\n          icon={<PlusOutlined/>}\r\n          onClick={abrirModalCrear}\r\n        >\r\n          Agregar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","const estadoEmpleado = {\r\n  ACTIVO: 'Activo',\r\n  SUSPENDIDO: 'Suspendido',\r\n  INACTIVO: 'Inactivo',\r\n};\r\n\r\nexport default estadoEmpleado;\r\n","import { Tag } from 'antd';\r\nimport { CheckCircleOutlined, ExclamationCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport React from 'react';\r\nimport cargos from '../../../constants/cargos';\r\nimport colores from '../../../constants/colores';\r\nimport estadoEmpleado from '../../../constants/estadoEmpleado';\r\n\r\nexport function CargoTag({cargo}) {\r\n  switch (cargo) {\r\n    case cargos.ADMINISTRADOR:\r\n      return (<Tag color=\"geekblue\">Administrador</Tag>)\r\n    case cargos.JEFE_OPERACIONES:\r\n      return (<Tag color=\"blue\">Jefe de Operaciones</Tag>)\r\n    case cargos.JEFE_LOGISTICA:\r\n      return (<Tag color=\"cyan\">Jefe de Logistica</Tag>)\r\n    case cargos.LIDER_GESTION:\r\n      return (<Tag color=\"purple\">Lider de Gestion</Tag>)\r\n    case cargos.ASISTENTE_LOGISTICA:\r\n      return (<Tag color=\"green\">Asistente de Logistica</Tag>)\r\n    case cargos.JEFE_CONTRATA:\r\n      return (<Tag color=\"orange\">Jefe de Contrata</Tag>)\r\n    case cargos.GESTOR:\r\n      return (<Tag color=\"magenta\">Gestor</Tag>)\r\n    case cargos.ALMACENERO:\r\n      return (<Tag color=\"red\">Almacenero</Tag>)\r\n    case cargos.AUDITOR:\r\n      return (<Tag color=\"gold\">Auditor</Tag>)\r\n    case cargos.TECNICO:\r\n      return (<Tag color=\"volcano\">Tecnico</Tag>)\r\n    default:\r\n      return (<Tag>Sin cargo</Tag>)\r\n  }\r\n};\r\n\r\nexport function EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case estadoEmpleado.ACTIVO: \r\n      return (<Tag icon={<CheckCircleOutlined/>} color={colores.success}>{estado}</Tag>);\r\n    case estadoEmpleado.SUSPENDIDO:\r\n      return (<Tag icon={<ExclamationCircleOutlined/>} color={colores.warning}>{estado}</Tag>)\r\n    case estadoEmpleado.INACTIVO:\r\n      return (<Tag icon={<CloseCircleOutlined />} color={colores.error}>{estado}</Tag>)\r\n    default:\r\n      return (<Tag>Desconocido</Tag>);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEmpleado({accion, visible, setVisible, empleado={}, contratas=[], guardar}) {\r\n  const [empleadoObj, setEmpleadoObj] = useState({numero_documento: Number(Date.now())});\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (empleado._id) setEmpleadoObj({\r\n      ...empleado, \r\n      email: empleado.usuario.email,\r\n      cargo: empleado.usuario.cargo,\r\n      contrata: empleado.contrata && empleado.contrata._id\r\n    });\r\n  },[empleado])\r\n\r\n\r\n  const limpiar = () => {\r\n    setVisible(false)\r\n  };\r\n\r\n  const onOk = () => {\r\n    form.validateFields().then(async(values) => {\r\n      setEmpleadoObj({numero_documento: Date.now()});\r\n      form.resetFields();\r\n      const obj = {\r\n        ...values,\r\n        usuario: {\r\n          email: values.email,\r\n          cargo: values.cargo\r\n        }\r\n      }\r\n      await guardar(obj);\r\n      setVisible(false);\r\n    }).catch(info => {\r\n      console.log('Validate Failed:', info);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={300}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? \"Crear Empleado\": \"Editar Empleado\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiar}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Form\r\n        name=\"form_empleado\"\r\n        layout=\"vertical\"\r\n        size=\"small\"\r\n        form={form}\r\n        initialValues={empleadoObj}\r\n        onValuesChange={(e) => setEmpleadoObj({...empleadoObj, ...e})}\r\n      >\r\n        <Form.Item\r\n          name=\"nombre\"\r\n          label=\"Nombre\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"apellidos\"\r\n          label=\"Apellidos\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Correo\"\r\n          rules={[{ required: true, type: \"email\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"cargo\"\r\n          label=\"Cargo\"\r\n          rules={[{ required: true, type: \"number\" }]}\r\n        >\r\n          <Select disabled={empleadoObj.cargo < cargos.JEFE_LOGISTICA && accion === 'editar'} placeholder=\"Seleccionar cargo\" onChange={(e) => setEmpleadoObj({...empleadoObj, cargo: e})} allowClear>\r\n            <Option value={cargos.JEFE_OPERACIONES}>Jefe de Operaciones</Option>\r\n            <Option value={cargos.LIDER_GESTION}>Lider de Gestión</Option>\r\n            <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n            <Option value={cargos.JEFE_CONTRATA}>Jefe de Contrata</Option>\r\n            <Option value={cargos.GESTOR}>Gestor</Option>\r\n            <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n            <Option value={cargos.AUDITOR}>Auditor</Option>\r\n            <Option value={cargos.TECNICO}>Tecnico</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"carnet\"\r\n          label=\"Carnet\"\r\n          rules={[{ required: false }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        {\r\n          contratas && contratas.length > 0 ? \r\n          <Form.Item\r\n            name=\"contrata\"\r\n            label=\"Contrata\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Select placeholder=\"Seleccionar contrata\" onChange={(e) => setEmpleadoObj({...empleadoObj, contrata: e})} allowClear>\r\n            {\r\n              contratas.map((c,i) => (\r\n                <Option key={i} value={c._id}>{c.nombre}</Option>\r\n              ))\r\n            }\r\n            </Select>\r\n          </Form.Item>:null\r\n        }\r\n        <Form.Item \r\n          name=\"tipo_documento\"\r\n          label=\"Tipo de Documento\"\r\n        >\r\n          <Select placeholder=\"Seleccionar tipo\" onChange={e => setEmpleadoObj({...empleadoObj, tipo_documento: e})} allowClear>\r\n            <Option value=\"DNI\">DNI</Option>\r\n            <Option value=\"Otro\">Otro</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"numero_documento\"\r\n          label=\"Numero de Documento\"\r\n          rules={[{ required: false, type: 'string' }]}\r\n        >\r\n          <Input/>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEmpleado.propTypes = {\r\n  accion: PropTypes.string,\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  empleado: PropTypes.object,\r\n  contratas: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalEmpleado;\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalPermisos({visible, setVisible, listarEmpleados, id}) {\r\n  const [cargo, setCargo] = useState(4);\r\n\r\n  async function actualizarCargo() {\r\n    await patchEmpleados(true, { id, metodo: empleados.ACTUALIZAR_CARGO, cargo } )\r\n      .then(() => setVisible(!visible))\r\n      .catch((error) => {\r\n        setVisible(false);\r\n        console.log(error);\r\n      })\r\n  };\r\n\r\n  const cambiarCargo = (value) => setCargo(value);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar Cargo\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={actualizarCargo}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Recuerda que no es posible otorgar un cargo superior \r\n        al tuyo y que todo cambio quedará registrado en el \r\n        sistema.\r\n      </p>\r\n      <p>Seleccionar Cargo:</p>\r\n      <Select\r\n        defaultValue={cargo}\r\n        onChange={cambiarCargo}\r\n        style={{ width: 180 }}\r\n      >\r\n        <Option value={cargos.LIDER_GESTION}>Lider de Gestion</Option>\r\n        <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n        <Option value={cargos.JEFE_CONTRATA}>Jefe de contrata</Option>\r\n        <Option value={cargos.GESTOR}>Gestor</Option>\r\n        <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n        <Option value={cargos.AUDITOR}>Auditor</Option>\r\n        <Option value={cargos.TECNICO}>Tecnico</Option>\r\n      </Select>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalPermisos.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalPermisos\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, DatePicker, Space } from 'antd';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEstado({visible, setVisible, listarEmpleados, id}) {\r\n  const [estado, setEstado] = useState(1);\r\n  const [fechaBaja, setFechaBaja] = useState('');\r\n\r\n  async function onOk() {\r\n    await patchEmpleados(true, { \r\n      id, \r\n      metodo: empleados.EDITAR_ESTADO,\r\n      fecha_baja: fechaBaja, \r\n      estado_empresa: estado\r\n    }).then(async () => {\r\n        setVisible(false);\r\n        await listarEmpleados();\r\n      }).catch((e) => console.log(e));\r\n  };\r\n\r\n  const cambiarFecha = (_,b) => setFechaBaja(b);\r\n\r\n  const cambiarEstado = (v) => setEstado(v);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Estado Empresa\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Activo\" tiene la cuenta habilitada y aparece en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Suspendido\" no podrá iniciar sesión en el sistema, pero seguirá apareciendo en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Inactivo\" no podrá iniciar sesión en el sistema y desaparecerá por completo de las listas del sistema (usuario de baja)  \r\n      </p>      \r\n      <Space direction=\"vertical\">\r\n        Seleccionar: \r\n        <Select \r\n          defaultValue={estado}\r\n          onChange={cambiarEstado}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Option value={1}>Activo</Option>\r\n          <Option value={2}>Suspendido</Option>\r\n          <Option value={3}>Inactivo</Option>\r\n        </Select>\r\n        Fecha de suspensión / baja:\r\n        <DatePicker onChange={cambiarFecha} />\r\n      </Space>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalEstado\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal } from 'antd';\r\nimport { \r\n  LockOutlined, \r\n  CloseCircleOutlined, \r\n  CaretUpOutlined,\r\n  UserOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport ModalPermisos from './ModalPermisos';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport ModalEstado from './ModalEstado';\r\n\r\nfunction ModalConfiguracion({visible, setVisible, id, listarEmpleados}) {\r\n  const [modalPermisos, setModalPermisos] = useState(false);\r\n  const [modalEstados, setModalEstados] = useState(false);\r\n\r\n  async function actualizarEmpleado(metodo) {\r\n    await patchEmpleados(true, { id, metodo })\r\n    .then(() => {\r\n      listarEmpleados();\r\n      setVisible(!visible);\r\n    })\r\n    .catch((error) => console.log(error))\r\n  };\r\n\r\n  const abrirModalPermisos = () => setModalPermisos(!modalPermisos);\r\n  const abrirModalEstado = () => setModalEstados(!modalEstados);\r\n\r\n  const onOk = async () => {\r\n    await listarEmpleados();\r\n    setVisible(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configuraciones\"\r\n      visible={visible}\r\n      width={250}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <Button \r\n        block\r\n        icon={<LockOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.RESET_PASS)}\r\n      >Reiniciar Contraseña</Button>\r\n      <Button \r\n        block\r\n        icon={<CloseCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.CERRAR_SESSION)}\r\n      >Cerrar Sessión</Button>\r\n      <Button \r\n        block\r\n        icon={<CaretUpOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalPermisos}\r\n      >Permisos</Button>\r\n      <Button \r\n        block\r\n        icon={<UserOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.ACTIVAR_CUENTA)}\r\n      >Activar Cuenta</Button>\r\n      <Button \r\n        block\r\n        danger\r\n        icon={<ExclamationCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalEstado}\r\n      >Cambiar Estado</Button>\r\n      {/* MODAL PARA CAMBIAR LOS PERMISOS DEL USUARIO */}\r\n      <ModalPermisos \r\n        visible={modalPermisos} \r\n        setVisible={setModalPermisos}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n      {/* MODAL PARA CAMBIAR EL ESTADO DEL EMPLEADO EN LA EMPRESA */}\r\n      <ModalEstado\r\n        visible={modalEstados}\r\n        setVisible={setModalEstados}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalConfiguracion.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  id: PropTypes.string,\r\n  listarEmpleados: PropTypes.func\r\n}\r\n\r\nexport default ModalConfiguracion\r\n\r\n","import React, { useState } from 'react';\r\nimport { EditTwoTone, SettingTwoTone } from '@ant-design/icons'\r\n\r\nimport colores from '../../../constants/colores';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport ModalConfiguracion from './ModalConfiguracion';\r\nimport { putEmpleados } from '../../../services/apiEmpleado';\r\n\r\nexport default function EmpleadoAcciones({ id, empleado, listarEmpleados, listaContratas }) {\r\n  const [visibleEmpleado, setVisibleEmpleado] = useState(false);\r\n  const [visibleConf, setVisibleConf] = useState(false);\r\n\r\n  async function actualizarEmpleado(data) {\r\n    await putEmpleados(id, data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <span>\r\n      <EditTwoTone \r\n        title=\"Editar\"\r\n        twoToneColor={colores.warning} \r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleEmpleado(true)}\r\n      />\r\n      <SettingTwoTone \r\n        title=\"Configuraciones\"\r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleConf(true)}\r\n      />\r\n      {/* MODAL PARA EDITAR EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"editar\"\r\n        empleado={empleado}\r\n        contratas={listaContratas}\r\n        visible={visibleEmpleado}\r\n        setVisible={setVisibleEmpleado}\r\n        guardar={actualizarEmpleado}\r\n      />\r\n      {/* MODAL PARA CONFIGURAR */}\r\n      <ModalConfiguracion\r\n        visible={visibleConf}\r\n        setVisible={setVisibleConf}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n    </span>\r\n  )\r\n};\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {string} metodo\r\n */\r\nexport const getContratas = async (toast, metodo) => restPrivate({\r\n  url: 'contratas', method: 'GET', params: {metodo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postContrata = async (data) => restPrivate({\r\n  url: 'contratas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n */\r\nexport const putContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PUT', data, \r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {object} data objeto a enviar\r\n * @param {bool} data.activo\r\n * @param {Date} data.fecha_baja\r\n */\r\nexport const patchContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PATCH', data\r\n}, true)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalle({visible, abrirModal, empleado={}}) {\r\n  return (\r\n    <Modal\r\n      width={450}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Aceptar\"\r\n      title=\"Detalle del Usuario\"\r\n      visible={visible}\r\n      onOk={abrirModal}\r\n      onCancel={abrirModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Descriptions layout=\"vertical\" bordered size=\"small\" column={2}>\r\n        {empleado.gestor&&(<Descriptions.Item label=\"Gestor:\">{empleado.gestor.nombre && empleado.gestor.nombre}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Tipo de Doc.:\">{empleado.tipo_documento}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Numero de Doc.:\">\r\n          <Text copyable>{empleado.numero_documento}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\">{empleado.fecha_nacimiento && moment(empleado.fecha_nacimiento).format('DD-MM-YYYY')}</Descriptions.Item>\r\n        {empleado.fecha_ingreso&&(<Descriptions.Item label=\"Fecha de Ingreso\">{moment(empleado.fecha_ingreso).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        {empleado.fecha_baja&&(<Descriptions.Item label=\"Fecha de Baja\">{moment(empleado.fecha_baja).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Nacionalidad\">{empleado.nacionalidad?empleado.nacionalidad:'-'}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Observación\" span={2}>{empleado.observacion}</Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrirModal: PropTypes.func,\r\n  empleado: PropTypes.object\r\n}\r\n\r\nexport default ModalDetalle\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Tooltip, Typography } from 'antd'\r\n\r\nimport Contenedor from '../../common/Contenedor'\r\nimport HeaderEmpleados from './HeaderEmpleados';\r\nimport { CargoTag, EstadoTag } from './EmpleadoTag';\r\nimport EmpleadoAcciones from './EmpleadoAcciones';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport { getEmpleados, postEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport ModalDetalle from './ModalDetalle';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaEmpleados() {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [limitNumber, setLimitNumber] = useState(20);\r\n  const [totalDocs, setTotalDocs] = useState(1);\r\n  const [dataEmpleados, setDataEmpleados] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [empleadoObj, setEmpleadoObj] = useState({});\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    listarEmpleados();\r\n    listarContratas();\r\n  //eslint-disable-next-line\r\n  },[pageNumber, limitNumber]);\r\n\r\n  async function listarEmpleados() {\r\n    setLoading(true);\r\n    await getEmpleados(\r\n      true, {\r\n        metodo: empleados.LISTA_TODO,\r\n        page:pageNumber, \r\n        limit:limitNumber\r\n      }\r\n    ).then(({data}) => {\r\n      setDataEmpleados(data.docs);\r\n      setTotalDocs(data.totalDocs)\r\n      setLoading(false);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error)\r\n    });\r\n  };\r\n\r\n  async function listarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function guardarEmpleado(data) {\r\n    await postEmpleados(data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const verDetalleEmpleado = (empleado) => {\r\n    setEmpleadoObj(empleado);\r\n    abrirModalDetalle();\r\n  }\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 150\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      dataIndex: 'apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: apellidos => (\r\n        <Tooltip placement=\"topLeft\" title={apellidos}>\r\n          {apellidos}\r\n        </Tooltip>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'usuario',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (u) => (\r\n        <Tooltip placement=\"topLeft\" title={u && u.email}>\r\n          {u && u.email}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      dataIndex: 'usuario',\r\n      width: 150,\r\n      render: (u) => <CargoTag cargo={u.cargo}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c && c.nombre}>\r\n          {c && c.nombre}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 150,\r\n      render: (c) => {\r\n        if (c) {\r\n          return (<Text copyable>{c}</Text>)\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_empresa',\r\n      width: 150,\r\n      render: (estado) => <EstadoTag estado={estado}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (id, row) => <EmpleadoAcciones id={id} empleado={row} listarEmpleados={listarEmpleados} listaContratas={listaContratas}/>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => verDetalleEmpleado(record)\r\n          }\r\n        }}\r\n        className=\"tabla-personal\"\r\n        title={() => HeaderEmpleados(abrirModalCrear, listarEmpleados, setDataEmpleados, setPageNumber, setTotalDocs)}\r\n        columns={columnas}\r\n        dataSource={dataEmpleados}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ x: '1250px', y: '65vh' }}\r\n        pagination={{\r\n          current: pageNumber,\r\n          total: totalDocs,\r\n          defaultPageSize: limitNumber,\r\n          pageSizeOptions: [10,20,50,100],\r\n          onChange: (page) => setPageNumber(page),\r\n          onShowSizeChange: (_,limit) => setLimitNumber(limit)\r\n        }}\r\n      />\r\n      {/* MODAL PARA CREAR EL NUEVO EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"crear\"\r\n        contratas={listaContratas}\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={guardarEmpleado}\r\n      />\r\n      {/* MODAL DETALLE DEL EMPLEADO */}\r\n      <ModalDetalle\r\n        visible={modalDetalle}\r\n        abrirModal={abrirModalDetalle}\r\n        empleado={empleadoObj}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction ModalContrata({visible, setVisible, accion, guardar, contrata={}}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [ruc, setRuc] = useState(null);\r\n  const [fecha_incorporacion, setFecha_incorporacion] = useState(null);\r\n  const [observacion, setObservacion] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (contrata.nombre) {\r\n      setNombre(contrata.nombre);\r\n      setRuc(contrata.ruc);\r\n      setFecha_incorporacion(contrata.fecha_incorporacion);\r\n      setObservacion(contrata.observacion);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[contrata]);\r\n\r\n  const limpiarEstados = async () => {\r\n    setNombre(null);\r\n    setRuc(null);\r\n    setFecha_incorporacion(null);\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  const onOk = async () => {\r\n    await guardar({nombre, ruc, \r\n      fecha_incorporacion: fecha_incorporacion && fecha_incorporacion, \r\n      observacion: observacion && observacion\r\n    }, contrata.id);\r\n    limpiarEstados();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      width={270}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? 'Crear Contrata':'Editar Contrata'}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarEstados}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n        <p>Nombre de Contrata:</p>\r\n        <Input\r\n          placeholder=\"Nombre de Contrata\" \r\n          defaultValue={nombre} \r\n          onChange={e => setNombre(e.target.value)}\r\n        /><br/><br/>\r\n        <p>RUC:</p>\r\n        <Input \r\n          placeholder=\"RUC\" \r\n          defaultValue={ruc} \r\n          onChange={e => setRuc(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Fecha de Incorporación:</p>\r\n        <DatePicker\r\n          defaultValue={fecha_incorporacion && moment.utc(fecha_incorporacion)} \r\n          onChange={(_, date) => setFecha_incorporacion(date)}\r\n        /><br/><br/>\r\n        <p>Observacion:</p>\r\n        <Input\r\n          placeholder=\"Observacion\" \r\n          defaultValue={observacion} \r\n          onChange={e => setObservacion(e.target.value)}\r\n        /><br/><br/>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalContrata.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  accion: PropTypes.string,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object,\r\n}\r\n\r\nexport default ModalContrata\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker, Modal, Radio, Space } from 'antd';\r\n\r\n\r\nfunction ModalEliminar({visible, setVisible, guardar, contrata={}}) {\r\n  const [activo, setActivo] = useState(true);\r\n  const [fecha_baja, setFecha_baja] = useState(null);\r\n\r\n  async function onOk() {\r\n    if (contrata._id) {\r\n      await guardar(contrata._id, { activo, fecha_baja });\r\n      limpiarModal();\r\n    } else {  \r\n      console.log('objeto contrata vacio.')\r\n    }\r\n  };\r\n\r\n  const cambiarEstado = (e) => setActivo(e.target.value);\r\n  const cambiarFecha = (_,f) => setFecha_baja(f);\r\n\r\n  const limpiarModal = () => {\r\n    setActivo(true);\r\n    setFecha_baja(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={250}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title=\"Desactivar Contrata\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Space direction=\"vertical\">\r\n        <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n          *La contrata no se eliminará de la base de datos, pero si dejará de aparecer en las listas del sistema.\r\n        </p>\r\n        Seleccionar estado:\r\n        <Radio.Group onChange={cambiarEstado} value={activo}>\r\n          <Radio value={true}>Activo</Radio>\r\n          <Radio value={false}>Inactivo</Radio>\r\n        </Radio.Group>\r\n        Seleccionar fecha de baja:\r\n        <DatePicker onChange={cambiarFecha}/>\r\n      </Space>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEliminar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object\r\n};\r\n\r\nexport default ModalEliminar;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Tag } from 'antd';\r\nimport { EditTwoTone, PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../common/Contenedor';\r\nimport { getContratas, patchContrata, postContrata, putContrata } from '../../../services/apiContrata';\r\nimport { contratas } from '../../../constants/metodos';\r\nimport ModalContrata from './ModalContrata';\r\nimport colores from '../../../constants/colores';\r\nimport ModalEliminar from './ModalEliminar';\r\n\r\nexport default function TablaContratas() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataContratas, setDataContratas] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalEliminar, setModalEliminar] = useState(false);\r\n  const [contrata, setContrata] = useState({});\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    setLoading(true);\r\n    await getContratas(true, contratas.LISTA_TODO).then(({data}) => {\r\n      setLoading(false);\r\n      setDataContratas(data && data);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  async function crearContrata(data) {\r\n    await postContrata(data)\r\n      .then(async() => await cargarContratas())\r\n      .catch((error) => {\r\n        console.log(error);\r\n        abrirModalCrear();\r\n      })\r\n  };\r\n\r\n  async function editarContrata(data) {\r\n    if (contrata._id) {\r\n      await putContrata(contrata._id, data)\r\n        .then(async() => await cargarContratas())\r\n        .catch((error) => {\r\n          console.log(error);\r\n          abrirModalEditar();\r\n        })\r\n    }\r\n  };\r\n\r\n  async function eliminarContrata(id, data) {\r\n    await patchContrata(id, data)\r\n      .then(async() => await cargarContratas())\r\n      .catch(error => {\r\n        console.log(error);\r\n        abrirModalEliminar();\r\n      })\r\n  }\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalEliminar = () => setModalEliminar(!modalEliminar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'activo',\r\n      width: 150,\r\n      render: (a) => {\r\n        if (a) {\r\n          return (<Tag color=\"success\">Activo</Tag>)\r\n        } else {\r\n          return (<Tag color=\"error\">Inactivo</Tag>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Inicio',\r\n      dataIndex: 'fecha_incorporacion',\r\n      width: 150,\r\n      render: (f) => f?moment(f).format('DD-MM-YYYY'):'-'\r\n    },\r\n    {\r\n      title: 'Fecha Baja',\r\n      dataIndex: 'fecha_baja',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY'): '-'\r\n    },\r\n    {\r\n      title: 'Observación',\r\n      dataIndex: 'observacion'\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (_, row) => (\r\n        <span>\r\n          <EditTwoTone\r\n            title=\"Editar\"\r\n            twoToneColor={colores.warning} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEditar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n          <DeleteTwoTone \r\n            title=\"Configuraciones\"\r\n            twoToneColor={colores.error} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEliminar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        style={{ marginBottom: '1rem' }}\r\n        className=\"tabla-personal\"\r\n        title={() => \r\n          <Button \r\n            icon={<PlusOutlined/>}\r\n            onClick={abrirModalCrear}\r\n          >\r\n            Agregar\r\n          </Button>\r\n        }\r\n        columns={columnas}\r\n        dataSource={dataContratas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={false}\r\n      />\r\n      {/* MODAL PARA AGREGAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={crearContrata}\r\n        accion=\"crear\"\r\n      />\r\n      {/* MODAL PARA EDITAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalEditar}\r\n        setVisible={setModalEditar}\r\n        guardar={editarContrata}\r\n        contrata={contrata}\r\n        accion=\"editar\"\r\n      />\r\n      {/* MODAL ELIMINAR CONTRATA */}\r\n      <ModalEliminar\r\n        visible={modalEliminar}\r\n        setVisible={setModalEliminar}\r\n        guardar={eliminarContrata}\r\n        contrata={contrata}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport ListaPersonal from \"../views/GestionPersonal/ListaPersonal\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.listaPersonal,\r\n    exact: true,\r\n    component: ListaPersonal,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: listaRutas.listaContratas,\r\n    exact: true,\r\n    component: ListaContratas,\r\n    nivel: permisos.listaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport TablaEmpleados from '../../components/gestionEmpleados/personal/TablaEmpleados';\r\n\r\nexport default function ListaPersonal() {\r\n  return (\r\n    <div>\r\n      <TituloVista\r\n        titulo=\"Lista de Personal\"\r\n        subtitulo=\"Usuarios y Personal\"\r\n      />\r\n      <TablaEmpleados/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport TablaContratas from '../../components/gestionEmpleados/contrata/TablaContratas';\r\n\r\nexport default function ListaContratas() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Contratas\" subtitulo=\"Usuarios y Personal\"/>\r\n      <TablaContratas/>\r\n    </div>\r\n  )\r\n}\r\n","import moment from \"moment\";\r\n\r\n/**\r\n * @param {array} data \r\n * @param {string} field \r\n */\r\nexport function obtenerFiltroId(data=[], field, persona=false) {\r\n  if (data.length === 0) {\r\n    return ([]);\r\n  } else {\r\n    let filtrosArray = [];\r\n    let isNull = false;\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null && e[field]._id && e[field]._id !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === e[field]._id)\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: persona ? e[field].nombre + ' ' + e[field].apellidos : e[field].nombre,\r\n              value: e[field]._id\r\n            })\r\n          } \r\n        } else {\r\n          isNull = true;\r\n        };\r\n      });\r\n      if (isNull) {\r\n        return ([...filtrosArray, { text: '-', value: '-'}]);\r\n      } else {\r\n        return filtrosArray;\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      return [];\r\n    }\r\n  };\r\n};\r\n\r\nexport function obtenerFiltroNombre(data=[], field) {\r\n  if (data.length === 0) {\r\n    return [];\r\n  } else {\r\n    let filtrosArray = [];\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === e[field])\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: e[field],\r\n              value: e[field]\r\n            })\r\n          } \r\n        };\r\n      });\r\n      return (filtrosArray);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return ([]);\r\n    }\r\n  }\r\n};\r\n\r\nexport function obtenerFiltroFecha(data=[], field) {\r\n  if (data.length === 0) {\r\n    return ([]);\r\n  } else {\r\n    let filtrosArray = [];\r\n    try {\r\n      data.forEach((e) => {\r\n        if (e[field] !== undefined && e[field] !== null) {\r\n          const i = filtrosArray.findIndex(c => c.value === moment(e[field]).format('DD/MM/YY'))\r\n          if (i === -1) {\r\n            filtrosArray.push({\r\n              text: moment(e[field]).format('DD/MM/YY'),\r\n              value: moment(e[field]).format('DD/MM/YY')\r\n            })\r\n          } \r\n        };\r\n      });\r\n      filtrosArray.push({text: '-', value: '-'})\r\n      return (filtrosArray);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return ([]);\r\n    }\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select, Table, Button, Row, Col, Radio, Input } from 'antd';\r\nimport { CheckCircleOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\nimport moment from 'moment';\r\n\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\nimport { tipoNegocio, subTipoNegocio } from '../../../constants/tipoOrden';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst valoresTecnicos = {\r\n  contrata: \"Contrata\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  tipo_negocio: \"Negocio\",\r\n  sub_tipo_negocio: \"Sub Negocio\"\r\n};\r\n\r\nfunction TablaTecnicos({gestores=[], loadingGestores, auditores=[], loadingAuditores}) {\r\n  const [totalTecnicos, setTotalTecnicos] = useState([]);\r\n  const [dataTecnicos, setDataTecnicos] = useState([]);\r\n  const [loadingTecnicos, setLoadingTecnicos] = useState(false);\r\n  const [loadingAsignarGestor, setLoadingAsignarGestor] = useState(false);\r\n  const [loadingAsignarAuditor, setLoadingAsignarAuditor] = useState(false);\r\n  const [loadingAsignarNegocio, setLoadingAsignarNegocio] = useState(false);\r\n  const [loadingAsignarSubNegocio, setLoadingAsignarSubNegocio] = useState(false);\r\n  const [tecnicosSeleccionados, setTecnicosSeleccionados] = useState([]);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [auditorSeleccionado, setAuditorSeleccionado] = useState(null);\r\n  const [negocioSeleccionado, setNegocioSeleccionado] = useState(null);\r\n  const [subNegocioSeleccionado, setSubNegocioSeleccionado] = useState(null);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroAuditor, setFiltroAuditor] = useState([]);\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    cargarEmpleados();\r\n  },[]);\r\n\r\n  async function cargarEmpleados() {\r\n    setLoadingTecnicos(true);\r\n    await getEmpleados(true, { metodo: empleados.LISTA_TECNICOS_GLOBAL }).then(async({data}) => {\r\n        if (data) {\r\n          setFiltroContrata(obtenerFiltroId(data, 'contrata'));\r\n          setFiltroGestor(obtenerFiltroId(data, 'gestor', true));\r\n          setFiltroAuditor(obtenerFiltroId(data, 'auditor', true));\r\n          setDataTecnicos(data);\r\n          setTotalTecnicos(data);\r\n        } else {\r\n          setDataTecnicos([]);\r\n          setTotalTecnicos([]);\r\n        }\r\n      }).catch((error) => console.log(error)).finally(() => setLoadingTecnicos(false));\r\n  };\r\n\r\n  async function asignarTecnico(tipo) {\r\n    if (tipo === 'gestor') {\r\n      if (tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarGestor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_GESTOR, gestor: gestorSeleccionado === '-' ? null: gestorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => await cargarEmpleados()).catch((err) => console.log(err)).finally(() => setLoadingAsignarGestor(false));\r\n      } else {\r\n        console.log('no hay tecnicos seleccionado')\r\n      }; \r\n    } else if (tipo === 'auditor') {\r\n      if (auditorSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarAuditor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_AUDITOR, auditor: auditorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => await cargarEmpleados()).catch((err) => console.log(err)).finally(() => setLoadingAsignarAuditor(false));\r\n      } else {\r\n        console.log('no hay tecnicos o auditor seleccionado')\r\n      }\r\n    } else if (tipo === 'negocio') {\r\n      if (negocioSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarNegocio(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_NEGOCIO, negocio: negocioSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => await cargarEmpleados()).catch((err) => console.log(err)).finally(() => setLoadingAsignarNegocio(false));\r\n      } else {\r\n        console.log('no hay tecnicos o negocio seleccionado')\r\n      }\r\n    } else if (tipo === 'subNegocio') {\r\n      if (subNegocioSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarSubNegocio(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_SUB_NEGOCIO, subNegocio: subNegocioSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => await cargarEmpleados()).catch((err) => console.log(err)).finally(() => setLoadingAsignarSubNegocio(false));\r\n      } else {\r\n        console.log('no hay tecnicos o sub negocio seleccionado')\r\n      }\r\n    }\r\n  };\r\n\r\n  const exportarTecnicos = () => {\r\n    if (dataTecnicos && dataTecnicos.length > 0) {\r\n      return saveAsCsv({ \r\n        data: dataTecnicos.map((o) => {\r\n          return ({\r\n            ...o,\r\n            tecnico: o.nombre && o.apellidos ? o.nombre + ' ' + o.apellidos : '-',\r\n            gestor: o.gestor ? o.gestor.nombre + ' ' + o.gestor.apellidos : '-',\r\n            auditor: o.auditor && o.auditor.nombre ? o.auditor.nombre + ' ' + o.auditor.apellidos : '-',\r\n            contrata: o.contrata ? o.contrata.nombre : '-'\r\n          })\r\n        }), \r\n        fields: valoresTecnicos, \r\n        filename: `data_personal_${moment().format('DD_MM_YY_HH_mm')}`\r\n      })\r\n    }\r\n  };\r\n\r\n  const realizarBusqueda = (e) => {\r\n    const valor = e.target.value;\r\n    if (String(valor).length > 0 && tipoBusqueda && totalTecnicos.length > 0) {\r\n      setDataTecnicos(totalTecnicos.filter((e) =>String(e[tipoBusqueda]).toLowerCase().indexOf(String(valor).toLowerCase()) === 0))\r\n    } else {\r\n      setDataTecnicos(totalTecnicos)\r\n    };\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      width: 150,\r\n      dataIndex: 'nombre',\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      width: 150,\r\n      dataIndex: 'apellidos',\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      width: 100,\r\n      dataIndex: 'carnet'\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      width: 150,\r\n      dataIndex: 'contrata',\r\n      filters: filtroContrata,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => c.nombre && c.nombre\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 150,\r\n      dataIndex: 'gestor',\r\n      filters: filtroGestor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined && r.gestor !== null) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (gestor) => {\r\n        if (gestor && gestor.nombre && gestor.apellidos) {\r\n          return gestor.nombre + ' ' + gestor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Auditor',\r\n      width: 150,\r\n      dataIndex: 'auditor',\r\n      filters: filtroAuditor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.auditor\r\n        } else if( r.auditor !== undefined) {\r\n          return r.auditor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (auditor) => {\r\n        if (auditor && auditor.nombre && auditor.apellidos) {\r\n          return auditor.nombre + ' ' + auditor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Negocio',\r\n      width: 150,\r\n      dataIndex: 'tipo_negocio',\r\n      filters: tipoNegocio,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tipo_negocio\r\n        } else if( r.tipo_negocio !== undefined) {\r\n          return r.tipo_negocio.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => String(t).toUpperCase()\r\n    },\r\n    {\r\n      title: 'Sub Negocio',\r\n      width: 150,\r\n      dataIndex: 'sub_tipo_negocio',\r\n      filters: subTipoNegocio,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.sub_tipo_negocio\r\n        } else if( r.sub_tipo_negocio !== undefined) {\r\n          return r.sub_tipo_negocio.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => String(t).toUpperCase()\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Row style={{ marginBottom: '.5rem', marginTop: '.5rem' }}>\r\n        <Col sm={12}>\r\n          <p>Asignar Gestor:</p>\r\n          <Select\r\n            showSearch\r\n            placeholder=\"Buscar por nombre\"\r\n            loading={loadingGestores}\r\n            defaultValue={gestorSeleccionado}\r\n            onChange={e => setGestorSeleccionado(e)} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n            filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0 }\r\n          >\r\n          {\r\n            gestores.length > 0 ? \r\n            gestores.map((e, i) => (\r\n              <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n            ))\r\n            :\r\n            <Option>Sin data</Option>\r\n          }\r\n          </Select>\r\n          <Button \r\n            icon={loadingAsignarGestor ? <LoadingOutlined spin/>: <CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('gestor')}\r\n          >Asignar</Button>\r\n          <p>Asignar Auditor:</p>\r\n          <Select\r\n            showSearch\r\n            placeholder=\"Buscar por nombre\"\r\n            loading={loadingAuditores}\r\n            defaultValue={auditorSeleccionado}\r\n            onChange={e => setAuditorSeleccionado(e)} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n            filterOption={(input, option) => {\r\n                return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n              }\r\n            }\r\n          >\r\n          {\r\n            auditores.length > 0 ? \r\n            auditores.map((e, i) => (\r\n              <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n            ))\r\n            :\r\n            <Option>Sin data</Option>\r\n          }\r\n          </Select>\r\n          <Button \r\n            icon={loadingAsignarAuditor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('auditor')}\r\n          >Asignar</Button>\r\n        </Col>\r\n        <Col sm={12}>\r\n          <p>Asignar Tipo de Negocio:</p>\r\n          <Select\r\n            placeholder=\"Buscar Tipo de Negocio\"\r\n            defaultValue={negocioSeleccionado}\r\n            onChange={e => setNegocioSeleccionado(e)} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n          >\r\n          {\r\n            tipoNegocio.map((n) => (\r\n              <Option key={n.value} value={n.value}>{n.text}</Option>\r\n            ))\r\n          }\r\n          </Select>\r\n          <Button \r\n            icon={loadingAsignarNegocio ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('negocio')}\r\n          >Asignar</Button>\r\n          <p>Asignar Subtipo de Negocio:</p>\r\n          <Select\r\n            placeholder=\"Buscar Subtipo de Negocio\"\r\n            defaultValue={subNegocioSeleccionado}\r\n            onChange={e => setSubNegocioSeleccionado(e)} \r\n            style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n          >\r\n          {\r\n            subTipoNegocio.map((n) => (\r\n              <Option key={n.value} value={n.value}>{n.text}</Option>\r\n            ))\r\n          }\r\n          </Select>\r\n          <Button \r\n            icon={loadingAsignarSubNegocio ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n            onClick={() => asignarTecnico('subNegocio')}\r\n          >Asignar</Button>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        title={() => <div>\r\n          <Radio.Group size=\"small\" value={tipoBusqueda} onChange={(e) => setTipoBusqueda(e.target.value)}>\r\n            <Radio value=\"nombre\">Nombre</Radio>\r\n            <Radio value=\"apellidos\">Apellidos</Radio>\r\n            <Radio value=\"carnet\">Carnet</Radio>\r\n          </Radio.Group>\r\n          <Search \r\n            onChange={realizarBusqueda}\r\n            placeholder={`Buscar ${capitalizar(tipoBusqueda)}`} \r\n            allowClear\r\n            size=\"small\" \r\n            style={{ width: 200 }}\r\n          />\r\n        </div>}\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        dataSource={dataTecnicos}\r\n        loading={loadingTecnicos}\r\n        columns={columnas}\r\n        rowSelection={{\r\n          columnWidth: 30,\r\n          selectedRowKeys: tecnicosSeleccionados,\r\n          onChange: (e) => setTecnicosSeleccionados(e)\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: 20,\r\n          pageSizeOptions: [20,50,100],\r\n        }}\r\n        scroll={{ y: '60vh' }}\r\n        footer={() => <Button onClick={exportarTecnicos}>Exportar</Button>}\r\n      />      \r\n    </div>\r\n  )\r\n}\r\n\r\nTablaTecnicos.propTypes = {\r\n  gestores: PropTypes.array,\r\n  loadingGestores: PropTypes.bool,\r\n  auditores: PropTypes.array,\r\n  loadingAuditores: PropTypes.bool\r\n}\r\n\r\nexport default TablaTecnicos\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {Date} parametros.fecha_inicio\r\n * @param {Date} parametros.fecha_fin\r\n */\r\nexport const getAsistencias = async ({metodo, tipo, page, limit, fecha_inicio, fecha_fin}) => restPrivate({\r\n  url: 'asistencia', method: 'GET', params: {metodo, tipo, page, limit, fecha_inicio, fecha_fin}\r\n}, true);\r\n/**\r\n * @param {object} parametros \r\n * @param {string} parametros.id\r\n * @param {string} parametros.tipo\r\n * @param {string} parametros.estado\r\n * @param {Date} parametros.fecha\r\n * @param {string} parametros.observacion\r\n */\r\nexport const postAsistencias = async ({id, tipo, estado, fecha, observacion}) => restPrivate({\r\n  url: 'asistencia', method: 'POST', data: {id, tipo, estado, fecha, observacion}\r\n}, true)\r\n\r\nexport const patchAsistencia = async (data) => restPrivate({\r\n  url: 'asistencia', method: 'PATCH', data\r\n}, true)","import moment from 'moment';\r\n/**\r\n * @param {array} data \r\n */\r\nexport async function ordenarAsistencia(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.tecnico.nombre && i.apellidos === obj.tecnico.apellidos);\r\n          if (aux !== -1 && obj.fecha_registro ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              estado_empresa: obj.tecnico.estado_empresa,\r\n              tipo_negocio: obj.tecnico.tipo_negocio,\r\n              sub_tipo_negocio: obj.tecnico.sub_tipo_negocio,\r\n              nombre: obj.tecnico.nombre,\r\n              apellidos: obj.tecnico.apellidos,\r\n              carnet: obj.tecnico.carnet,\r\n              dni: obj.tecnico.numero_documento,\r\n              tipo: obj.tipo,\r\n              idEmpleado: obj.tecnico._id,\r\n              gestor: {\r\n                nombre: obj.tecnico.gestor ? obj.tecnico.gestor.nombre : '-',\r\n                apellidos: obj.tecnico.gestor ? obj.tecnico.gestor.apellidos: '-',\r\n                _id: obj.tecnico.gestor ? obj.tecnico.gestor._id: '-',\r\n              },\r\n              auditor: {\r\n                nombre: obj.tecnico.auditor ? obj.tecnico.auditor.nombre : '-',\r\n                apellidos: obj.tecnico.auditor ? obj.tecnico.auditor.apellidos: '-',\r\n                _id: obj.tecnico.auditor ? obj.tecnico.auditor._id: '-',\r\n              },\r\n              contrata: {\r\n                nombre: obj.tecnico.contrata ? obj.tecnico.contrata.nombre : '-',\r\n                _id: obj.tecnico.contrata ? obj.tecnico.contrata._id: '-',\r\n              },\r\n              observacion: obj.observacion,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          const field = moment(obj.fecha_registro).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            estado_empresa: obj.tecnico.estado_empresa,\r\n            tipo_negocio: obj.tecnico.tipo_negocio,\r\n            sub_tipo_negocio: obj.tecnico.sub_tipo_negocio,\r\n            nombre: obj.tecnico.nombre,\r\n            apellidos: obj.tecnico.apellidos,\r\n            carnet: obj.tecnico.carnet,\r\n            dni: obj.tecnico.numero_documento,\r\n            tipo: obj.tipo,\r\n            idEmpleado: obj.tecnico._id,\r\n            gestor: {\r\n              nombre: obj.tecnico.gestor ? obj.tecnico.gestor.nombre : '-',\r\n              apellidos: obj.tecnico.gestor ? obj.tecnico.gestor.apellidos: '-',\r\n              _id: obj.tecnico.gestor ? obj.tecnico.gestor._id: '-',\r\n            },\r\n            auditor: {\r\n              nombre: obj.tecnico.auditor ? obj.tecnico.auditor.nombre: '-',\r\n              apellidos: obj.tecnico.auditor ? obj.tecnico.auditor.apellidos: '-',\r\n              _id: obj.tecnico.auditor ? obj.tecnico.auditor._id: '-',\r\n            },\r\n            contrata: {\r\n              nombre: obj.tecnico.contrata ? obj.tecnico.contrata.nombre : '-',\r\n              _id: obj.tecnico.contrata ? obj.tecnico.contrata._id: '-',\r\n            },\r\n            observacion: obj.observacion,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport async function ordenarAsistenciaGestor(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.gestor.nombre && i.apellidos === obj.gestor.apellidos);\r\n          if (aux !== -1 && obj.fecha_registro ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              estado_empresa: obj.gestor.estado_empresa,\r\n              nombre: obj.gestor.nombre,\r\n              apellidos: obj.gestor.apellidos,\r\n              observacion: obj.observacion,\r\n              tipo: obj.tipo,\r\n              idEmpleado: obj.gestor._id,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          const field = moment(obj.fecha_registro).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            estado_empresa: obj.gestor.estado_empresa,\r\n            nombre: obj.gestor.nombre,\r\n            apellidos: obj.gestor.apellidos,\r\n            observacion: obj.observacion,\r\n            tipo: obj.tipo,\r\n            idEmpleado: obj.gestor._id,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport async function ordenarAsistenciaAuditor(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.auditor.nombre && i.apellidos === obj.auditor.apellidos);\r\n          if (aux !== -1 && obj.fecha_registro ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            const field = moment(obj.fecha_registro).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              estado_empresa: obj.auditor.estado_empresa,\r\n              nombre: obj.auditor.nombre,\r\n              apellidos: obj.auditor.apellidos,\r\n              observacion: obj.observacion,\r\n              tipo: obj.tipo,\r\n              idEmpleado: obj.auditor._id,\r\n              [field]: {\r\n                _id: obj._id,\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          const field = moment(obj.fecha_registro).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            estado_empresa: obj.auditor.estado_empresa,\r\n            nombre: obj.auditor.nombre,\r\n            apellidos: obj.auditor.apellidos,\r\n            observacion: obj.observacion,\r\n            tipo: obj.tipo,\r\n            idEmpleado: obj.auditor._id,\r\n            [field]: {\r\n              _id: obj._id,\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n}","const estadoAsistencia = {\r\n  FALTA: 'F',\r\n  ASISTIO: 'A',\r\n  TARDANZA: 'T',\r\n  DESCANSO: 'D',\r\n  PERMISO: 'P',\r\n  SUSPENDIDO: 'S',\r\n  DESCANSO_MEDICO: 'DM',\r\n  EXAMEN_MEDICO: 'EM',\r\n  VACACIONES: 'V',\r\n  BAJA: 'BAJA',\r\n  GUARDIA: 'GUARDIA'\r\n};\r\n\r\nexport default estadoAsistencia;","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal, Select, Input, Typography } from 'antd'\r\nimport { LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\nimport { postAsistencias } from '../../../services/apiAsistencia';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\n\r\nfunction ModalCrearAsistencia({actualizar, row, fecha, visible, abrir}) {\r\n  const [loadingCrear, setLoadingCrear] = useState(false);\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  async function guardar() {\r\n    if (moment(fecha).isValid() && row.idEmpleado && estadoSeleccionado) {\r\n      setLoadingCrear(true);\r\n      return await postAsistencias({id: row.idEmpleado, tipo: row.tipo, estado: estadoSeleccionado, fecha: fecha, observacion})\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          setLoadingCrear(false);\r\n          abrir()\r\n          actualizar()\r\n        })\r\n    } else {\r\n      cogoToast.warn('No hay una fecha valida o no se encontró el id', { position: 'top-right' })\r\n      console.log(fecha, row);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar el estado de la asistencia\"\r\n      onCancel={abrir}\r\n      visible={visible}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button \r\n          icon={loadingCrear ? <LoadingOutlined spin/> : <SaveOutlined/>} \r\n          disabled={loadingCrear}\r\n          key=\"submit\" \r\n          type=\"primary\" \r\n          onClick={guardar}\r\n        >\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      {\r\n        moment(fecha).isValid() ?\r\n        <Text type=\"secondary\">Fecha: {moment(fecha).format('DD-MM-YY')}</Text>:\r\n        <Text type=\"danger\">Fecha Invalida.</Text>\r\n      }<br/><br/>\r\n      <p>Seleccionar Estado:</p>\r\n      <Select\r\n        placeholder=\"Estado\"\r\n        defaultValue={estadoSeleccionado}\r\n        onChange={e => setEstadoSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n      >\r\n        <Option value={estadoAsistencia.ASISTIO}>Asistió</Option>\r\n        <Option value={estadoAsistencia.FALTA}>Falta</Option>\r\n        <Option value={estadoAsistencia.TARDANZA}>Tardanza</Option>\r\n        <Option value={estadoAsistencia.DESCANSO}>Descanso</Option>\r\n        <Option value={estadoAsistencia.GUARDIA}>Guardia</Option>\r\n        <Option value={estadoAsistencia.PERMISO}>Permiso</Option>\r\n        <Option value={estadoAsistencia.DESCANSO_MEDICO}>Descanso Médico</Option>\r\n        <Option value={estadoAsistencia.EXAMEN_MEDICO}>Examen Médico</Option>\r\n        <Option value={estadoAsistencia.SUSPENDIDO}>Suspendido</Option>\r\n        <Option value={estadoAsistencia.VACACIONES}>Vacaciones</Option>\r\n        <Option value={estadoAsistencia.BAJA}>Baja</Option>\r\n      </Select>\r\n      <p>Observación:</p>\r\n      <TextArea\r\n        placeholder=\"Observación...\"\r\n        rows={4}\r\n        value={observacion}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalCrearAsistencia.propTypes = {\r\n  actualizar: PropTypes.func,\r\n  row: PropTypes.object,\r\n  fecha: PropTypes.any,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func\r\n}\r\n\r\nexport default ModalCrearAsistencia\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tag } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\nimport ModalCrearAsistencia from './ModalCrearAsistencia';\r\n\r\nfunction EstadoTag({actualizar, row, fecha, estado}) {\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n\r\n  const abrirModal = () => setModalCrear(!modalCrear);\r\n\r\n  switch (estado) {\r\n    case estadoAsistencia.FALTA:\r\n      return (<Tag color=\"error\">{estado}</Tag>);\r\n    case estadoAsistencia.ASISTIO:\r\n      return (<Tag color=\"success\">{estado}</Tag>);\r\n    case estadoAsistencia.TARDANZA:\r\n      return (<Tag color=\"lime\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO:\r\n      return (<Tag color=\"gold\">{estado}</Tag>);\r\n    case estadoAsistencia.GUARDIA:\r\n      return (<Tag color=\"cyan\">{estado}</Tag>);\r\n    case estadoAsistencia.PERMISO:\r\n      return (<Tag color=\"blue\">{estado}</Tag>);\r\n    case estadoAsistencia.SUSPENDIDO:\r\n      return (<Tag color=\"warning\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO_MEDICO:\r\n      return (<Tag color=\"geekblue\">{estado}</Tag>);\r\n    case estadoAsistencia.EXAMEN_MEDICO:\r\n      return (<Tag color=\"purple\">{estado}</Tag>);\r\n    case estadoAsistencia.VACACIONES:\r\n      return (<Tag color=\"pink\">{estado}</Tag>);\r\n    case estadoAsistencia.BAJA:\r\n      return (<Tag color=\"volcano\">{estado}</Tag>);\r\n    default:\r\n      return (<>\r\n       <Tag onClick={() => abrirModal()} style={{ cursor: 'pointer' }}>-</Tag>\r\n       <ModalCrearAsistencia actualizar={actualizar} row={row} fecha={moment(`${fecha}-2021`, 'DD-MM-YYYY').toDate()} visible={modalCrear} abrir={abrirModal}/>\r\n      </>)\r\n  };\r\n};\r\n\r\nEstadoTag.propTypes = {\r\n  actualizar: PropTypes.func,\r\n  row: PropTypes.object,\r\n  fecha: PropTypes.string,\r\n  estado: PropTypes.string\r\n};\r\n\r\nexport default EstadoTag;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Select, Input, Button } from 'antd';\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\nimport { LoadingOutlined, SaveOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalEditarAsistencia({visible, abrir, loadingActualizar, actualizar}) {\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n  },[]);\r\n\r\n  async function guardar() {\r\n    if (estadoSeleccionado !== null) {\r\n      await actualizar(estadoSeleccionado, observacion);\r\n    } else {\r\n      cogoToast.warn('No hay usuario seleccionado.', { position: 'top-right' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar el estado de la asistencia\"\r\n      visible={visible}\r\n      width={350}\r\n      centered\r\n      destroyOnClose\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button \r\n          icon={loadingActualizar ? <LoadingOutlined spin/> : <SaveOutlined/>} \r\n          key=\"submit\" \r\n          type=\"primary\" \r\n          onClick={guardar}\r\n        >\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <p>Seleccionar Estado:</p>\r\n      <Select\r\n        placeholder=\"Estado\"\r\n        defaultValue={estadoSeleccionado}\r\n        onChange={e => setEstadoSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n      >\r\n        <Option value={estadoAsistencia.ASISTIO}>Asistió</Option>\r\n        <Option value={estadoAsistencia.TARDANZA}>Tardanza</Option>\r\n        <Option value={estadoAsistencia.FALTA}>Falta</Option>\r\n        <Option value={estadoAsistencia.DESCANSO}>Descanso</Option>\r\n        <Option value={estadoAsistencia.GUARDIA}>Guardia</Option>\r\n        <Option value={estadoAsistencia.PERMISO}>Permiso</Option>\r\n        <Option value={estadoAsistencia.DESCANSO_MEDICO}>Descanso Médico</Option>\r\n        <Option value={estadoAsistencia.EXAMEN_MEDICO}>Examen Médico</Option>\r\n        <Option value={estadoAsistencia.SUSPENDIDO}>Suspendido</Option>\r\n        <Option value={estadoAsistencia.VACACIONES}>Vacaciones</Option>\r\n        <Option value={estadoAsistencia.BAJA}>Baja</Option>\r\n      </Select>\r\n      <p>Observación:</p>\r\n      <TextArea\r\n        placeholder=\"Observación...\"\r\n        rows={4}\r\n        value={observacion}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEditarAsistencia.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loadingActualizar: PropTypes.bool,\r\n  actualizar: PropTypes.func\r\n};\r\n\r\nexport default ModalEditarAsistencia;\r\n\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport * as AntColores from '@ant-design/colors'\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../constants/estadoAsistencia';\r\nimport capitalizar from '../../libraries/capitalizar'\r\n\r\nfunction ExcelAsistenciaTecnico({ data=[], dias=[], nombre }) {\r\n  let exportarRef = useRef(null);\r\n\r\n  const exportarExcel = () => {\r\n    guardarArchivo(exportarRef.current)\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexEstado = -1\r\n      let indexEncontrados = [];\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado');\r\n          row.cells.forEach((e, i) => {\r\n            let fecha = moment(`${e.value}-2021`,\"DD-MM-YYYY\");\r\n            if (moment().isValid()) {\r\n              let diferencia = (moment().diff(fecha, \"days\"))\r\n              if (diferencia >= 0) {\r\n                indexEncontrados.push(i);\r\n              }\r\n            }           \r\n          });\r\n        };\r\n        if (row.type === 'data') {\r\n          if (indexEstado > -1 && String(row.cells[indexEstado].value).toUpperCase() === 'INACTIVO' && indexEncontrados.length > 0) {\r\n            indexEncontrados.forEach((e) => {\r\n              if (!row.cells[e].value) {\r\n                row.cells[e].value = \"BAJA\"\r\n              }\r\n            })\r\n          }\r\n          row.cells.forEach((cell) => {\r\n            cell.value = cell.value ? String(cell.value).toUpperCase() : cell.value;\r\n            cell.background = colorCelda(cell.value).background;\r\n            cell.color = colorCelda(cell.value).color;\r\n            cell.borderBottom = { size: 1 }; \r\n            cell.borderLeft = { size: 1 };\r\n            cell.borderRight = { size: 1 };\r\n            cell.borderTop = { size: 1 };\r\n          });\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const colorCelda = (estado) => {\r\n    switch (estado) {\r\n      case estadoAsistencia.FALTA:\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case 'Inactivo':\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case estadoAsistencia.ASISTIO:\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      case estadoAsistencia.TARDANZA:\r\n        return {background: AntColores.lime[1], color: AntColores.lime.primary};\r\n      case estadoAsistencia.DESCANSO:\r\n        return {background: AntColores.gold[1], color: AntColores.gold.primary};\r\n      case estadoAsistencia.PERMISO:\r\n        return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n      case estadoAsistencia.GUARDIA:\r\n        return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n      case estadoAsistencia.SUSPENDIDO:\r\n        return {background: AntColores.yellow[1], color: AntColores.yellow.primary};\r\n      case estadoAsistencia.DESCANSO_MEDICO:\r\n        return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n      case estadoAsistencia.EXAMEN_MEDICO:\r\n        return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n      case estadoAsistencia.VACACIONES:\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      case estadoAsistencia.BAJA:\r\n        return {background: AntColores.volcano[1], color: AntColores.volcano.primary};\r\n      default:\r\n        return {background: '', color: ''};\r\n    };\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#5DADE2', \r\n    bold: true, \r\n    fontSize: 17,\r\n    wrap: false,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button icon={<ExportOutlined />} type=\"primary\" onClick={exportarExcel} >Exportar</Button>\r\n      <ExcelExport\r\n        data={data.map((e) => ({...e, cargo: capitalizar(nombre)}))}\r\n        fileName={`asistencia_${nombre}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        <ExcelExportColumn field=\"nombre\" title=\"Nombre\" locked={true} width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"apellidos\" title=\"Apellidos\" locked={true} width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"carnet\" title=\"Carnet\" locked={true} width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"dni\" title=\"DNI\" width={150} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"estado_empresa\" title=\"Estado\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"cargo\" title=\"Cargo\" width={90} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"auditor.apellidos\" title=\"Auditor\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"gestor.apellidos\" title=\"Gestor\" width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"tipo_negocio\" title=\"Negocio\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"sub_tipo_negocio\" title=\"Sub Negocio\" width={90} headerCellOptions={headerOptions} />\r\n        {\r\n          dias && dias.length > 0 ?\r\n            dias.map((d, i) => (\r\n              <ExcelExportColumn\r\n                key={i}\r\n                field={`${d}.estado`}\r\n                title={`${d}`} width={60}\r\n                headerCellOptions={headerOptions}\r\n                cellOptions={{ textAlign: 'center'}}\r\n              />\r\n            )) : null\r\n        }\r\n      </ExcelExport>\r\n    </div>\r\n  )\r\n};\r\n\r\nExcelAsistenciaTecnico.propTypes = {\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  nombre: PropTypes.string\r\n};\r\n\r\nexport default ExcelAsistenciaTecnico;\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Button, Col, DatePicker, Input, Popover, Row, Space, Statistic, Table, Tag } from 'antd';\r\nimport { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ReloadOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\nimport Highlighter from 'react-highlight-words';\r\n\r\nimport { getAsistencias, patchAsistencia } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport estadoEmpleado from '../../../constants/estadoEmpleado';\r\nimport colores from '../../../constants/colores';\r\nimport { ordenarAsistencia } from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\nimport ModalEditarAsistencia from './ModalEditarAsistencia';\r\nimport ExcelAsistenciaTecnico from '../../excelExports/ExcelAsistenciaTecnico'\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport default function TablaAsistenciasTecnicos() {\r\n  const [diaInicio, setDiaInicio] = useState(moment().startOf('week'));\r\n  const [diaFin, setDiaFin] = useState(moment().endOf('week'));\r\n  const [listaDias, setListaDias] = useState([]);\r\n  const [columnas, setColumnas] = useState(null);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([])\r\n  const [rutasAverias, setRutasAverias] = useState({total:0,activas:0});\r\n  const [rutasAltas, setRutasAltas] = useState({total:0,activas:0});\r\n  const [rutasGpon, setRutasGpon] = useState({total:0,activas:0});\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [idAsistencia, setIdAsistencia] = useState(null);\r\n  //busqueda\r\n  const [textoBusqueda, setTextoBusqueda] = useState('');\r\n  const [columnaBusqueda, setColumnaBusqueda] = useState('');\r\n  let inputBusqueda = useRef(null)\r\n\r\n  useEffect(() => {\r\n    cambiarRango([moment().startOf('week'), moment().endOf('week')])\r\n  //eslint-disable-next-line\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    listarAsistencias()\r\n  //eslint-disable-next-line\r\n  }, [diaInicio, diaFin])\r\n  \r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [listaDias, filtroGestores]);\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        tipo: 'tecnico',\r\n        fecha_inicio: diaInicio.toDate(),\r\n        fecha_fin: diaFin.toDate()\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistencia(data.filter((e) => e.tecnico !== null))\r\n      }).then((resultado) => {\r\n        if (resultado && resultado.length > 0) {\r\n          setDataAsistencias(resultado);\r\n          setFiltroGestores(obtenerFiltroId(resultado, 'gestor', true));\r\n          setFiltroAuditores(obtenerFiltroId(resultado, 'auditor', true));\r\n          setFiltroContrata(obtenerFiltroId(resultado, 'contrata', true));\r\n          setRutasAverias(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.tipo_negocio === 'averias' && ['hfc','gpon'].includes(e.sub_tipo_negocio))));\r\n          setRutasAltas(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.tipo_negocio === 'altas' && ['hfc','gpon'].includes(e.sub_tipo_negocio))));\r\n          setRutasGpon(rutasAtivas(resultado.filter((e) => e.estado_empresa === estadoEmpleado.ACTIVO && e.sub_tipo_negocio === 'gpon' && e.tipo_negocio === 'altas')))\r\n        } else {\r\n          cogoToast.warn('No se encontraron registros.', { position: 'top-right' });\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    } else {\r\n      cogoToast.warn('Debes seleccionar un rango de fechas primero.', { position: 'top-right' });\r\n    }\r\n  };\r\n\r\n  async function actualizarAsistencia(estado, observacion) {\r\n    setLoadingActualizar(true);\r\n    return await patchAsistencia({id: idAsistencia, estado, observacion})\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setLoadingActualizar(false);\r\n        setModalEditar(false);\r\n        listarAsistencias();\r\n      });\r\n  };\r\n\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n\r\n  const editarAsistencia = (id) => {\r\n    abrirModalEditar();\r\n    setIdAsistencia(id);\r\n  };\r\n\r\n  function cambiarRango(dias) {\r\n    if (dias && dias.length > 1) {\r\n      const diff = moment(dias[1].toDate()).diff(dias[0].toDate(), 'days');\r\n      setDiaInicio(dias[0]);\r\n      setDiaFin(dias[1])\r\n      let days = [];\r\n      for (let i = 0; i <= diff; i++) {\r\n        days.push(moment(dias[0].toDate()).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setListaDias(days);\r\n    } else {\r\n      setDiaInicio(moment().startOf('week'));\r\n      setDiaFin(moment().endOf('week'));\r\n    }\r\n  };\r\n\r\n  const getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            inputBusqueda = node;\r\n          }}\r\n          placeholder={`Buscar ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Buscar\r\n          </Button>\r\n          <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reiniciar\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) => {\r\n      return ( record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '')\r\n    }\r\n     ,\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => inputBusqueda.select(), 100);\r\n      }\r\n    },\r\n    render: (nombre, row) =>\r\n      columnaBusqueda === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[textoBusqueda]}\r\n          autoEscape\r\n          textToHighlight={nombre ? nombre.toString() + ' ' + (row.apellidos ? row.apellidos : '') : ''}\r\n        />\r\n      ) : (\r\n        nombre + ' ' + (row.apellidos ? row.apellidos : '')\r\n      ),\r\n  });\r\n\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    setTextoBusqueda(selectedKeys[0]);\r\n    setColumnaBusqueda(dataIndex);\r\n  };\r\n\r\n  const handleReset = clearFilters => {\r\n    clearFilters();\r\n    setTextoBusqueda('');\r\n  };\r\n\r\n  function generarColumnas() {\r\n    let hoy = moment().format('DD-MM');\r\n    if (listaDias.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      },{\r\n        title: 'Tecnico',\r\n        dataIndex: 'nombre',\r\n        width: 250,\r\n        ellipsis: true,\r\n        ...getColumnSearchProps('nombre'),\r\n      }, {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        filters: filtroGestores,\r\n        onFilter: (c, record) => {\r\n          if (record.gestor && c) {\r\n            return record.gestor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        ellipsis: true,\r\n        width: 200,\r\n        render: (e) => e.nombre ? e.nombre + ' ' + e.apellidos : '-'\r\n      }, {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        filters: filtroAuditores,\r\n        onFilter: (c, record) => {\r\n          if (record.auditor && c) {\r\n            return record.auditor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        ellipsis: true,\r\n        width: 200,\r\n        render: (e) => e.nombre ? e.nombre + ' ' + e.apellidos : '-'\r\n      }, {\r\n        title: 'Contrata',\r\n        dataIndex: 'contrata',\r\n        filters: filtroContrata,\r\n        onFilter: (c, record) => {\r\n          if (record && record.contrata && c) {\r\n            return record.contrata._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        ellipsis: true,\r\n        width: 200,\r\n        render: (e) => e && e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'En Ruta',\r\n        dataIndex: hoy,\r\n        width: 100,\r\n        align: 'center',\r\n        filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n        onFilter: (c, record) => {\r\n          if (record[hoy]) {\r\n            if(!record[hoy].iniciado && !c) return true\r\n            return record[hoy].iniciado === c\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        render: (e) => {\r\n          if (e) {\r\n            if (e.iniciado) {\r\n              return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Fecha Iniciado\" trigger=\"click\">\r\n                <button className=\"boton-none\"><Tag color={colores.success}><CheckCircleOutlined/></Tag></button>\r\n              </Popover>)\r\n            } else {\r\n              return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n            }\r\n          } else {\r\n            return <Tag color=\"error\">BAJA</Tag>\r\n          }\r\n        }\r\n      }]\r\n      const columnsAux = listaDias.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 60,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a, row) => {\r\n            if (a && a.estado && a.observacion) {\r\n              return (\r\n                <Popover \r\n                  content={\r\n                    <div>\r\n                      <p>{a.observacion}</p>\r\n                      <Button type=\"primary\" onClick={() => editarAsistencia(row[e]._id)} size=\"small\">Editar</Button>\r\n                    </div>\r\n                  } \r\n                  title=\"Observaciones\" \r\n                  placement=\"topRight\"\r\n                  trigger=\"click\"\r\n                  destroyTooltipOnHide\r\n                >\r\n                  <button className=\"boton-none\"><EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a.estado}/></button>\r\n                </Popover>\r\n              )\r\n            } else {\r\n              return (<EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a && a.estado_empresa ? a.estado_empresa : row.estado_empresa === estadoEmpleado.INACTIVO ? 'BAJA' : '-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n  //funcion para contar las rutas activas\r\n  function rutasAtivas(data) {\r\n    let total = 0;\r\n    let activas = 0;\r\n    let hoy = moment().format('DD-MM');\r\n    if (data.length > 0) {\r\n      data.forEach((e) => {\r\n        if (e[hoy] && e[hoy].estado) {\r\n          total = total +1;\r\n          if (e[hoy].iniciado) activas = activas +1;\r\n        }\r\n      });\r\n    };\r\n    return ({total, activas})\r\n  };\r\n\r\n  const columnasDefecto = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Tecnico',\r\n      width: 200\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 200\r\n    },\r\n    {\r\n      title: 'Fecha',\r\n      width: 100\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <RangePicker\r\n            style={{ marginRight: '.5rem' }}\r\n            onChange={cambiarRango}\r\n            value={[moment(diaInicio), moment(diaFin)]}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n        <Col sm={4} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Rutas Activas (Averias)\" \r\n            value={rutasAverias.activas} \r\n            suffix={`/ ${rutasAverias.total}`}\r\n          />\r\n        </Col>\r\n        <Col sm={4} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Rutas Activas (Altas)\" \r\n            value={rutasAltas.activas} \r\n            suffix={`/ ${rutasAltas.total}`}\r\n          />\r\n        </Col>\r\n        <Col sm={4} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Rutas Activas (GPON)\" \r\n            value={rutasGpon.activas} \r\n            suffix={`/ ${rutasGpon.total}`}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas !== null && columnas.length !== 0 ? columnas : columnasDefecto}\r\n        dataSource={dataAsistencias}\r\n        pagination={{\r\n          defaultPageSize: 50\r\n        }}\r\n        scroll={{ x: '1100px', y: '70vh' }}\r\n        footer={() => <ExcelAsistenciaTecnico data={dataAsistencias} dias={listaDias} nombre=\"tecnico\"/>}\r\n      />\r\n      {/* MODAL PARA EDITAR LA ASISTENCIA */}\r\n      <ModalEditarAsistencia visible={modalEditar} abrir={abrirModalEditar} loadingActualizar={loadingActualizar} actualizar={actualizarAsistencia} />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport * as AntColores from '@ant-design/colors'\r\nimport moment from 'moment';\r\n\r\nimport estadoAsistencia from '../../constants/estadoAsistencia';\r\nimport capitalizar from '../../libraries/capitalizar';\r\n\r\nfunction ExcelAsistencia({ data=[], dias=[], nombre }) {\r\n  let exportarRef = useRef(null);\r\n\r\n  const exportarExcel = () => {\r\n    guardarArchivo(exportarRef.current)\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexEstado = -1\r\n      let indexEncontrados = [];\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado');\r\n          row.cells.forEach((e, i) => {\r\n            let fecha = moment(`${e.value}-2021`,\"DD-MM-YYYY\");\r\n            if (moment().isValid()) {\r\n              let diferencia = (moment().diff(fecha, \"days\"))\r\n              if (diferencia >= 0) {\r\n                indexEncontrados.push(i);\r\n              }\r\n            }           \r\n          });\r\n        };\r\n        if (row.type === 'data') {\r\n          if (indexEstado > -1 && String(row.cells[indexEstado].value).toUpperCase() === 'INACTIVO' && indexEncontrados.length > 0) {\r\n            indexEncontrados.forEach((e) => {\r\n              if (!row.cells[e].value) {\r\n                row.cells[e].value = \"BAJA\"\r\n              }\r\n            })\r\n          }\r\n          row.cells.forEach((cell) => {\r\n            cell.value = cell.value ? String(cell.value).toUpperCase() : cell.value;\r\n            cell.background = colorCelda(cell.value).background;\r\n            cell.color = colorCelda(cell.value).color;\r\n            cell.borderBottom = { size: 1 }; \r\n            cell.borderLeft = { size: 1 };\r\n            cell.borderRight = { size: 1 };\r\n            cell.borderTop = { size: 1 };\r\n          });\r\n        };\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const colorCelda = (estado) => {\r\n    switch (estado) {\r\n      case estadoAsistencia.FALTA:\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case 'Inactivo':\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      case estadoAsistencia.ASISTIO:\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      case estadoAsistencia.TARDANZA:\r\n        return {background: AntColores.lime[1], color: AntColores.lime.primary};\r\n      case estadoAsistencia.DESCANSO:\r\n        return {background: AntColores.gold[1], color: AntColores.gold.primary};\r\n      case estadoAsistencia.PERMISO:\r\n        return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n      case estadoAsistencia.GUARDIA:\r\n        return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n      case estadoAsistencia.SUSPENDIDO:\r\n        return {background: AntColores.yellow[1], color: AntColores.yellow.primary};\r\n      case estadoAsistencia.DESCANSO_MEDICO:\r\n        return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n      case estadoAsistencia.EXAMEN_MEDICO:\r\n        return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n      case estadoAsistencia.VACACIONES:\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      case estadoAsistencia.BAJA:\r\n        return {background: AntColores.volcano[1], color: AntColores.volcano.primary};\r\n      default:\r\n        return {background: '', color: ''};\r\n    };\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#5DADE2', \r\n    bold: true, \r\n    fontSize: 17,\r\n    wrap: true,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button icon={<ExportOutlined />} type=\"primary\" onClick={exportarExcel} >Exportar</Button>\r\n      <ExcelExport\r\n        data={data.map((e) => ({...e, cargo: capitalizar(nombre)}))}\r\n        fileName={`asistencia_${nombre}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        <ExcelExportColumn field=\"nombre\" title=\"Nombre\" locked={true} width={170} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"apellidos\" title=\"Apellidos\" locked={true}  headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"estado_empresa\" title=\"Estado\" width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"cargo\" title=\"Cargo\" width={90} headerCellOptions={headerOptions}/>\r\n        {\r\n          dias && dias.length > 0 ?\r\n            dias.map((d, i) => (\r\n              <ExcelExportColumn\r\n                key={i}\r\n                field={`${d}.estado`}\r\n                title={`${d}`} width={60}\r\n                headerCellOptions={headerOptions}\r\n                cellOptions={{ textAlign: 'center' }}\r\n              />\r\n            )) : null\r\n        }\r\n      </ExcelExport>\r\n    </div>\r\n  )\r\n};\r\n\r\nExcelAsistencia.propTypes = {\r\n  data: PropTypes.array,\r\n  dias: PropTypes.array,\r\n  nombre: PropTypes.string\r\n};\r\n\r\nexport default ExcelAsistencia;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Col, DatePicker, Popover, Row, Statistic, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getAsistencias, patchAsistencia } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport { ordenarAsistenciaGestor } from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport ModalEditarAsistencia from './ModalEditarAsistencia';\r\nimport ExcelAsistencia from '../../excelExports/ExcelAsistencia';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport default function TablaAsistenciasGestores() {\r\n  const [diaInicio, setDiaInicio] = useState(moment().startOf('week'));\r\n  const [diaFin, setDiaFin] = useState(moment().endOf('week'));\r\n  const [listaDias, setListaDias] = useState([]);\r\n  const [columnas, setColumnas] = useState(null);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [idAsistencia, setIdAsistencia] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cambiarRango([moment().startOf('week'), moment().endOf('week')])\r\n  //eslint-disable-next-line\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    listarAsistencias()\r\n  //eslint-disable-next-line\r\n  }, [diaInicio, diaFin])\r\n  \r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [listaDias]);\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        tipo: 'gestor',\r\n        fecha_inicio: diaInicio.toDate(),\r\n        fecha_fin: diaFin.toDate()\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistenciaGestor(data.filter((e) => e.gestor !== null))\r\n      }).then((resultado) => {\r\n        if (resultado && resultado.length > 0) {\r\n          setDataAsistencias(resultado);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n\r\n  async function actualizarAsistencia(estado, observacion) {\r\n    setLoadingActualizar(true);\r\n    return await patchAsistencia({id: idAsistencia, estado, observacion})\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setLoadingActualizar(false);\r\n        setModalEditar(false);\r\n        listarAsistencias();\r\n      });\r\n  };\r\n\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n\r\n  const editarAsistencia = (id) => {\r\n    abrirModalEditar();\r\n    setIdAsistencia(id);\r\n  };\r\n\r\n  function cambiarRango(dias) {\r\n    if (dias && dias.length > 1) {\r\n      const diff = moment(dias[1].toDate()).diff(dias[0].toDate(), 'days');\r\n      setDiaInicio(dias[0]);\r\n      setDiaFin(dias[1])\r\n      let days = [];\r\n      for (let i = 0; i <= diff; i++) {\r\n        days.push(moment(dias[0].toDate()).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setListaDias(days);\r\n    } else {\r\n      setDiaInicio(moment().startOf('week'));\r\n      setDiaFin(moment().endOf('week'));\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    if (listaDias.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      }, \r\n      {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        width: 450,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }];\r\n\r\n      const columnsAux = listaDias.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a, row) => {\r\n            if (a && a.estado && a.observacion) {\r\n              return (\r\n                <Popover \r\n                  content={\r\n                    <div>\r\n                      <p>{a.observacion}</p>\r\n                      <Button type=\"primary\" onClick={() => editarAsistencia(row[e]._id)} size=\"small\">Editar</Button>\r\n                    </div>\r\n                  } \r\n                  title=\"Observaciones\" \r\n                  placement=\"topRight\"\r\n                  trigger=\"click\"\r\n                  destroyTooltipOnHide\r\n                >\r\n                  <button className=\"boton-none\"><EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a.estado}/></button>\r\n                </Popover>\r\n              )\r\n            } else {\r\n              return (<EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n\r\n  const columnasDefecto = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Gestor',\r\n      width: 200\r\n    },\r\n    {\r\n      title: 'Fecha',\r\n      width: 100\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <RangePicker\r\n            style={{ marginRight: '.5rem' }}\r\n            onChange={cambiarRango}\r\n            value={[moment(diaInicio), moment(diaFin)]}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas !== null && columnas.length !== 0 ? columnas : columnasDefecto}\r\n        dataSource={dataAsistencias}\r\n        pagination={false}\r\n        footer={() => <ExcelAsistencia data={dataAsistencias} dias={listaDias} nombre=\"gestor\"/>}\r\n        scroll={{ y: '60vh' }}\r\n      />\r\n      {/* MODAL PARA EDITAR LA ASISTENCIA */}\r\n      <ModalEditarAsistencia visible={modalEditar} abrir={abrirModalEditar} loadingActualizar={loadingActualizar} actualizar={actualizarAsistencia} />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Col, DatePicker, Popover, Row, Statistic, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getAsistencias, patchAsistencia } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport { ordenarAsistenciaAuditor } from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport ModalEditarAsistencia from './ModalEditarAsistencia';\r\nimport ExcelAsistencia from '../../excelExports/ExcelAsistencia';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport default function TablaAsistenciasAuditores() {\r\n  const [diaInicio, setDiaInicio] = useState(moment().startOf('week'));\r\n  const [diaFin, setDiaFin] = useState(moment().endOf('week'));\r\n  const [listaDias, setListaDias] = useState([]);\r\n  const [columnas, setColumnas] = useState(null);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [idAsistencia, setIdAsistencia] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cambiarRango([moment().startOf('week'), moment().endOf('week')])\r\n  //eslint-disable-next-line\r\n  }, [])\r\n  useEffect(() => {\r\n    listarAsistencias()\r\n  //eslint-disable-next-line\r\n  }, [diaInicio, diaFin]);\r\n\r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [listaDias]);\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        tipo: 'auditor',\r\n        fecha_inicio: diaInicio.toDate(),\r\n        fecha_fin: diaFin.toDate()\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistenciaAuditor(data.filter((e) => e.auditor !== null))\r\n      }).then((resultado) => {\r\n        if (resultado && resultado.length > 0) {\r\n          setDataAsistencias(resultado);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n\r\n  async function actualizarAsistencia(estado, observacion) {\r\n    setLoadingActualizar(true);\r\n    return await patchAsistencia({id: idAsistencia, estado, observacion})\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setLoadingActualizar(false);\r\n        setModalEditar(false);\r\n        listarAsistencias();\r\n      });\r\n  };\r\n\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n\r\n  const editarAsistencia = (id) => {\r\n    abrirModalEditar();\r\n    setIdAsistencia(id);\r\n  };\r\n\r\n  function cambiarRango(dias) {\r\n    if (dias && dias.length > 1) {\r\n      const diff = moment(dias[1].toDate()).diff(dias[0].toDate(), 'days');\r\n      setDiaInicio(dias[0]);\r\n      setDiaFin(dias[1])\r\n      let days = [];\r\n      for (let i = 0; i <= diff; i++) {\r\n        days.push(moment(dias[0].toDate()).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setListaDias(days);\r\n    } else {\r\n      setDiaInicio(moment().startOf('week'));\r\n      setDiaFin(moment().endOf('week'));\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    if (listaDias.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      }, \r\n      {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        width: 450,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }];\r\n\r\n      const columnsAux = listaDias.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a, row) => {\r\n            if (a && a.estado && a.observacion) {\r\n              return (\r\n                <Popover \r\n                  content={\r\n                    <div>\r\n                      <p>{a.observacion}</p>\r\n                      <Button type=\"primary\" onClick={() => editarAsistencia(row[e]._id)} size=\"small\">Editar</Button>\r\n                    </div>\r\n                  } \r\n                  title=\"Observaciones\" \r\n                  placement=\"topRight\"\r\n                  trigger=\"click\"\r\n                  destroyTooltipOnHide\r\n                >\r\n                  <button className=\"boton-none\"><EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a.estado}/></button>\r\n                </Popover>\r\n              )\r\n            } else {\r\n              return (<EstadoTag actualizar={listarAsistencias} row={row} fecha={e} estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n\r\n  const columnasDefecto = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    }, \r\n    {\r\n      title: 'Auditor',\r\n      width: 200\r\n    },\r\n    {\r\n      title: 'Fecha',\r\n      width: 100\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div style={{ marginBottom: '1rem'}}>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <RangePicker\r\n            style={{ marginRight: '.5rem' }}\r\n            onChange={cambiarRango}\r\n            value={[moment(diaInicio), moment(diaFin)]}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas !== null && columnas.length !== 0 ? columnas : columnasDefecto}\r\n        dataSource={dataAsistencias}\r\n        pagination={false}\r\n        footer={() => <ExcelAsistencia data={dataAsistencias} dias={listaDias} nombre=\"auditor\"/>}\r\n        scroll={{ y: '60vh' }}\r\n      />\r\n      {/* MODAL PARA EDITAR LA ASISTENCIA */}\r\n      <ModalEditarAsistencia visible={modalEditar} abrir={abrirModalEditar} loadingActualizar={loadingActualizar} actualizar={actualizarAsistencia} />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { GroupOutlined, ClusterOutlined, CheckSquareOutlined } from '@ant-design/icons'\r\n\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TablaAsistenciasTecnicos from '../../../components/operativa/listaRutas/TablaAsistenciasTecnicos';\r\nimport TablaAsistenciasGestores from '../../../components/operativa/listaRutas/TablaAsistenciasGestores';\r\nimport TablaAsistenciasAuditores from '../../../components/operativa/listaRutas/TablaAsistenciaAuditor';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Asistencias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <GroupOutlined />\r\n                Auditores\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <TablaAsistenciasAuditores/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <ClusterOutlined />\r\n                Gestores\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <TablaAsistenciasGestores/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckSquareOutlined />\r\n                Tecnicos\r\n              </span>\r\n            }\r\n            key=\"3\"\r\n          >\r\n            <TablaAsistenciasTecnicos/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas, permisos } from '../../constants/listaRutas';\r\nimport ListaRutas from \"../../views/Operativa/ListaRutas/AsignarRutas\";\r\nimport Asistencias from \"../../views/Operativa/ListaRutas/Asistencias\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.asignarRutas,\r\n    exact: true,\r\n    component: ListaRutas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: rutas.listaAsistencia,\r\n    exact: true,\r\n    component: Asistencias,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default array","import React, { useState, useEffect } from 'react';\r\n\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TablaTecnicos from '../../../components/operativa/listaRutas/TablaTecnicos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nexport default function AsignarRutas() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [loadingGestores, setLoadingGestores] = useState(false);\r\n  const [listaAuditores, setListaAuditores] = useState([]);\r\n  const [loadingAuditores, setLoadingAuditores] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarAuditores();\r\n  },[]);\r\n\r\n  async function cargarGestores() {\r\n    setLoadingGestores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES }).then(({data}) => {\r\n      if(data) setListaGestores([...data, { _id: '-', nombre: '-', apellidos: '' }]);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingGestores(false));\r\n  };\r\n\r\n  async function cargarAuditores() {\r\n    setLoadingAuditores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_AUDITORES}).then(({data}) => {\r\n      if(data) setListaAuditores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAuditores(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Asignar Rutas\" subtitulo=\"Lista Rutas\"/>\r\n      <Contenedor>\r\n        <TablaTecnicos\r\n          gestores={listaGestores}\r\n          loadingGestores={loadingGestores}\r\n          auditores={listaAuditores}\r\n          loadingAuditores={loadingAuditores}\r\n        />\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport { Button, Col, DatePicker, Popover, Row, Table, Tag } from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport EstadoTag from '../../components/operativa/listaRutas/EstadoTag';\r\nimport { asistencias } from '../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../libraries/obtenerFiltro';\r\nimport { ordenarAsistencia } from '../../libraries/ordenarAsistencias';\r\nimport { getAsistencias, patchAsistencia } from '../../services/apiAsistencia';\r\nimport colores from '../../constants/colores';\r\nimport ModalEditarAsistencia from '../../components/operativa/listaRutas/ModalEditarAsistencia';\r\n\r\nconst columnasDefecto = [\r\n  {\r\n    title: '#',\r\n    width: 50,\r\n    align: 'center',\r\n    render: (_,__,i) => i+1\r\n  }, \r\n  {\r\n    title: 'Tecnico',\r\n    dataIndex: 'tecnico',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Gestor',\r\n    dataIndex: 'gestor',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Fecha',\r\n    dataIndex: 'fecha',\r\n    width: 100\r\n  }\r\n];\r\n\r\nexport default function GestionarAsistencia() {\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false);\r\n  const [columnas, setColumnas] = useState(null);\r\n  const [diasSemana, setDiasSemana] = useState([]);\r\n  const [diaInicio, setDiaInicio] = useState(null);\r\n  const [diaFin, setDiaFin] = useState(null);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [idAsistencia, setIdAsistencia] = useState(null);\r\n\r\n  useEffect(() => {\r\n    cambiarSemana(moment())\r\n  //eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    listarAsistencias()\r\n  //eslint-disable-next-line\r\n  }, [diaInicio, diaFin])\r\n\r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [diasSemana, filtroGestores])\r\n\r\n  async function actualizarAsistencia(estado, observacion) {\r\n    setLoadingActualizar(true);\r\n    console.log(estado);\r\n    return await patchAsistencia({id: idAsistencia, estado, observacion})\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setLoadingActualizar(false);\r\n        setModalEditar(false);\r\n        listarAsistencias();\r\n      });\r\n  };\r\n  \r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n\r\n  const editarAsistencia = (id) => {\r\n    abrirModalEditar();\r\n    setIdAsistencia(id);\r\n  };\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_GESTOR,\r\n        fecha_inicio: diaInicio,\r\n        fecha_fin: diaFin\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistencia(data.filter((e) => e.tecnico !== null))\r\n      }).then((resultado) => {\r\n        if (resultado && resultado.length > 0) {\r\n          setDataAsistencias(resultado);\r\n          setFiltroGestores(obtenerFiltroId(resultado, 'gestor', true));\r\n          setFiltroAuditores( obtenerFiltroId(resultado, 'auditor', true));\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n  \r\n  function cambiarSemana(dia) {\r\n    if (dia) {\r\n      let weekStart = dia.clone().startOf('week');\r\n      let weekEnd = dia.clone().endOf('week');\r\n      setDiaInicio(moment(weekStart).format('YYYY-MM-DD'));\r\n      setDiaFin(moment(weekEnd).format('YYYY-MM-DD'))\r\n      let days = [];\r\n      for (let i = 0; i <= 6; i++) {\r\n        days.push(moment(weekStart).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setDiasSemana(days);\r\n    } else {\r\n      setDiaInicio(null);\r\n      setDiaFin(null);\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    let hoy = moment().format('DD-MM');\r\n    if (diasSemana.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      },{\r\n        title: 'Tecnico',\r\n        dataIndex: 'nombre',\r\n        width: 300,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }, {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        filters: filtroGestores,\r\n        onFilter: (c, record) => {\r\n          if (record.gestor && c) {\r\n            return record.gestor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre + ' ' + e.apellidos : '-'\r\n      }, {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        filters: filtroAuditores,\r\n        onFilter: (c, record) => {\r\n          if (record.auditor && c) {\r\n            return record.auditor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre + ' ' + e.apellidos : '-'\r\n      }, {\r\n        title: 'En Ruta',\r\n        dataIndex: hoy,\r\n        width: 150,\r\n        align: 'center',\r\n        filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n        onFilter: (c, record) => {\r\n          if (record[hoy]) {\r\n            if(!record[hoy].iniciado && !c) return true\r\n            return record[hoy].iniciado === c\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        render: (e) => {\r\n          if (e) {\r\n            if (e.iniciado) {\r\n              return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><Tag color={colores.success}><CheckCircleOutlined/></Tag></button>\r\n              </Popover>)\r\n            } else {\r\n              return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n            }\r\n          } else {\r\n            return <Tag color={colores.error}>No</Tag>\r\n          }\r\n        }\r\n      }]\r\n      const columnsAux = diasSemana.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a, row) => {\r\n            if (a && a.estado && a.observacion) {\r\n              return (\r\n                <Popover \r\n                  content={\r\n                    <div>\r\n                      <p>{a.observacion}</p>\r\n                      <Button type=\"primary\" onClick={() => editarAsistencia(row[e]._id)} size=\"small\">Editar</Button>\r\n                    </div>\r\n                  } \r\n                  title=\"Observaciones\" \r\n                  placement=\"topRight\"\r\n                  trigger=\"click\"\r\n                  destroyTooltipOnHide\r\n                >\r\n                  <button className=\"boton-none\"><EstadoTag estado={a.estado}/></button>\r\n                </Popover>\r\n              )\r\n            } else {\r\n              return (<EstadoTag estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Asistencia\" subtitulo=\"Gestion de Rutas\"/>\r\n      <Contenedor>\r\n        <Row style={{ marginTop: '1rem', marginBottom: '.5rem' }}>\r\n          <h1><p>Tabla de Asistencias:</p></h1>\r\n          <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n            <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n            <DatePicker \r\n              onChange={cambiarSemana} \r\n              picker=\"week\" \r\n              style={{ marginRight: '.5rem' }}\r\n            />\r\n            <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n          </Col>\r\n        </Row>\r\n        <Table\r\n          rowKey=\"_id\"\r\n          size=\"small\"\r\n          loading={loadingAsistencia}\r\n          columns={columnas !== null && columnas.length !== 0 ? columnas : columnasDefecto}\r\n          dataSource={dataAsistencias}\r\n          pagination={false}\r\n          scroll={{x: '80vw'}}\r\n          style={{ marginBottom: '.5rem' }}\r\n        />\r\n      </Contenedor>\r\n      {/* MODAL PARA EDITAR LA ASISTENCIA */}\r\n      <ModalEditarAsistencia visible={modalEditar} abrir={abrirModalEditar} loadingActualizar={loadingActualizar} actualizar={actualizarAsistencia} />\r\n    </div>\r\n  )\r\n}\r\n","export const averias = [\r\n  {\r\n    cabecera: 'desdtt',\r\n    propiedad: 'distrito'\r\n  },\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'codreqatn',\r\n    propiedad: 'codigo_requerimiento'\r\n  },\r\n  {\r\n    cabecera: 'codordtrab',\r\n    propiedad: 'codigo_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'cod_peticion',\r\n    cabecera_2: 'codpeticion',\r\n    propiedad: 'codigo_peticion',\r\n  },\r\n  {\r\n    cabecera: 'codofcadm',\r\n    propiedad: 'codigo_zonal'\r\n  },\r\n  {\r\n    cabecera: 'codcli',\r\n    propiedad: 'codigo_cliente'\r\n  },\r\n  {\r\n    cabecera: 'nomcli',\r\n    propiedad: 'nombre_cliente'\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    propiedad: 'codigo_ctr'\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo'\r\n  },\r\n  {\r\n    cabecera: 'nroplano',\r\n    propiedad: 'codigo_troba'\r\n  },\r\n  {\r\n    cabecera: 'fec_regist',\r\n    cabecera_2: 'fechorreg',\r\n    fecha: true,\r\n    propiedad: 'fecha_registro'\r\n  },\r\n  {\r\n    cabecera: 'codmotv',\r\n    propiedad: 'codigo_motivo'\r\n  },\r\n  {\r\n    cabecera: 'desmotv',\r\n    propiedad: 'detalle_motivo'\r\n  },\r\n  {\r\n    cabecera: 'tipreqfin',\r\n    propiedad: 'tipo_requerimiento'\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'detalle_trabajo'\r\n  },\r\n  {\r\n    cabecera: 'telefono',\r\n    cabecera_2: 'tel_cont_cc',\r\n    propiedad: 'telefono_contacto'\r\n  },\r\n  {\r\n    cabecera: 'tel_cont_ref_cc',\r\n    propiedad: 'telefono_referencia'\r\n  },\r\n  {\r\n    cabecera: 'numaverei',\r\n    cabecera_2: 'numaveind',\r\n    propiedad: 'numero_reiterada'\r\n  },\r\n  {\r\n    cabecera: 'tiptecnologia',\r\n    propiedad: 'tipo_tecnologia'\r\n  },\r\n];\r\n\r\nexport const averiasDireccion = [\r\n  {\r\n    cabecera: 'destipvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desnomvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'numvia',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'despis',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desint',\r\n    espacio: ' Int. '\r\n  },\r\n  {\r\n    cabecera: 'desmzn',\r\n    espacio: ' Mz. '\r\n  },\r\n  {\r\n    cabecera: 'deslot',\r\n    espacio: ' Lt. '\r\n  },\r\n  {\r\n    cabecera: 'destipurb',\r\n    espacio: ' '\r\n  },\r\n  {\r\n    cabecera: 'desurb',\r\n    espacio: ' '\r\n  }\r\n]\r\n\r\nexport const altas = [\r\n  {\r\n    cabecera: 'desdtt',\r\n    cabecera_2: 'distrito',\r\n    propiedad: 'distrito',\r\n  },\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'numreq',\r\n    cabecera_3: 'requerimiento',\r\n    propiedad: 'codigo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codofcadm',\r\n    propiedad: 'codigo_zonal'\r\n  },\r\n  {\r\n    cabecera: 'codcli',\r\n    propiedad: 'codigo_cliente',\r\n  },\r\n  {\r\n    cabecera: 'codordtrab',\r\n    cabecera_2: 'ordtrab',\r\n    propiedad: 'codigo_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'cod_peticion',\r\n    cabecera_2: 'codpeticion',\r\n    propiedad: 'codigo_peticion',\r\n  },\r\n  {\r\n    cabecera: 'codinc',\r\n    propiedad: 'codigo_incidencia',\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    cabecera_2: 'codres',\r\n    propiedad: 'codigo_ctr',\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr',\r\n  },\r\n  {\r\n    cabecera: 'codsegmento',\r\n    propiedad: 'codigo_segmento',\r\n  },\r\n  {\r\n    cabecera: 'tipreq',\r\n    propiedad: 'tipo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codmotv',\r\n    propiedad: 'codigo_motivo',\r\n  },\r\n  {\r\n    cabecera: 'desmotv',\r\n    propiedad: 'detalle_motivo',\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'detalle_trabajo',\r\n  },\r\n  {\r\n    cabecera: 'fecest',\r\n    fecha: true,\r\n    propiedad: 'fecha_asignado'\r\n  },\r\n  {\r\n    cabecera: 'fechorasig',\r\n    cabecera_2: 'fecasig',\r\n    hora: 'horasig',\r\n    fecha: true,\r\n    propiedad: 'fecha_registro'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo',\r\n  },\r\n  {\r\n    cabecera: 'nroplano',\r\n    propiedad: 'codigo_troba',\r\n  },\r\n  {\r\n    cabecera: 'indpai',\r\n    cabecera_2: 'estado pai',\r\n    propiedad: 'indicador_pai',\r\n  },\r\n  {\r\n    cabecera: 'telefono_voip',\r\n    propiedad: 'telefono_contacto',\r\n  },\r\n  {\r\n    cabecera: 'tiptecnologia',\r\n    propiedad: 'tipo_tecnologia',\r\n  },\r\n  {\r\n    cabecera: 'movistar_total',\r\n    propiedad: 'movistar_total',\r\n  }\r\n]\r\n\r\nexport const hfcLiquidadas = [\r\n  {\r\n    cabecera: 'codreq',\r\n    cabecera_2: 'codreqatn',\r\n    cabecera_3: 'numreq',\r\n    propiedad: 'codigo_requerimiento',\r\n  },\r\n  {\r\n    cabecera: 'codctr',\r\n    cabecera_2: 'codres',\r\n    propiedad: 'codigo_ctr'\r\n  },\r\n  {\r\n    cabecera: 'codnod',\r\n    propiedad: 'codigo_nodo'\r\n  },\r\n  {\r\n    cabecera: 'desnomctr',\r\n    propiedad: 'descripcion_ctr'\r\n  },\r\n  {\r\n    cabecera: 'fec_liquid',\r\n    cabecera_2: 'fechorliq',\r\n    fecha: true,\r\n    propiedad: 'fecha_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'tipave',\r\n    propiedad: 'tipo_averia',\r\n  },\r\n  {\r\n    cabecera: 'codtecliq',\r\n    propiedad: 'carnet_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'nomtec',\r\n    propiedad: 'nombre_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'codusr',\r\n    propiedad: 'usuario_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'desobsordtrab',\r\n    propiedad: 'observacion_liquidado',\r\n  },\r\n  {\r\n    cabecera: 'des_cod_liq',\r\n    propiedad: 'descripcion_codigo_liquidado',\r\n  },\r\n]\r\n\r\nexport const valoresExcelPendientes = {\r\n  codigo_requerimiento: \"Requerimiento\",\r\n  codigo_cliente: 'Codigo Cliente',\r\n  nombre_cliente: 'Cliente',\r\n  codigo_trabajo: 'Orden Trabajo',\r\n  codigo_peticion: 'Peticion',\r\n  tipo_requerimiento: 'Tipo Requerimiento',\r\n  tipo_tecnologia: 'Tipo Tecnologia',\r\n  indicador_pai: 'PAI',\r\n  codigo_ctr: \"CTR\",\r\n  codigo_nodo: \"Nodo\",\r\n  codigo_troba: \"Troba\",\r\n  numero_reiterada: \"Reiterada\",\r\n  infancia_requerimiento: 'Infancia Requerimiento',\r\n  infancia_tecnico_nombre: 'Infancia Tecnico',\r\n  infancia_tecnico_carnet: 'Infancia Carnet',\r\n  infancia_tecnico_gestor: 'Infancia Gestor',\r\n  infancia_registro: 'Infancia Fecha Registro',\r\n  infancia_liquidado: 'Infancia Fecha Liquidado',\r\n  infancia_externa_requerimiento: 'Infancia Externa Requerimiento',\r\n  infancia_externa_ctr: 'Infancia Externa CTR',\r\n  infancia_externa_observacion: 'Infancia Externa Obs.',\r\n  distrito: \"Distrito\",\r\n  direccion: 'Dirección',\r\n  bucket: \"Bucket\",\r\n  estado_toa: \"Estado Toa\",\r\n  estado_gestor: \"Estado Gestor\",\r\n  contrata: \"Contrata\",\r\n  gestor: \"Gestor\",\r\n  gestor_carnet: 'Gestor Carnet',\r\n  auditor: \"Auditor\",\r\n  tecnico: \"Tecnico\",\r\n  tecnico_carnet: 'Tecnico Carnet',\r\n  fecha_cita: \"Fecha Cita\",\r\n  fecha_registro: \"Fecha Registro\",\r\n  fecha_asignado: 'Fecha Asignado',\r\n  fecha_liquidado: 'Fecha Liquidado',\r\n  horas_registro: 'Horas Registro',\r\n  horas_asignado: 'Horas Asignado',\r\n  orden_devuelta: 'Orden Devuelta',\r\n  observacion_toa: 'Observacion Toa'\r\n};\r\n\r\nexport const listaBuckets = [\r\n  {\r\n    text: 'MA MAGDALENA 01',\r\n    value: 'BK_SV_MA_MAGDALENA_01'\r\n  },\r\n  {\r\n    text: 'SM MAGDALENA 02',\r\n    value: 'BK_MA_SM_MAGDALENA_02'\r\n  },\r\n  {\r\n    text: 'SJ MARANGA',\r\n    value: 'BK_MR_SM_PN_SJ_MARANGA'\r\n  },\r\n  {\r\n    text: 'SJ SAN JOSE',\r\n    value: 'BK_SJ_SAN_JOSE'\r\n  },\r\n  {\r\n    text: 'MA VENEZUELA',\r\n    value: 'BK_VN_MA_VENEZUELA'\r\n  }\r\n];\r\n\r\nexport const listaEstadosGestor = {\r\n  PENDIENTE: 'pendiente',\r\n  AGENDADO: 'agendado',\r\n  ASIGNADO: 'asignado',\r\n  INICIADO: 'iniciado',\r\n  LIQUIDADO: 'liquidado',\r\n  SUSPENDIDO: 'suspendido',\r\n  CANCELADO: 'cancelado',\r\n  NO_REALIZADO: 'no_realizado',\r\n  MASIVO: 'masivo',\r\n  PEXT: 'pext',\r\n  REMEDY: 'remedy',\r\n}\r\n\r\nexport const codigosLiquidadasEfectivas = [\r\n  '02','2','03','3','06','6','07','7','10','1C','1D','1H','1I','1N','1P','1Q','1S','1O','1T','1U','1L',\r\n  'G1','G3','G4','G5','2A','2B','2C','2D','2E','2F','2G','2H',\r\n  'HC','H0','H1','H2','H3','H4','H5','H6','H8','H9','HA','HB','HC','HD'\r\n];\r\n\r\nexport const codigosLiquidadasInefectivas = [\r\n  '1V','1W','71','77','78','79','7B','7C','7D','7E','7F',\r\n  '21','93','R1','R2','H7','D1','D2','D3','D4','D5',\r\n  'S1','S2','S3','S4','S5','S6','Z1'\r\n];\r\n\r\nexport const codigosLiquidadasNoCorresponde = [\r\n  '21','22','23','24','25','26','28','31','32','33','34','35',\r\n  '41','42','43','47','48','49','51','53','81','82','83','84',\r\n  '91','92','B8',\r\n];\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Tag } from 'antd';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\nimport { listaEstadosGestor } from '../../../constants/valoresOrdenes';\r\n\r\nfunction TagEstado({estado}) {\r\n  switch (String(estado).toLowerCase()) {\r\n    case 'cancelado':\r\n      return <Tag>{capitalizar(estado)}</Tag>\r\n    case 'completado':\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.LIQUIDADO:\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.AGENDADO:\r\n      return <Tag color=\"blue\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.ASIGNADO:\r\n      return <Tag color=\"cyan\">{capitalizar(estado)}</Tag>\r\n    case 'iniciado':\r\n      return <Tag color=\"geekblue\">{capitalizar(estado)}</Tag>\r\n    case 'no realizada':\r\n      return <Tag color=\"magenta\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.PENDIENTE:\r\n      return <Tag color=\"orange\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.SUSPENDIDO:\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.REMEDY:\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case listaEstadosGestor.PEXT:\r\n      return <Tag color=\"purple\">{String(estado).toUpperCase()}</Tag>\r\n    case listaEstadosGestor.MASIVO:\r\n      return <Tag color=\"purple\">{String(estado).toUpperCase()}</Tag>\r\n    case 'efectiva':\r\n      return <Tag color=\"green\">{capitalizar(estado)}</Tag>\r\n    case 'inefectiva':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    case 'anulado':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    default:\r\n      return <Tag>-</Tag>\r\n  }\r\n}\r\n\r\nTagEstado.propTypes = {\r\n  estado: PropTypes.string\r\n}\r\n\r\nexport default TagEstado\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\nexport const getOrdenes = async (toast, {metodo, tipo, codigo_cliente, id, todo, id_ordenes, fechaInicio, fechaFin }) => restPrivate({\r\n  url: 'ordenes', method: 'GET', params: { metodo, tipo, todo, codigo_cliente, id, id_ordenes, fechaInicio, fechaFin }, headers: { \"Content-Type\": \"application/json\" }\r\n}, toast);\r\n\r\n/**\r\n * @param {object} body\r\n * @param {string} body.metodo\r\n * @param {array} body.ordenes\r\n * @param {array} body.ordenesExternas\r\n * @param {object} body.orden\r\n */\r\nexport const postOrdenes = async ({metodo, ordenes, ordenesExternas, orden}) => restPrivate({\r\n  url: 'ordenes', method: 'POST', data: { ordenes, ordenesExternas, metodo, orden}\r\n},true);\r\n\r\nexport const putOrdenes = async ({metodo, ordenes}) => restPrivate({\r\n  url: 'ordenes', method: 'PUT', data: { ordenes, metodo }\r\n},true);\r\n\r\nexport const patchOrdenes = async ({metodo, id, ordenes, bucket, tecnico, auditor, gestor, contrata, fecha_cita, estado, observacion}) => restPrivate({\r\n  url: 'ordenes', \r\n  method: 'PATCH', \r\n  data: { metodo, id, ordenes, bucket, tecnico, auditor, gestor, contrata, fecha_cita, estado, observacion}\r\n},true);\r\n\r\nexport const patchFilesOrdenes = async (data) => restPrivate({\r\n  url: 'ordenes', \r\n  method: 'PATCH', \r\n  data, \r\n  headers: { 'Content-Type': 'multipart/form-data' }\r\n}, true)","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Popconfirm } from 'antd';\r\nimport { EditTwoTone } from '@ant-design/icons';\r\nimport { patchOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\n\r\nfunction PopObservacion({row, listarOrdenes}) {\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  async function enviarObservacion() {\r\n    if (observacion) {\r\n      await patchOrdenes({metodo: ordenes.AGREGAR_OBSERVACION, id: row._id, observacion})\r\n        .then(() => {\r\n          cancelarPop();\r\n          listarOrdenes();\r\n        }).catch((e) => console.log(e))\r\n    } else {\r\n      setVisible(false);\r\n    }\r\n  };\r\n\r\n  const cancelarPop = () => {\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Popconfirm\r\n      visible={visible}\r\n      placement=\"leftTop\"\r\n      title={() => (\r\n        <div>\r\n          <p>Observacion - <strong>{row.codigo_requerimiento}</strong></p>\r\n          <Input\r\n            value={observacion}\r\n            onChange={(e) => setObservacion(e.target.value)}\r\n            placeholder=\"Observacion\"\r\n            size=\"small\"\r\n            style={{ width: 250 }}\r\n          />\r\n        </div>\r\n      )} \r\n      icon={<EditTwoTone twoToneColor=\"#EB984E\" />}\r\n      onConfirm={enviarObservacion}\r\n      onCancel={cancelarPop}\r\n    >\r\n      <EditTwoTone style={{ fontSize: '1.5rem' }} twoToneColor=\"#EB984E\" onClick={() => setVisible(!visible)}/>\r\n    </Popconfirm>\r\n  )\r\n}\r\n\r\nPopObservacion.propTypes = {\r\n  row: PropTypes.object,\r\n  listarOrdenes: PropTypes.func\r\n}\r\n\r\nexport default PopObservacion\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { Tag } from 'antd';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\nfunction TagHoras({fecha, tipo, tipoAgenda}) {\r\n  let horas = moment().diff(fecha, 'hours');\r\n  if (tipoAgenda && fecha) {\r\n    return <Tag color=\"blue\">{horas}</Tag>\r\n  } else if (!tipoAgenda && fecha){\r\n    if (tipo === tipoOrdenes.ALTAS) {\r\n      return <Tag color={horas >= 72 ? 'error' : horas < 72 && horas >= 24 ? 'warning' : horas < 24 ? 'success' : ''}>{horas}</Tag>\r\n    } else if (tipo === tipoOrdenes.AVERIAS){\r\n      return <Tag color={horas >= 24 ? 'error' : horas < 24 && horas >= 12 ? 'warning' : horas < 12 ? 'success' : ''}>{horas}</Tag>\r\n    } else {\r\n      return <Tag>-</Tag>\r\n    }\r\n  } else {\r\n    return <Tag color=\"blue\">-</Tag>\r\n  }\r\n};\r\n\r\nTagHoras.propTypes = {\r\n  fecha: PropTypes.any,\r\n  tipo: PropTypes.string,\r\n  tipoAgenda: PropTypes.any\r\n};\r\n\r\nexport default TagHoras;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction columnasBaseGestor({\r\n  filtroTipo=[],\r\n  filtroTimeSlot=[],\r\n  abrirRegistro,\r\n  listarOrdenes\r\n}) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Tipo',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n      filters: filtroTipo ? filtroTipo : [],\r\n      onFilter: (v,r) => r.tipo.indexOf(v) === 0,\r\n      render: (t) => t ? capitalizar(t) : '-'\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 140,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return <Text copyable strong style={{ color: '#003055'}}><Tag color=\"#108ee9\" style={{ fontSize: '1rem' }}>{req}</Tag></Text>\r\n        } else {\r\n          return <Text copyable strong>{req}</Text>\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    // AQUI IRÁ LAS COLUMNAS PARA AGREGAR\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};\r\n\r\nexport function columnasPendientesGestor({\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  abrirReiterada,\r\n  abrirInfancia\r\n}) {\r\n\r\n  return [\r\n    {\r\n      key: 'tipo_requerimiento',\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      width: 120,\r\n      align: 'center',\r\n      filters: filtroTipoRequerimiento ? filtroTipoRequerimiento : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'tipo_tecnologia',\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      width: 120,\r\n      filters: filtroTipoTecnologia ? filtroTipoTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'codigo_trabajo',\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      key: 'codigo_peticion',\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      key: 'codigo_ctr',\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      key: 'codigo_nodo',\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 75,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => String(r.codigo_nodo).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      key: 'codigo_troba',\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      filters: filtroTroba ? filtroTroba : [],\r\n      onFilter: (v,r) => String(r.codigo_troba).indexOf(String(v)) === 0,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      key: 'numero_reiterada',\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'infancia',\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 100,\r\n      align: 'center',\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.codigo_requerimiento) {\r\n          return <Tag color=\"blue\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'distrito',\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      key: 'direccion',\r\n      title: 'Dirección',\r\n      dataIndex: 'direccion',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (direccion) => (\r\n        <Tooltip placement=\"topLeft\" title={direccion}>\r\n          {direccion}\r\n        </Tooltip>\r\n      )\r\n    },\r\n\r\n    {\r\n      key: 'bucket',\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'estado_toa',\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      key: 'estado_gestor',\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      key: 'contrata',\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'tecnico',\r\n      title: 'Tecnico TOA',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if( r.tecnico !== undefined) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'tecnico_liteyca',\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if( r.tecnico_liteyca !== undefined) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      key: 'observacion_gestor',\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      key: 'tipo_agenda',\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100\r\n    },\r\n    {\r\n      key: 'fecha_cita',\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'fecha_asignado',\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      key: 'fecha_registro',\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n  ];\r\n};\r\n\r\nexport function generarColumnasGestor(columnasUsuario=[], {\r\n  filtroTipo=[],\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroTimeSlot=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes\r\n}) {\r\n  if (columnasUsuario && columnasUsuario.length > 0) {\r\n    let columnasAux = [];\r\n    columnasUsuario.forEach((key) => {\r\n      let index = columnasPendientesGestor({ filtroDistrito, filtroBucket, filtroEstadoToa, filtroEstadoGestor, filtroContrata, filtroTecnico, filtroTecnicoAsignado, \r\n        filtroTipoRequerimiento, filtroTipoTecnologia,filtroCtr, filtroNodo, filtroTroba, abrirReiterada, abrirInfancia }).findIndex((e) => e.dataIndex === key);\r\n      if (index > -1) {\r\n        columnasAux.push(columnasPendientesGestor({ filtroDistrito, filtroBucket, filtroEstadoToa, filtroEstadoGestor, filtroContrata, filtroTecnico, filtroTecnicoAsignado, \r\n          filtroTipoRequerimiento, filtroTipoTecnologia,filtroCtr, filtroNodo, filtroTroba, abrirReiterada, abrirInfancia })[index])\r\n      };     \r\n    });\r\n    let newColumns = columnasAux.filter((e) => e);\r\n    let base = columnasBaseGestor({filtroTipo, filtroTimeSlot, abrirRegistro, listarOrdenes });\r\n    base.splice(4, 0, ...newColumns);\r\n    return base;\r\n  } else {\r\n    let base = columnasBaseGestor({filtroTipo, filtroTimeSlot, abrirRegistro, listarOrdenes });\r\n    base.splice(4, 0, ...columnasPendientesGestor({\r\n      filtroDistrito, \r\n      filtroBucket, \r\n      filtroEstadoToa, \r\n      filtroEstadoGestor,\r\n      filtroContrata, \r\n      filtroTecnico,\r\n      filtroTecnicoAsignado,\r\n      filtroTipoRequerimiento,\r\n      filtroTipoTecnologia,\r\n      filtroCtr,\r\n      filtroNodo,\r\n      filtroTroba,\r\n      abrirReiterada,\r\n      abrirInfancia,\r\n    }));\r\n\r\n    return base;\r\n  };\r\n};","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasSinBandejaGestor(\r\n  filtroDistrito=[],\r\n  filtroTipo=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnico=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoRequerimiento=[],\r\n  filtroTipoTecnologia=[],\r\n  filtroCtr=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroTimeSlot=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Tipo',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n      filters: filtroTipo ? filtroTipo : [],\r\n      onFilter: (v,r) => r.tipo.indexOf(v) === 0,\r\n      render: (t) => t ? capitalizar(t) : '-'\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return {\r\n            props: {\r\n              style: { background: \"#CCE9FF\" },\r\n            },\r\n            children: <Text copyable strong style={{ color: '#003055'}}>{req}</Text>,\r\n          };\r\n        } else {\r\n          return <Text copyable strong>{req}</Text>\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      width: 120,\r\n      align: 'center',\r\n      filters: filtroTipoRequerimiento ? filtroTipoRequerimiento : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      width: 120,\r\n      filters: filtroTipoTecnologia ? filtroTipoTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 75,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => String(r.codigo_nodo).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      filters: filtroTroba ? filtroTroba : [],\r\n      onFilter: (v,r) => String(r.codigo_troba).indexOf(String(v)) === 0,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 100,\r\n      align: 'center',\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.codigo_requerimiento) {\r\n          return <Tag color=\"blue\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico TOA',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if( r.tecnico !== undefined) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if( r.tecnico_liteyca !== undefined) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Spin } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { getOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\n\r\nfunction ModalDetalleOrden({visible, abrir, orden, tipo}) {\r\n  const [ordenDetalle, setOrdenDetalle] = useState({});\r\n  const [loadingDetalle, setLoadingDetalle] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (String(orden).length > 4) {\r\n      buscarDetalleOrden();\r\n    }\r\n  //eslint-disable-next-line\r\n  }, [orden]);\r\n\r\n  async function buscarDetalleOrden() {\r\n    setLoadingDetalle(true);\r\n    return await getOrdenes(false, { metodo: ordenes.BUSCAR_DETALLE, id: orden })\r\n      .then(({data}) => { \r\n        if (data) {\r\n          setOrdenDetalle(data)\r\n        } else {\r\n          setOrdenDetalle({})\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingDetalle(false));\r\n  };\r\n\r\n  if (tipo === tipoOrdenes.AVERIAS) {\r\n    return (\r\n      <Modal\r\n        title=\"Detalle Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={abrir}\r\n        width='70vw'\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        {\r\n          loadingDetalle ? \r\n          <Spin spinning/>\r\n          :\r\n          <Descriptions\r\n            bordered\r\n            size=\"small\"\r\n          >\r\n            <Descriptions.Item label=\"Requerimiento\">{ordenDetalle && ordenDetalle.codigo_requerimiento ? ordenDetalle.codigo_requerimiento : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Cliente\">{ordenDetalle && ordenDetalle.codigo_cliente ? ordenDetalle.codigo_cliente : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Nodo\">{ordenDetalle && ordenDetalle.codigo_nodo ? ordenDetalle.codigo_nodo : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Distrito\">{ordenDetalle && ordenDetalle.distrito ? ordenDetalle.distrito : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Telefono\">{ordenDetalle && ordenDetalle.telefono_contacto ? ordenDetalle.telefono_contacto : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Referencia\">{ordenDetalle && ordenDetalle.telefono_referencia ? ordenDetalle.telefono_referencia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tecnología\">{ordenDetalle && ordenDetalle.tipo_tecnologia ? ordenDetalle.tipo_tecnologia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Cita\">{ordenDetalle && ordenDetalle.fecha_cita ? moment(ordenDetalle.fecha_cita).format('DD/MM/YY') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Registro\">{ordenDetalle && ordenDetalle.fecha_registro ? moment(ordenDetalle.fecha_registro).format('DD/MM/YY HH:mm') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Horas\">\r\n              {ordenDetalle && ordenDetalle.fecha_registro ? \r\n              <TagHoras fecha={ordenDetalle.fecha_registro} tipo={ordenDetalle.tipo} tipoAgenda={ordenDetalle.tipo_agenda}/>\r\n              : '-'}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"Cliente\" span={2}>{ordenDetalle && ordenDetalle.nombre_cliente ? ordenDetalle.nombre_cliente : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Dirección\" span={3}>{ordenDetalle && ordenDetalle.direccion ? ordenDetalle.direccion : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Detalle Trabajo\" span={3}>{ordenDetalle && ordenDetalle.detalle_trabajo ? ordenDetalle.detalle_trabajo : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Gestor\" span={3}>{ordenDetalle && ordenDetalle.observacion_gestor ? ordenDetalle.observacion_gestor : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Toa\" span={3}>{ordenDetalle && ordenDetalle.observacion_toa ? ordenDetalle.observacion_toa : ''}</Descriptions.Item>\r\n          </Descriptions>\r\n        }\r\n      </Modal>\r\n    )\r\n  } else {\r\n    return (\r\n      <Modal\r\n        title=\"Detalle Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={abrir}\r\n        width='70vw'\r\n        destroyOnClose\r\n        centered\r\n      >\r\n      {\r\n          loadingDetalle ? \r\n          <Spin spinning/>\r\n          :\r\n          <Descriptions\r\n            bordered\r\n            size=\"small\"\r\n          >\r\n            <Descriptions.Item label=\"Requerimiento\">{ordenDetalle && ordenDetalle.codigo_requerimiento ? ordenDetalle.codigo_requerimiento : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Cliente\">{ordenDetalle && ordenDetalle.codigo_cliente ? ordenDetalle.codigo_cliente : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Codigo Peticion\">{ordenDetalle && ordenDetalle.codigo_peticion ? ordenDetalle.codigo_peticion : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Orden Trabajo\">{ordenDetalle && ordenDetalle.codigo_trabajo ? ordenDetalle.codigo_trabajo : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tipo de Actividad\">{ordenDetalle && ordenDetalle.subtipo_actividad ? ordenDetalle.subtipo_actividad : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Tecnología\">{ordenDetalle && ordenDetalle.tipo_tecnologia ? ordenDetalle.tipo_tecnologia : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Fecha Cita\">{ordenDetalle && ordenDetalle.fecha_cita ? moment(ordenDetalle.fecha_cita).format('DD/MM/YY') : '-'}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Cliente\" span={2}>{ordenDetalle && ordenDetalle.nombre_cliente ? ordenDetalle.nombre_cliente : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Detalle Trabajo\" span={3}>{ordenDetalle && ordenDetalle.detalle_trabajo ? ordenDetalle.detalle_trabajo : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Gestor\" span={3}>{ordenDetalle && ordenDetalle.observacion_gestor ? ordenDetalle.observacion_gestor : ''}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Observacion Toa\" span={3}>{ordenDetalle && ordenDetalle.observacion_toa ? ordenDetalle.observacion_toa : ''}</Descriptions.Item>\r\n          </Descriptions>\r\n      }\r\n      </Modal>\r\n    )\r\n  }\r\n};\r\n\r\nModalDetalleOrden.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  orden: PropTypes.string,\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default ModalDetalleOrden;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Transfer } from 'antd';\r\n\r\nfunction ModalColumnas({visible, abrir, columnasBase, columnasUsuario=[], guardar}) {\r\n  const [columnasSeleccionadas, setColumnasSeleccionadas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if ( columnasUsuario && columnasUsuario.length > 0) {\r\n      setColumnasSeleccionadas(columnasUsuario); \r\n    };\r\n  }, [columnasUsuario])\r\n\r\n  const guardarConfiguracion = async () => {\r\n    guardar(columnasSeleccionadas);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configurar Columnas\"\r\n      visible={visible}\r\n      width={550}\r\n      onCancel={abrir}\r\n      onOk={guardarConfiguracion}\r\n      centered\r\n    >\r\n      <p>Seleccionar columnas</p>\r\n      <Transfer\r\n        dataSource={columnasBase}\r\n        targetKeys={columnasSeleccionadas}\r\n        titles={['Disponibles', 'Usuario']}\r\n        listStyle={{\r\n          width: 300,\r\n          height: 600,\r\n        }}\r\n        onChange={(e) => setColumnasSeleccionadas(e)}\r\n        render={item => item.title}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalColumnas.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  columnasBase: PropTypes.array,\r\n  columnasUsuario: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalColumnas;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\n\r\nimport { generarColumnasGestor, columnasPendientesGestor } from './columnas/columnasPendientesGestor';\r\nimport columnasSinBandejaGestor from './columnas/columnasSinBandejaGestor';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalDetalleOrden from '../administrarOrdenes/ModalsTabla/ModalDetalleOrden';\r\nimport { SettingOutlined } from '@ant-design/icons';\r\nimport ModalColumnas from './ModalColumnas';\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nfunction TablaOrdenes({ asignadas=false, data, loading, ordenesSeleccionadas, setOrdenesSeleccionadas, abrirReiterada, abrirInfancia, abrirRegistro, listarOrdenes }) {\r\n  const [columnasUsuario, setColumnasUsuario] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [filtroTecnicoAsignado, setFiltroTecnicoAsignado] = useState([]);\r\n  const [filtroTipo, setFiltroTipo] = useState([]);\r\n  const [filtroTipoRequerimiento, setFiltroTipoRequerimiento] = useState([]);\r\n  const [filtroTipoTecnologia, setFiltroTipoTecnologia] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroTroba, setFiltroTroba] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [idOrdenDetalle, setIdOrdenDetalle] = useState(null);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [modalColumnas, setModalColumnas] = useState(false);\r\n  const [tipo, setTipo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    obtenerColumnasGestor();\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (columnasUsuario && columnasUsuario.length > 0) {\r\n      generarColumnas();\r\n    };\r\n  //eslint-disable-next-line\r\n  },[columnasUsuario]);\r\n\r\n  useEffect(() => {\r\n    establacerFiltros(data);\r\n  },[data]);\r\n\r\n  async function obtenerColumnasGestor() {\r\n    return await getEmpleados(true, { metodo: empleados.OBTENER_COLUMNAS })\r\n      .then(({data}) => {\r\n        if (data && data.columnas) {\r\n          setColumnasUsuario(data.columnas)\r\n        }\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  async function guardarColumnasGestor(keys) {\r\n    setModalColumnas(false);\r\n    return await patchEmpleados(true, { columnas: keys, metodo: empleados.ACTUALIZAR_COLUMNAS_GESTOR })\r\n      .then(() => obtenerColumnasGestor())\r\n  };\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n  const abrirModalColumnas = () => setModalColumnas(!modalColumnas);\r\n\r\n  const abrirDetalle = (id, tipo) => {\r\n    setIdOrdenDetalle(id);\r\n    setTipo(tipo);\r\n    abrirModalDetalle();\r\n  };\r\n\r\n  const establacerFiltros = (data) => {\r\n    if (data && data.length > 0) {\r\n      setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n      setFiltroBucket(obtenerFiltroNombre(data, 'bucket'));\r\n      setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n      setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n      setFiltroTipoRequerimiento(obtenerFiltroNombre(data, 'tipo_requerimiento'));\r\n      setFiltroTipoTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n      setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n      setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n      setFiltroTroba(obtenerFiltroNombre(data, 'codigo_troba'));\r\n      setFiltroTimeSlot(obtenerFiltroNombre(data, 'tipo_agenda'));\r\n      setFiltroContrata(obtenerFiltroId(data, 'contrata'));\r\n      setFiltroTecnico(obtenerFiltroId(data, 'tecnico'));\r\n      setFiltroTecnicoAsignado(obtenerFiltroId(data, 'tecnico_liteyca'));\r\n      setFiltroTipo(obtenerFiltroNombre(data, 'tipo', true));\r\n    };\r\n  };\r\n\r\n  const generarColumnas = () => {\r\n    if (!asignadas) {\r\n      return columnasSinBandejaGestor(\r\n        filtroDistrito,\r\n        filtroTipo,\r\n        filtroBucket,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnico,\r\n        filtroTecnicoAsignado,\r\n        filtroTipoRequerimiento,\r\n        filtroTipoTecnologia,\r\n        filtroCtr,\r\n        filtroNodo,\r\n        filtroTroba,\r\n        filtroTimeSlot,\r\n        abrirReiterada,\r\n        abrirInfancia,\r\n        abrirRegistro,\r\n        listarOrdenes\r\n      )\r\n    } else {\r\n      return generarColumnasGestor(columnasUsuario, {\r\n        filtroDistrito,\r\n        filtroTipo,\r\n        filtroBucket,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnico,\r\n        filtroTecnicoAsignado,\r\n        filtroTipoRequerimiento,\r\n        filtroTipoTecnologia,\r\n        filtroCtr,\r\n        filtroNodo,\r\n        filtroTimeSlot,\r\n        filtroTroba,\r\n        abrirReiterada,\r\n        abrirInfancia,\r\n        abrirRegistro,\r\n        listarOrdenes\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => abrirDetalle(record._id, record.tipo),\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={generarColumnas()}\r\n        dataSource={data}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        footer={() => {\r\n          if (asignadas) {\r\n            return <Button icon={<SettingOutlined/>} onClick={abrirModalColumnas} type=\"primary\">Preferencias</Button>\r\n          } else { return null; }\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE */}\r\n      <ModalDetalleOrden visible={modalDetalle} abrir={abrirModalDetalle} orden={idOrdenDetalle} tipo={tipo}/>\r\n      {/* MODAL PARA CONFIGURAR LAS COLUMNAS */}\r\n      <ModalColumnas \r\n        visible={modalColumnas} \r\n        abrir={abrirModalColumnas} \r\n        columnasBase={columnasPendientesGestor({\r\n          filtroContrata, \r\n          filtroEstadoGestor, \r\n          filtroEstadoToa, \r\n          filtroBucket, \r\n          filtroDistrito, \r\n          filtroCtr, \r\n          filtroNodo,\r\n          filtroTroba,\r\n          filtroTecnico,\r\n          filtroTecnicoAsignado,\r\n          filtroTipoRequerimiento,\r\n          filtroTipoTecnologia\r\n        })}\r\n        columnasUsuario={columnasUsuario}\r\n        guardar={guardarColumnasGestor}\r\n        />\r\n    </div>\r\n  )\r\n};\r\n\r\nTablaOrdenes.propTypes = {\r\n  asignadas: PropTypes.bool,\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  setOrdenesSeleccionadas: PropTypes.func,\r\n  abrirReiterada: PropTypes.func,\r\n  abrirInfancia: PropTypes.func,\r\n  abrirRegistro: PropTypes.func,\r\n  listarOrdenes: PropTypes.func,\r\n};\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Table } from 'antd';\r\nimport { EyeTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { CargoTag } from '../../../gestionEmpleados/personal/EmpleadoTag';\r\n\r\nfunction ModalDetalle({visible, abrir, loading, registros}) {\r\n  //Estados para la previsualización de las imagenes\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  const modalPreview = () => setPreviewVisible(!previewVisible);\r\n\r\n  // funcion para cargar la previsualización de la imagen seleccionada\r\n  const imagenPreview = async (url) => {\r\n    if (url) {\r\n      setPreviewVisible(true)\r\n      setPreviewImage(url);\r\n    }\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Usuario',\r\n      dataIndex: 'usuario_entrada',\r\n      width: 180,\r\n      render: (u) => u ? u.nombre + ' ' + u.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Estado Orden',\r\n      dataIndex: 'estado_orden',\r\n      width: 120,\r\n      render: (e) => <TagEstado estado={e} />\r\n    },\r\n    {\r\n      title: 'Empleado Modificado',\r\n      dataIndex: 'empleado_modificado',\r\n      width: 200,\r\n      render: (u) => u ? u.nombre + ' ' + u.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Empleado Tipo',\r\n      dataIndex: 'empleado_modificado',\r\n      width: 150,\r\n      render: (u) => u && u.usuario && u.usuario.cargo ? <CargoTag cargo={u.usuario.cargo} /> : '-'\r\n    },\r\n    {\r\n      title: 'Contrata Modificado',\r\n      dataIndex: 'contrata_modificado',\r\n      width: 150,\r\n      render: (c) => c ? c.nombre : '-'\r\n    },\r\n    {\r\n      title: 'Observacion',\r\n      dataIndex: 'observacion',\r\n      width: 300,\r\n    },\r\n    {\r\n      title: 'Fecha Entrada',\r\n      dataIndex: 'fecha_entrada',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    },\r\n    {\r\n      title: 'Imagenes',\r\n      dataIndex: 'imagenes',\r\n      width: 100,\r\n      render: (img) => {\r\n        if (img && img.length > 0) {\r\n          return (\r\n            img.map((e,i) => \r\n              <EyeTwoTone \r\n                key={i} \r\n                onClick={() => imagenPreview(e.url)}\r\n                style={{ marginRight: '.5rem', marginBottom: '.5rem', fontSize: '1.2rem' }} \r\n              />\r\n            )\r\n          )\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Historial de Notas\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width=\"90vw\"\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        columns={columnas}\r\n        dataSource={registros}\r\n        loading={loading}\r\n        size=\"small\"\r\n        pagination={false}\r\n        scroll={{ x: '80vw' }}\r\n      />\r\n      <Modal visible={previewVisible} footer={null} onCancel={modalPreview}>\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  registros: PropTypes.array\r\n};\r\n\r\nexport default ModalDetalle;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalInfancia({visible, abrir, loading, orden}) {\r\n\r\n  const columnas = [\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (u) => u ? <Text copyable>{u}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 80,\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u, row) => u ? u.nombre + ' ' + u.apellidos : row.carnet_liquidado ? row.carnet_liquidado : '-'\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u) => u ? <Text copyable>{u.carnet}</Text> : '-'\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 180,\r\n      render: (u) => u && u.gestor && u.gestor.nombre ? u.gestor.nombre + ' ' + u.gestor.apellidos : '-'\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 120,\r\n      render: (e) => <TagEstado estado={e} />\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY HH:mm') : '-'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Orden de Infancia\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width=\"90vw\"\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        columns={columnas}\r\n        dataSource={orden}\r\n        loading={loading}\r\n        size=\"small\"\r\n        pagination={false}\r\n        scroll={{ x: '80vw' }}\r\n      />\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalInfancia.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  orden: PropTypes.array\r\n};\r\n\r\nexport default ModalInfancia\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Table, Typography, Tooltip } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { getOrdenes } from '../../../../services/apiOrden';\r\nimport { ordenes } from '../../../../constants/metodos';\r\nimport TagEstado from '../TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalReiterada({abrir, visible, codigo_cliente}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (codigo_cliente) {\r\n      buscarReiteradas();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[codigo_cliente]);\r\n\r\n  async function buscarReiteradas() {\r\n    setLoading(true);\r\n    await getOrdenes(true, { metodo: ordenes.BUSCAR_REITERADA, codigo_cliente }).then(({data}) => {\r\n      if (data) {\r\n        setDataOrdenes(data);\r\n      }\r\n    }).catch((e) => console.log(e)).finally(() => setLoading(false));\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 70,\r\n    },\r\n    {\r\n      title: 'Descripcion CTR',\r\n      dataIndex: 'descripcion_ctr',\r\n      width: 180,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (cliente) => (\r\n        <Tooltip placement=\"topLeft\" title={cliente}>\r\n          {cliente}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cliente',\r\n      dataIndex: 'nombre_cliente',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (cliente) => (\r\n        <Tooltip placement=\"topLeft\" title={cliente}>\r\n          {cliente}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t && t.contrata ? t.contrata.nombre:'-'}>\r\n          {t && t.contrata ? t.contrata.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t && t.gestor ? t.gestor.nombre+' '+t.gestor.apellidos:'-'}>\r\n          {t ? t.gestor.nombre+' '+t.gestor.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidacion',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      render: (estado) => <TagEstado estado={estado}/>\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Lista de Reiteradas\"\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={abrir}\r\n      width='90vw'\r\n      centered\r\n    >\r\n      <Table\r\n        rowKey=\"_id\"\r\n        dataSource={dataOrdenes}\r\n        columns={columnas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50\r\n        }}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalReiterada.propTypes = {\r\n  abrir: PropTypes.func,\r\n  visible: PropTypes.bool,\r\n  codigo_cliente: PropTypes.string\r\n}\r\n\r\nexport default ModalReiterada\r\n\r\n","export default function getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { listaEstadosGestor } from '../../../../constants/valoresOrdenes';\r\nimport capitalizar from '../../../../libraries/capitalizar';\r\nimport convertirBase64 from '../../../../libraries/convertirBase64';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalEstado({visible, abrir, actualizarEstado}) {\r\n  const [estadoSeleccionado, setEstadoSeleccionado] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n  //Estados para la previsualización de las imagenes\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  useEffect(() => {\r\n    setEstadoSeleccionado(null);\r\n    setObservacion(null);\r\n    setFileList([]);\r\n  }, []);\r\n\r\n  async function actualizarOrden() {\r\n    await actualizarEstado(estadoSeleccionado, observacion, fileList);\r\n  };\r\n\r\n  //guardar localmente las fotos\r\n  function cargarArchivo (file) {\r\n    let lista = fileList;\r\n    file.status = 'done'\r\n    lista.push(file)\r\n    setFileList(lista)\r\n    return false\r\n  }\r\n  //remover archivo seleccionado\r\n  function removerArchivo (a) {\r\n    let nuevaLista = fileList.filter((f) => f.uid !== a.uid);\r\n    setFileList(nuevaLista)\r\n  };\r\n\r\n  const modalPreview = () => setPreviewVisible(!previewVisible);\r\n\r\n  // funcion para cargar la previsualización de la imagen seleccionada\r\n  const imagenPreview = async (file) => {\r\n    try {\r\n      const preview = await convertirBase64(file.originFileObj);\r\n      setPreviewVisible(true)\r\n      setPreviewImage(preview);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Editar estado de la orden\"\r\n      visible={visible}\r\n      onOk={actualizarOrden}\r\n      onCancel={abrir}\r\n      width={300}\r\n      afterClose={() => setObservacion(null)}\r\n      destroyOnClose\r\n      centered\r\n    >\r\n      <Select \r\n        placeholder=\"Seleccionar estado\"\r\n        defaultValue={estadoSeleccionado} \r\n        onChange={e => setEstadoSeleccionado(e)}\r\n        style={{ width: 250, marginBottom: '.5rem' }}\r\n      >\r\n        <Option value={listaEstadosGestor.PENDIENTE}>{capitalizar(listaEstadosGestor.PENDIENTE)}</Option>\r\n        <Option value={listaEstadosGestor.ASIGNADO}>{capitalizar(listaEstadosGestor.ASIGNADO)}</Option>\r\n        <Option value={listaEstadosGestor.AGENDADO}>{capitalizar(listaEstadosGestor.AGENDADO)}</Option>\r\n        <Option value={listaEstadosGestor.INICIADO}>{capitalizar(listaEstadosGestor.INICIADO)}</Option>\r\n        <Option value={listaEstadosGestor.LIQUIDADO}>{capitalizar(listaEstadosGestor.LIQUIDADO)}</Option>\r\n        <Option value={listaEstadosGestor.SUSPENDIDO}>{capitalizar(listaEstadosGestor.SUSPENDIDO)}</Option>\r\n        <Option value={listaEstadosGestor.CANCELADO}>{capitalizar(listaEstadosGestor.CANCELADO)}</Option>\r\n        <Option value={listaEstadosGestor.NO_REALIZADO}>{capitalizar(listaEstadosGestor.NO_REALIZADO)}</Option>\r\n        <Option value={listaEstadosGestor.PEXT}>{capitalizar(listaEstadosGestor.PEXT)}</Option>\r\n        <Option value={listaEstadosGestor.REMEDY}>{capitalizar(listaEstadosGestor.REMEDY)}</Option>\r\n      </Select>\r\n      <TextArea\r\n        placeholder=\"Observacion\"\r\n        value={observacion}\r\n        rows={4}\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n        style={{ marginBottom: '.5rem' }}\r\n      />\r\n      <div style={{ marginBottom: '.5rem' }}>Adjuntar imágenes:</div>\r\n      <Upload\r\n        accept=\".jpg,.png,.jpeg\"\r\n        listType=\"picture-card\"\r\n        beforeUpload={cargarArchivo}\r\n        onRemove={removerArchivo}\r\n        onPreview={imagenPreview}\r\n        multiple={true}\r\n      >\r\n        <UploadOutlined />{` `}Imagen\r\n      </Upload>\r\n      {/* MODAL PARA PREVISUALIZAR LA IMAGEN */}\r\n      <Modal visible={previewVisible} footer={null} onCancel={modalPreview}>\r\n        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n      </Modal>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  actualizarEstado: PropTypes.func\r\n};\r\n\r\nexport default ModalEstado;\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Select, Input, DatePicker, Button } from 'antd'\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAgendarTecnico({visible, abrir, buckets=[], tecnicos=[], agendar}) {\r\n  const [bucketSeleccionado, setBucketSeleccionado] = useState(null);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [tecnicoSeleccionado, setTecnicoSeleccionado] = useState(null);\r\n  const [fechaCita, setFechaCita] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setBucketSeleccionado(null);\r\n    setContrataSeleccionada(null);\r\n    setTecnicoSeleccionado(null);\r\n    setFechaCita(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  const agendarOrden = async () => {\r\n    setLoadingAgendar(true)\r\n    await agendar(bucketSeleccionado, contrataSeleccionada, tecnicoSeleccionado, fechaCita, observacion);\r\n    setLoadingAgendar(false);\r\n    abrir();\r\n  };\r\n\r\n  const seleccionarTecnico = (i) => {\r\n    setContrataSeleccionada(tecnicos[i].contrata._id);\r\n    setTecnicoSeleccionado(tecnicos[i]._id)\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Agendar Orden\"\r\n      width={400}\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={agendarOrden}\r\n      confirmLoading\r\n      destroyOnClose\r\n      centered\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button key=\"submit\" type=\"primary\" loading={loadingAgendar} onClick={agendarOrden}>\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Select\r\n        placeholder=\"Seleccionar Bucket\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setBucketSeleccionado(e)}\r\n        defaultValue={bucketSeleccionado}\r\n      >\r\n      {\r\n        buckets && buckets.length > 0 ? \r\n        buckets.map((b, i) => (\r\n          <Option value={b.value} key={i}>{b.text}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Seleccionar Tecnico\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => seleccionarTecnico(e)}\r\n        defaultValue={tecnicoSeleccionado}\r\n        filterOption={(input, option) => {\r\n          return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      }\r\n      >\r\n      {\r\n        tecnicos && tecnicos.length > 0 ? \r\n        tecnicos.map((b, i) => (\r\n          <Option value={i} key={i}>{b && b.nombre + ' ' + b.apellidos}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <DatePicker \r\n        placeholder=\"Seleccionar fecha de cita\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setFechaCita(e.utc().format('YYYY-MM-DD HH:mm'))} \r\n      />\r\n      <TextArea \r\n        rows={4} \r\n        style={{ width: 300 }}\r\n        defaultValue={observacion}\r\n        placeholder=\"Observacion\"\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalAgendarTecnico.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  buckets: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  agendar: PropTypes.func\r\n};\r\n\r\nexport default ModalAgendarTecnico\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, Radio, Cascader } from 'antd';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAsignar({tipo=false, visible, abrir, contratas=[], gestores=[], tecnicos=[], asignar}) {\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [tecnicoIndexSeleccionado, setTecnicoIndexSeleccionado] = useState(null);\r\n  const [listaTecnicosOrdenado, setListaTecnicosOrdenado] = useState([]);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [tipoAsignar, setTipoAsignar] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setContrataSeleccionada(null);\r\n    setGestorSeleccionado(null);\r\n    setTecnicoIndexSeleccionado(null);\r\n    setObservacion(null);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    ordenarListaTecnicos();\r\n  //eslint-disable-next-line\r\n  }, [tecnicos])\r\n\r\n  useEffect(() => {\r\n    setGestorSeleccionado(null);\r\n    setTecnicoIndexSeleccionado(null);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n   setGestorSeleccionado(null);\r\n   setTecnicoIndexSeleccionado(null);\r\n  }, [tipoAsignar])\r\n\r\n  const asignarOrden = async () => {\r\n    if (tipo) {\r\n      if (tipoAsignar === 1 && gestorSeleccionado) {\r\n        await asignar({gestor: gestorSeleccionado, observacion});\r\n      } else if (tipoAsignar === 2 && tecnicoIndexSeleccionado !== null && tecnicoIndexSeleccionado !== undefined && tecnicos.length > 0 && tecnicoIndexSeleccionado >= 0) {\r\n        const index = tecnicoIndexSeleccionado;\r\n        const aux = {\r\n          tecnico: tecnicos[index] ? tecnicos[index]._id: null,\r\n          auditor: tecnicos[index] && tecnicos[index].auditor ? tecnicos[index].auditor._id : null,\r\n          gestor: tecnicos[index] && tecnicos[index].gestor ? tecnicos[index].gestor._id : null,\r\n          contrata: tecnicos[index] && tecnicos[index].contrata ? tecnicos[index].contrata._id : null,\r\n          observacion\r\n        };\r\n        await asignar(aux);\r\n      } else {\r\n        cogoToast.warn('Error asignando (cliente/gestor).', { position: 'top-right' })\r\n      }\r\n    } else {\r\n      if (tipoAsignar === 1 && contrataSeleccionada) {\r\n        await asignar({contrata: contrataSeleccionada, observacion});\r\n      } else if (tipoAsignar === 2 && gestorSeleccionado) {\r\n        await asignar({gestor: gestorSeleccionado, observacion});\r\n      } else if (tipoAsignar === 2 && tecnicoIndexSeleccionado && tecnicos.length > 0 && tecnicoIndexSeleccionado >= 0) {\r\n        const index = tecnicoIndexSeleccionado;\r\n        const aux = {\r\n          tecnico_liteyca: tecnicos[index] ? tecnicos[index]._id: null,\r\n          auditor: tecnicos[index] && tecnicos[index].auditor ? tecnicos[index].auditor._id : null,\r\n          gestor_liteyca: tecnicos[index] && tecnicos[index].gestor ? tecnicos[index].gestor._id : null,\r\n          contrata: tecnicos[index] && tecnicos[index].contrata ? tecnicos[index].contrata._id : null,\r\n          observacion\r\n        };\r\n        await asignar(aux);\r\n      } else {\r\n        cogoToast.warn('Error asignando (cliente/lider).', { position: 'top-right' })\r\n      }\r\n    }\r\n  };\r\n\r\n  const ordenarListaTecnicos = () => {\r\n    if (tecnicos && tecnicos.length > 0) {\r\n      let gestores = [];\r\n      let nuevaLista = [];\r\n      tecnicos.forEach((t) => {\r\n        if (t && t.gestor && t.gestor.nombre && !gestores.includes(t.gestor.nombre+' '+t.gestor.apellidos)) {\r\n          gestores.push(t.gestor.nombre+' '+t.gestor.apellidos)\r\n        }\r\n      });\r\n      gestores.filter((e) => e).forEach((g) => {\r\n        let tecnicosGestor = tecnicos.filter((t) => t.gestor && t.gestor.nombre && (t.gestor.nombre+' '+t.gestor.apellidos) === g)\r\n        nuevaLista.push({\r\n          value: g,\r\n          label: g,\r\n          children: tecnicosGestor.map((t) => ({value: tecnicos.findIndex(e => e._id === t._id), label: t.nombre+' '+t.apellidos}))\r\n        })\r\n      });\r\n      setListaTecnicosOrdenado(nuevaLista.filter((e) => e))\r\n    }\r\n  };\r\n\r\n  function filter(inputValue, path) {\r\n    return path.some(option => option.label.toLowerCase().indexOf(inputValue.toLowerCase()) > -1);\r\n  }\r\n\r\n  if (tipo) {\r\n    return (\r\n      <Modal\r\n        title=\"Asignar Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={asignarOrden}\r\n        width={550}\r\n        afterClose={() => setObservacion(null)}\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        <p>Asignar por Gestor o Técnico:</p>\r\n        <Radio.Group onChange={(e) => setTipoAsignar(e.target.value)} defaultValue={tipoAsignar} style={{ marginBottom: '1rem' }}>\r\n          <Radio value={1}>Gestor</Radio>\r\n          <Radio value={2}>Tecnico</Radio>\r\n        </Radio.Group>\r\n        {tipoAsignar === 1 ?\r\n          (<Select\r\n            showSearch\r\n            value={gestorSeleccionado}\r\n            placeholder=\"Seleccionar Gestor\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setGestorSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              gestores && gestores.length > 0 ? \r\n              gestores.map((g) => (\r\n                <Option value={g._id} key={g._id}>{`${g.nombre} ${g.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          :\r\n          (<Cascader\r\n            options={listaTecnicosOrdenado}\r\n            onChange={(_, t) => setTecnicoIndexSeleccionado(t && t[1] ? t[1].value : null)}\r\n            placeholder=\"Seleccionar Tecnico\"\r\n            style={{ width: 500, marginBottom: '.5rem' }}\r\n            showSearch={{ filter }}\r\n          />)\r\n        }\r\n        <TextArea \r\n          placeholder=\"Observación\"\r\n          value={observacion}\r\n          onChange={(e) => setObservacion(e.target.value)}\r\n          rows={5} \r\n          style={{ width: 500 }}\r\n        />\r\n      </Modal>\r\n    )\r\n  } else {\r\n    return (\r\n      <Modal\r\n        title=\"Asignar Orden\"\r\n        visible={visible}\r\n        onCancel={abrir}\r\n        onOk={asignarOrden}\r\n        width={500}\r\n        destroyOnClose\r\n        centered\r\n      >\r\n        <p>Asignar por Contrata, Gestor o Técnico:</p>\r\n        <Radio.Group onChange={(e) => setTipoAsignar(e.target.value)} defaultValue={tipoAsignar} style={{ marginBottom: '1rem' }}>\r\n          <Radio value={1}>Contrata</Radio> \r\n          <Radio value={2}>Gestor</Radio>\r\n          <Radio value={3}>Tecnico</Radio>\r\n        </Radio.Group>\r\n        {\r\n          tipoAsignar === 1 ? \r\n          (<Select\r\n            showSearch\r\n            value={contrataSeleccionada}\r\n            placeholder=\"Seleccionar Contrata\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setContrataSeleccionada(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              contratas && contratas.length > 0 ? \r\n              contratas.map((g) => (\r\n                <Option value={g._id} key={g._id}>{g.nombre}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          : tipoAsignar === 2 ?\r\n          (<Select\r\n            showSearch\r\n            value={gestorSeleccionado}\r\n            placeholder=\"Seleccionar Gestor\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setGestorSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              gestores && gestores.length > 0 ? \r\n              gestores.map((g) => (\r\n                <Option value={g._id} key={g._id}>{`${g.nombre} ${g.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n          :\r\n          (<Select\r\n            showSearch\r\n            value={tecnicoIndexSeleccionado}\r\n            placeholder=\"Seleccionar Tecnico\"\r\n            style={{ width: 350, marginBottom: '.5rem' }}\r\n            onChange={(e) => setTecnicoIndexSeleccionado(e)}\r\n            filterOption={(input, option) => {\r\n              return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n          }\r\n          >\r\n            {\r\n              tecnicos && tecnicos.length > 0 ? \r\n              tecnicos.map((t,i) => (\r\n                <Option value={i} key={t._id}>{`${t.nombre} ${t.apellidos}`}</Option>\r\n              ))\r\n              :<Option>No data</Option>\r\n            }\r\n          </Select>)\r\n        }\r\n        <TextArea \r\n          placeholder=\"Observación\"\r\n          onChange={(e) => setObservacion(e.target.value)}\r\n          rows={4} \r\n          style={{ width: 350 }}\r\n        />\r\n      </Modal>\r\n    )\r\n  };\r\n};\r\n\r\nModalAsignar.propTypes = {\r\n  tipo: PropTypes.bool,\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  asignar: PropTypes.func\r\n}\r\n\r\nexport default ModalAsignar\r\n\r\n","import * as AntColores from '@ant-design/colors'\r\nimport { tipoOrdenes } from '../constants/tipoOrden';\r\n\r\nimport { listaEstadosGestor } from \"../constants/valoresOrdenes\";\r\n\r\nexport const colorEstado = (estado) => {\r\n  switch (estado) {\r\n    case 'cancelado':\r\n      return {background: AntColores.grey[1], color: AntColores.grey.primary};\r\n    case 'completado':\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case listaEstadosGestor.LIQUIDADO:\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case listaEstadosGestor.AGENDADO:\r\n      return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n    case listaEstadosGestor.ASIGNADO:\r\n      return {background: AntColores.cyan[1], color: AntColores.cyan.primary};\r\n    case 'iniciado':\r\n      return {background: AntColores.geekblue[1], color: AntColores.geekblue.primary};\r\n    case 'no realizada':\r\n      return {background: AntColores.magenta[1], color: AntColores.magenta.primary};\r\n    case listaEstadosGestor.PENDIENTE:\r\n      return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n    case listaEstadosGestor.SUSPENDIDO:\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case listaEstadosGestor.REMEDY:\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case listaEstadosGestor.PEXT:\r\n      return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n    case listaEstadosGestor.MASIVO:\r\n      return {background: AntColores.purple[1], color: AntColores.purple.primary};\r\n    case 'efectiva':\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    case 'inefectiva':\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    case 'no_corresponde':\r\n      return {background: '#DBDBDB', color: AntColores.grey.primary};\r\n    default:\r\n      return {background: '', color: ''};\r\n  };\r\n};\r\n\r\nexport const colorHora = (hora, tipo, fechaCita) => {\r\n  if (fechaCita && fechaCita !== '-') {\r\n    return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n  } else {\r\n    if (tipo === tipoOrdenes.AVERIAS) {\r\n      if (Number(hora) < 12) {\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      } else if (Number(hora) >= 12 && Number(hora) < 24 ) {\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      } else if (Number(hora) >= 24) {\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      } else {\r\n        return {background: '', color: '' };\r\n      }\r\n    } else if ((tipo === tipoOrdenes.ALTAS)){\r\n      if (Number(hora) < 24) {\r\n        return {background: AntColores.green[1], color: AntColores.green.primary};\r\n      } else if (Number(hora) >= 24 && Number(hora) < 72 ) {\r\n        return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n      } else if (Number(hora) >= 72) {\r\n        return {background: AntColores.red[1], color: AntColores.red.primary};\r\n      } else {\r\n        return {background: '', color: '' };\r\n      }\r\n    } else {\r\n      return {background: '', color: '' };\r\n    }\r\n  }\r\n};\r\n\r\nexport const colorDia = (dia, fechaCita) => {\r\n  if (fechaCita && fechaCita !== '-') {\r\n    return {background: AntColores.blue[1], color: AntColores.blue.primary};\r\n  } else {\r\n    if (Number(dia) < 1) {\r\n      return {background: AntColores.green[1], color: AntColores.green.primary};\r\n    } else if (Number(dia) >= 1 && Number(dia) < 5 ) {\r\n      return {background: AntColores.orange[1], color: AntColores.orange.primary};\r\n    } else if (Number(dia) >= 5) {\r\n      return {background: AntColores.red[1], color: AntColores.red.primary};\r\n    } else {\r\n      return {background: '', color: '' };\r\n    }\r\n  }\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Menu } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport capitalizar from '../../libraries/capitalizar'\r\nimport { getOrdenes } from '../../services/apiOrden';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { colorDia, colorEstado, colorHora } from '../../libraries/colorEstado';\r\n\r\nfunction ExcelOrdenesPendientes({ metodo, tipo, setLoading, ordenesSeleccionadas=[]}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  let exportarRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    if (dataOrdenes && dataOrdenes.length > 0) {\r\n      guardarArchivo(exportarRef.current)\r\n    }\r\n  },[dataOrdenes]);\r\n\r\n  async function exportarExcel(todo) {\r\n    if (!todo && ordenesSeleccionadas.length <= 0) return;\r\n    setLoading(true);\r\n    return await getOrdenes(true, { \r\n      metodo: metodo, todo, tipo, id_ordenes: ordenesSeleccionadas, \r\n    }).then(async({data}) => { \r\n      if (data && data.length > 0) {\r\n        return await setDataOrdenes(data.map((d) => ({\r\n          ...d, \r\n          infancia_registro: d.infancia && d.infancia.fecha_registro ? moment(d.infancia.fecha_registro).format('DD/MM/YY HH:mm'): '-',\r\n          infancia_liquidado: d.infancia && d.infancia.fecha_liquidado ? moment(d.infancia.fecha_liquidado).format('DD/MM/YY HH:mm'): '-',\r\n          fecha_cita: d.fecha_cita ? moment(d.fecha_cita).format('DD/MM/YY'):'-',\r\n          fecha_registro: d.fecha_registro ? moment(d.fecha_registro).format('DD/MM/YY HH:mm'):'-',\r\n          fecha_asignado: d.fecha_asignado ? moment(d.fecha_asignado).format('DD/MM/YY HH:mm'):'-',\r\n          horas_registro: d.fecha_registro ? moment().diff(d.fecha_registro, 'hours') : '-',\r\n          horas_asignado: d.fecha_asignado ? moment().diff(d.fecha_asignado, 'hours') : '-',\r\n          dias_asignado: d.fecha_asignado ? moment().diff(d.fecha_asignado, 'days') : '-',\r\n        })))\r\n      }\r\n    }).catch((err) => console.log(err))\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexTipo = -1;\r\n      let indexEstado = -1;\r\n      let indexEstadoGestor = -1;\r\n      let indexHoraRegistro = -1;\r\n      let indexHoraAsignado = -1;\r\n      let indexDiaAsignado = -1;\r\n      let indexFechaCita = -1;\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexTipo = row.cells.findIndex((e) => e.value === 'Negocio');\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado Toa');\r\n          indexEstadoGestor = row.cells.findIndex((e) => e.value === 'Estado Gestor');\r\n          indexHoraRegistro = row.cells.findIndex((e) => e.value === 'Horas Registro');\r\n          indexHoraAsignado = row.cells.findIndex((e) => e.value === 'Horas Asignado');\r\n          indexDiaAsignado = row.cells.findIndex((e) => e.value === 'Dias Asignado');\r\n          indexFechaCita = row.cells.findIndex((e) => e.value === 'Time Slot');\r\n        };\r\n        if (row.type === 'data') {\r\n          row.cells.forEach((cell) => {\r\n            cell.borderBottom = { size: .5 }; \r\n            cell.borderLeft = { size: .5 };\r\n            cell.borderRight = { size: .5 };\r\n            cell.borderTop = { size: .5 };\r\n          });\r\n          if (indexEstado > -1) {\r\n            row.cells[indexEstado].background = colorEstado(row.cells[indexEstado].value).background;\r\n            row.cells[indexEstado].color = colorEstado(row.cells[indexEstado].value).color;\r\n            row.cells[indexEstado].value = capitalizar(row.cells[indexEstado].value);\r\n            row.cells[indexEstado].textAlign = 'center';\r\n          }\r\n          if (indexEstadoGestor > -1) {\r\n            row.cells[indexEstadoGestor].background = colorEstado(row.cells[indexEstadoGestor].value).background;\r\n            row.cells[indexEstadoGestor].color = colorEstado(row.cells[indexEstadoGestor].value).color;\r\n            row.cells[indexEstadoGestor].value = capitalizar(row.cells[indexEstadoGestor].value);\r\n            row.cells[indexEstadoGestor].textAlign = 'center';\r\n          }\r\n          if (indexHoraRegistro > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraRegistro].background = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraRegistro].color = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraRegistro].textAlign = 'center';\r\n          }\r\n          if (indexHoraAsignado > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraAsignado].background = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraAsignado].color = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraAsignado].textAlign = 'center';\r\n          }\r\n          if (indexDiaAsignado > -1 && indexFechaCita > -1) {\r\n            row.cells[indexDiaAsignado].background = colorDia(row.cells[indexDiaAsignado].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexDiaAsignado].color = colorDia(row.cells[indexDiaAsignado].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexDiaAsignado].textAlign = 'center';\r\n          }\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const headerOptions = {\r\n    background: '#F3C775', \r\n    bold: true, \r\n    fontSize: 17,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <Menu>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={1} onClick={() => exportarExcel(true)}>Todo</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={2} onClick={() => exportarExcel(false)}>Seleccionado</Menu.Item>\r\n      <ExcelExport\r\n        data={dataOrdenes}\r\n        fileName={`pendientes_${tipo}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        {tipo === 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_requerimiento\" title=\"Requerimiento\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_cliente\" title=\"Codigo Cliente\" headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"nombre_cliente\" title=\"Cliente\" width={340} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_trabajo\" title=\"Orden Trabajo\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_peticion\" title=\"Petición\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"tipo_requerimiento\" title=\"Tipo Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"tipo_tecnologia\" title=\"Tecnología\" width={90} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"indicador_pai\" title=\"PAI\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_ctr\" title=\"CTR\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_nodo\" title=\"Nodo\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_troba\" title=\"Troba\" width={60} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"subtipo_actividad\" title=\"Subtipo Actividad\" width={170} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"numero_reiterada\" title=\"Reiterada\" width={90} headerCellOptions={headerOptions} /> : null} \r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_requerimiento\" title=\"Infancia Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_ctr\" title=\"Infancia CTR\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.tecnico_liquidado.apellidos\" title=\"Infancia Tecnico\" width={200} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.tecnico_liquidado.carnet\" title=\"Infancia Carnet\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia_registro\" title=\"Infancia Registro\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia_liquidado\" title=\"Infancia Liquidado\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"distrito\" title=\"Distrito\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"direccion\" title=\"Dirección\" width={300} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"bucket\" title=\"Bucket\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"gestor_liteyca.nombre\" title=\"Gestor Asignado\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"auditor.nombre\" title=\"Auditor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.nombre\" title=\"Tecnico Nombre\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.apellidos\" title=\"Tecnico Apellidos\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.carnet\" title=\"Tecnico Carnet\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_toa\" title=\"Estado Toa\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_gestor\" title=\"Estado Gestor\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tipo_agenda\" title=\"Time Slot\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_cita\" title=\"Fecha Cita\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_registro\" title=\"Fecha Registro\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"fecha_asignado\" title=\"Fecha Asignado\" width={150} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ?  <ExcelExportColumn field=\"horas_registro\" title=\"Horas Registro\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"horas_asignado\" title=\"Horas Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"dias_asignado\" title=\"Dias Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        <ExcelExportColumn field=\"detalle_trabajo\" title=\"Detalle Ttrabajo\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_gestor\" title=\"Observacion Gestor\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_toa\" title=\"Observacion Toa\" width={340} headerCellOptions={headerOptions}/>\r\n        {tipo !== 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n      </ExcelExport>\r\n    </Menu>\r\n  )\r\n};\r\n\r\nExcelOrdenesPendientes.propTypes = {\r\n  metodo: PropTypes.string,\r\n  tipo: PropTypes.string,\r\n  setLoading: PropTypes.func,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n};\r\n\r\nexport default ExcelOrdenesPendientes;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown, Input } from 'antd';\r\nimport { ScheduleOutlined, LoadingOutlined, ReloadOutlined, ExportOutlined, FileSyncOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport { listaBuckets } from '../../../constants/valoresOrdenes';\r\nimport TablaOrdenes from './TablaOrdenes';\r\nimport ModalRegistro from '../administrarOrdenes/ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from '../administrarOrdenes/ModalsTabla/ModalInfancia';\r\nimport ModalReiterada from '../administrarOrdenes/ModalsTabla/ModalReiterada';\r\nimport ModalEstado from '../administrarOrdenes/ModalsTabla/ModalEstado';\r\nimport ModalAgendarTecnico from './ModalAgendarTecnico';\r\nimport { getOrdenes, patchFilesOrdenes, patchOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes, ordenes as ordenesMetodo } from '../../../constants/metodos';\r\nimport ModalAsignar from '../administrarOrdenes/ModalsTabla/ModalAsignar';\r\nimport ExcelOrdenesPendientes from '../../excelExports/ExcelOrdenesPendientes';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction OrdenesPendientesGestor({gestores=[], tecnicos=[]}) {\r\n  const [listaOrdenes, setListaOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n  const [loadingEstado, setLoadingEstado] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [modalAgendar, setModalAgendar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalEstado, setModalEstado] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (listaOrdenes.length>0) {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[listaOrdenes]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return await getOrdenes(true, { metodo: ordenesMetodo.ORDENES_HOY_GESTOR, todo: true })\r\n      .then(({data}) => {\r\n        if(data) setListaOrdenes(data);\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(infancia) {\r\n    setDataInfancia([infancia]);\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenesMetodo.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  async function agendarOrdenes(bucketSeleccionado, contrataSeleccionada, tecnicoSeleccionado, fechaCita, observacion) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      setLoadingAgendar(true);\r\n      await patchOrdenes({\r\n        metodo: ordenesMetodo.AGENDAR_ORDEN_GESTOR, \r\n        ordenes: ordenesSeleccionadas,\r\n        bucket: bucketSeleccionado, \r\n        contrata: contrataSeleccionada, \r\n        tecnico: tecnicoSeleccionado,\r\n        fecha_cita: fechaCita,\r\n        observacion\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAgendar(false));\r\n    }\r\n  };\r\n\r\n  async function actualizarEstado(estado, observacion, files=[]) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      let orden_imagen = new FormData();\r\n      orden_imagen.append('metodo', ordenesMetodo.ACTUALIZAR_ESTADO);\r\n      orden_imagen.append('ordenes', JSON.stringify(ordenesSeleccionadas));\r\n      orden_imagen.append('estado', estado);\r\n      orden_imagen.append('observacion', observacion);\r\n      files.forEach((f) => {\r\n        orden_imagen.append('files', f);\r\n      });\r\n\r\n      setLoadingEstado(true);\r\n      abrirModalEstado();\r\n      await patchFilesOrdenes(orden_imagen)\r\n        .then(async() => await listarOrdenes())\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoadingEstado(false));\r\n    }\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataOrdenes(listaOrdenes.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  };\r\n\r\n  const abrirModalAgendar = () => setModalAgendar(!modalAgendar);\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalEstado = () => setModalEstado(!modalEstado);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    } else {\r\n      cogoToast.warn('No hay ordenes seleccionadas.', { position: 'top-right' })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '.5rem', marginTop: '1rem' }}>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button \r\n          icon={loadingAgendar ? <LoadingOutlined spin/>:<ScheduleOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAgendar}\r\n        >Agendar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>\r\n        <Button \r\n          icon={loadingEstado ? <LoadingOutlined spin/>:<FileSyncOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalEstado}\r\n        >Estado</Button>\r\n        <Search\r\n          placeholder=\"Requerimiento...\" \r\n          onSearch={buscarRequerimiento} \r\n          style={{ width: 180, marginRight: '.5rem' }} \r\n          allowClear \r\n        />\r\n        <Dropdown\r\n          overlay={<ExcelOrdenesPendientes metodo={ordenes.EXPORTAR_PENDIENTES_GESTOR} tipo=\"gestor\" setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n      </div>\r\n      <TablaOrdenes\r\n        asignadas={true}\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n      />\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar tipo={true} visible={modalAsignar} abrir={abrirModalAsignar} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA AGENDAR LA ORDEN */}\r\n      <ModalAgendarTecnico visible={modalAgendar} abrir={abrirModalAgendar} buckets={listaBuckets} tecnicos={tecnicos} agendar={agendarOrdenes}/>\r\n      {/* MODAL PARA ACTUALIZAR EL ESTADO_GESTOR DE LA ORDEN */}\r\n      <ModalEstado visible={modalEstado} abrir={abrirModalEstado} actualizarEstado={actualizarEstado} />\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={false} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesPendientesGestor.propTypes = {\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  loadingTecnicos: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesPendientesGestor;\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\nimport TagHoras from '../../../common/TagHoras';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOrdenesLiquidadas(\r\n  tipo,\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestor=[],\r\n  filtroTecnico=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  filtroTimeSlot=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  const columnasGenerales = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,  \r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Usuario Liquidado',\r\n      dataIndex: 'codigo_usuario_liquidado',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Plazo 24h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={row.tipo} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.fecha_cita ? 'geekblue' : horas < 72 && !row.fecha_cita ? 'success': horas === 72 && !row.fecha_cita ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGenerales.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGenerales.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport { Menu } from 'antd';\r\nimport moment from 'moment';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport capitalizar from '../../libraries/capitalizar'\r\nimport { getOrdenes } from '../../services/apiOrden';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { colorEstado, colorHora } from '../../libraries/colorEstado';\r\nimport { ordenes } from '../../constants/metodos';\r\n\r\nfunction ExcelOrdenesLiquidadas({ tipo, setLoading, ordenesSeleccionadas=[], fechaInicio, fechaFin}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  let exportarRef = useRef(null);\r\n\r\n  async function exportarExcel(numero) {\r\n    if (numero === 2 && ordenesSeleccionadas.length <= 0) {\r\n      return cogoToast.warn('Debes seleccionar algunas ordenes primero.', { position: 'top-right' });\r\n    } else if (numero === 3 && !fechaInicio) {\r\n      return cogoToast.warn('Debes seleccionar la fecha de inicio.', { position: 'top-right' });\r\n    } else if (numero === 3 && !fechaFin) {\r\n      return cogoToast.warn('Debes seleccionar la fecha de fin.', { position: 'top-right' });\r\n    } else {\r\n      setLoading(true);\r\n      return await getOrdenes(true, { \r\n        metodo: ordenes.EXPORTAR_LIQUIDADAS, \r\n        todo: numero === 1 ? true : false, \r\n        tipo, \r\n        id_ordenes: ordenesSeleccionadas, \r\n        fechaInicio: numero === 3 ? fechaInicio : null, \r\n        fechaFin: numero === 3 ? fechaFin : null, \r\n      }).then(async({data}) => await actualizarEstadoData(data))\r\n        .then(() => guardarArchivo(exportarRef.current))\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoading(false));\r\n    };\r\n  };\r\n\r\n  function guardarArchivo(component) {\r\n    try {\r\n      let options = component.workbookOptions();\r\n      let rows = options.sheets[0].rows;\r\n      let indexTipo = -1;\r\n      let indexEstado = -1;\r\n      let indexEstadoGestor = -1;\r\n      let indexEstadoLiquidado = -1;\r\n      let indexHoraRegistro = -1;\r\n      let indexHoraAsignado = -1;\r\n      let indexFechaCita = -1;\r\n      rows.forEach((row) => {\r\n        if (row.type === 'header') {\r\n          indexTipo = row.cells.findIndex((e) => e.value === 'Negocio');\r\n          indexEstado = row.cells.findIndex((e) => e.value === 'Estado Toa');\r\n          indexEstadoGestor = row.cells.findIndex((e) => e.value === 'Estado Gestor');\r\n          indexEstadoLiquidado = row.cells.findIndex((e) => e.value === 'Estado Liquidado');\r\n          indexHoraRegistro = row.cells.findIndex((e) => e.value === 'Horas Registro');\r\n          indexHoraAsignado = row.cells.findIndex((e) => e.value === 'Horas Asignado');\r\n          indexFechaCita = row.cells.findIndex((e) => e.value === 'Time Slot');\r\n        };\r\n        if (row.type === 'data') {\r\n          row.cells.forEach((cell) => {\r\n            cell.borderBottom = { size: .5 }; \r\n            cell.borderLeft = { size: .5 };\r\n            cell.borderRight = { size: .5 };\r\n            cell.borderTop = { size: .5 };\r\n          });\r\n          if (indexEstado > -1) {\r\n            row.cells[indexEstado].background = colorEstado(row.cells[indexEstado].value).background;\r\n            row.cells[indexEstado].color = colorEstado(row.cells[indexEstado].value).color;\r\n            row.cells[indexEstado].value = capitalizar(row.cells[indexEstado].value);\r\n            row.cells[indexEstado].textAlign = 'center';\r\n          }\r\n          if (indexEstadoGestor > -1) {\r\n            row.cells[indexEstadoGestor].background = colorEstado(row.cells[indexEstadoGestor].value).background;\r\n            row.cells[indexEstadoGestor].color = colorEstado(row.cells[indexEstadoGestor].value).color;\r\n            row.cells[indexEstadoGestor].value = capitalizar(row.cells[indexEstadoGestor].value);\r\n            row.cells[indexEstadoGestor].textAlign = 'center';\r\n          }\r\n          if (indexEstadoLiquidado > -1) {\r\n            row.cells[indexEstadoLiquidado].background = colorEstado(row.cells[indexEstadoLiquidado].value).background;\r\n            row.cells[indexEstadoLiquidado].color = colorEstado(row.cells[indexEstadoLiquidado].value).color;\r\n            row.cells[indexEstadoLiquidado].value = capitalizar(row.cells[indexEstadoLiquidado].value);\r\n            row.cells[indexEstadoLiquidado].textAlign = 'center';\r\n          }\r\n          if (indexHoraRegistro > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraRegistro].background = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraRegistro].color = colorHora(row.cells[indexHoraRegistro].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraRegistro].textAlign = 'center';\r\n          }\r\n          if (indexHoraAsignado > -1 && indexFechaCita > -1 && indexTipo > -1) {\r\n            row.cells[indexHoraAsignado].background = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).background;\r\n            row.cells[indexHoraAsignado].color = colorHora(row.cells[indexHoraAsignado].value, row.cells[indexTipo].value, row.cells[indexFechaCita].value).color;\r\n            row.cells[indexHoraAsignado].textAlign = 'center';\r\n          }\r\n        }\r\n      });\r\n      component.save(options);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  async function actualizarEstadoData (data) {\r\n    if (data && data.length > 0) {\r\n      return await setDataOrdenes(data.map((d) => ({\r\n        ...d, \r\n        fecha_cita: d.fecha_cita ? moment(d.fecha_cita).format('DD/MM/YY'):'-',\r\n        fecha_registro: d.fecha_registro ? moment(d.fecha_registro).format('DD/MM/YY HH:mm'):'-',\r\n        fecha_asignado: d.fecha_asignado ? moment(d.fecha_asignado).format('DD/MM/YY HH:mm'):'-',\r\n        fecha_liquidado: d.fecha_liquidado ? moment(d.fecha_liquidado).format('DD/MM/YY HH:mm'):'-',\r\n        horas_registro: d.fecha_registro ? moment(d.fecha_liquidado).diff(d.fecha_registro, 'hours') : '-',\r\n        horas_asignado: d.fecha_asignado ? moment(d.fecha_liquidado).diff(d.fecha_asignado, 'hours') : '-',\r\n      })))\r\n    } else {\r\n      setDataOrdenes([]);\r\n    }\r\n  }\r\n\r\n  const headerOptions = {\r\n    background: '#60CE48', \r\n    bold: true, \r\n    fontSize: 17,\r\n    autoWidth: true\r\n  };\r\n\r\n  return (\r\n    <Menu>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={1} onClick={() => exportarExcel(1)}>Hoy</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={2} onClick={() => exportarExcel(2)}>Seleccionado</Menu.Item>\r\n      <Menu.Item style={{ margin: 0, heigth: '2.1rem' }} key={3} onClick={() => exportarExcel(3)}>Fechas</Menu.Item>\r\n      <ExcelExport\r\n        data={dataOrdenes}\r\n        fileName={`liquidadas_${tipo}_${moment().format('DD_MM_YYYY')}.xlsx`}\r\n        ref={exportarRef}\r\n      >\r\n        {tipo === 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_requerimiento\" title=\"Requerimiento\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"tipo_averia\" title=\"Tipo Averia\" locked={true} width={90} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_cliente\" title=\"Codigo Cliente\" headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"nombre_cliente\" title=\"Cliente\" width={340} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_trabajo\" title=\"Orden Trabajo\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"codigo_peticion\" title=\"Petición\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"tipo_requerimiento\" title=\"Tipo Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"tipo_tecnologia\" title=\"Tecnología\" width={90} headerCellOptions={headerOptions} />\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ? <ExcelExportColumn field=\"indicador_pai\" title=\"PAI\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"codigo_ctr\" title=\"CTR\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_nodo\" title=\"Nodo\" width={60} headerCellOptions={headerOptions} />\r\n        <ExcelExportColumn field=\"codigo_troba\" title=\"Troba\" width={60} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"subtipo_actividad\" title=\"Subtipo Actividad\" width={170} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"numero_reiterada\" title=\"Reiterada\" width={90} headerCellOptions={headerOptions} /> : null} \r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_requerimiento\" title=\"Infancia Req.\" width={90} headerCellOptions={headerOptions} /> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ? <ExcelExportColumn field=\"infancia.codigo_ctr\" title=\"Infancia CTR\" width={120} headerCellOptions={headerOptions} /> : null}\r\n        <ExcelExportColumn field=\"distrito\" title=\"Distrito\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"bucket\" title=\"Bucket\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"contrata.nombre\" title=\"Contrata\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"gestor.nombre\" title=\"Gestor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"auditor.nombre\" title=\"Auditor\" width={250} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.nombre\" title=\"Tecnico Nombre\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.apellidos\" title=\"Tecnico Apellidos\" width={200} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tecnico.carnet\" title=\"Tecnico Carnet\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_toa\" title=\"Estado Toa\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_gestor\" title=\"Estado Gestor\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"estado_liquidado\" title=\"Estado Liquidado\" width={120} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"tipo_agenda\" title=\"Time Slot\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_cita\" title=\"Fecha Cita\" width={100} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_registro\" title=\"Fecha Registro\" width={150} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"fecha_liquidado\" title=\"Fecha Liquidado\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"fecha_asignado\" title=\"Fecha Asignado\" width={150} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.AVERIAS ?  <ExcelExportColumn field=\"horas_registro\" title=\"Horas Registro\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        {tipo === 'gestor' || tipo === tipoOrdenes.ALTAS ?  <ExcelExportColumn field=\"horas_asignado\" title=\"Horas Asignado\" width={90} headerCellOptions={headerOptions}/> : null}\r\n        <ExcelExportColumn field=\"observacion_gestor\" title=\"Observacion Gestor\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_toa\" title=\"Observacion Toa\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"observacion_liquidado\" title=\"Observacion Liquidado\" width={340} headerCellOptions={headerOptions}/>\r\n        <ExcelExportColumn field=\"descripcion_codigo_liquidado\" title=\"Descripción Liquidado\" width={150} headerCellOptions={headerOptions}/>\r\n        {tipo !== 'gestor' ? <ExcelExportColumn field=\"tipo\" title=\"Negocio\" locked={true} width={90} headerCellOptions={headerOptions} /> : null}\r\n      </ExcelExport>\r\n    </Menu>\r\n  )\r\n};\r\n\r\nExcelOrdenesLiquidadas.propTypes = {\r\n  tipo: PropTypes.string,\r\n  setLoading: PropTypes.func,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  fechaInicio: PropTypes.string,\r\n  fechaFin: PropTypes.string\r\n};\r\n\r\nexport default ExcelOrdenesLiquidadas;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../../administrarOrdenes/TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from '../../administrarOrdenes/columnas/PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasLiquidadasGestor(\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  filtroTecnico=[],\r\n  filtroTimeSlot=[],\r\n  abrirRegistro,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Negocio',\r\n      dataIndex: 'tipo',\r\n      width: 100,\r\n      fixed: 'left',\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'tecnico_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Usuario Liquidado',\r\n      dataIndex: 'codigo_usuario_liquidado',\r\n      width: 150,\r\n    },\r\n    {\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return  r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_cita && fecha) {\r\n          if (row.tipo === tipoOrdenes.ALTAS && row.fecha_asignado) {\r\n            let horas = moment().diff(row.fecha_asignado, 'hours')\r\n            return <Tag color={horas >= 72 ? 'error' : horas < 72 && horas >= 24 ? 'warning' : horas < 24 ? 'success' : ''}>{horas}</Tag>\r\n          } else if (row.tipo === tipoOrdenes.AVERIAS) {\r\n            let horas = moment().diff(fecha, 'hours')\r\n            return <Tag color={horas >= 24 ? 'error' : horas < 24 && horas >= 12 ? 'warning' : horas < 12 ? 'success' : ''}>{horas}</Tag>\r\n          } else {\r\n            return <Tag>-</Tag>\r\n          }\r\n        } else {\r\n          return <Tag color=\"blue\">{moment().diff(fecha, 'hours')}</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown, Table, DatePicker } from 'antd';\r\nimport { ExportOutlined, LoadingOutlined, ReloadOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport columnasOrdenesLiquidadas from './columnas/columnasLiquidadas';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport ExcelOrdenesLiquidadas from '../../excelExports/ExcelOrdenesLiquidadas';\r\nimport columnasLiquidadasGestor from '../gestionarOrdenes/columnas/columnasLiquidadasGestor';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction OrdenesLiquidadas({tipo, gestor}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingActualizar, setLoadingActualizar] = useState(false)\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingBuscar, setLoadingBuscar] = useState(false)\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [fechaInicio, setFechaInicio] = useState(null);\r\n  const [fechaFin, setFechaFin] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setLoadingActualizar(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_LIQUIDADAS, tipo, fechaInicio: null, fechaFin: null })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          generarFiltros(data);\r\n        } else { limpiarEstados() }\r\n      }).catch((err) => console.log(err)).finally(() => {setLoadingOrdenes(false); setLoadingActualizar(false)});\r\n  };\r\n\r\n  async function buscarOrdenes() {\r\n    if (fechaInicio && fechaFin) {\r\n      setLoadingOrdenes(true);\r\n      setLoadingBuscar(true);\r\n      setOrdenesSeleccionadas([]);\r\n      await getOrdenes(true, { metodo: ordenes.ORDENES_LIQUIDADAS, tipo, fechaInicio, fechaFin })\r\n        .then(({data}) => {\r\n          if (data && data.length > 0) {\r\n            generarFiltros(data)\r\n          } else { limpiarEstados() }\r\n        }).catch((err) => console.log(err)).finally(() => {setLoadingOrdenes(false); setLoadingBuscar(false)});\r\n    } else {\r\n      cogoToast.warn('Debes seleccionar un rango de fechas.', { position: 'top-right' });\r\n    };\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  const seleccionarFechas = (e) => {\r\n    if (e) {\r\n      setFechaInicio(e[0].format('YYYY/MM/DD'));\r\n      setFechaFin(e[1].format('YYYY/MM/DD'));\r\n    } else {\r\n      setFechaInicio(null);\r\n      setFechaFin(null);\r\n    };\r\n  };\r\n\r\n  const limpiarEstados = () => {\r\n    setDataOrdenes([]);\r\n    setFiltroDistrito([]);\r\n    setFiltroEstadoToa([]);\r\n    setFiltroEstadoGestor([]);\r\n    setFiltroTecnologia([]);\r\n    setFiltroNodo([]);\r\n    setFiltroContrata([]);\r\n  };\r\n\r\n  const generarFiltros = (data) => {\r\n    setDataOrdenes(data);\r\n    setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n    setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n    setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n    setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n    setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n    setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n    setFiltroTimeSlot(obtenerFiltroNombre(data, 'tipo_agenda'));\r\n    setFiltroContrata(obtenerFiltroId(data, 'contrata'));\r\n    setFiltroGestor(obtenerFiltroId(data, 'gestor', true));\r\n    setFiltroTecnico(obtenerFiltroId(data, 'tecnico_liquidado'));\r\n  };\r\n\r\n  const generarColumnas = () => {\r\n    if (gestor) {\r\n      return columnasLiquidadasGestor(\r\n        filtroDistrito,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroTecnologia,\r\n        filtroNodo,\r\n        filtroCtr,\r\n        filtroTecnico,\r\n        filtroTimeSlot,\r\n        abrirRegistro,\r\n        listarOrdenes)\r\n    } else {\r\n      return columnasOrdenesLiquidadas(\r\n        tipo,\r\n        filtroDistrito,\r\n        filtroEstadoToa,\r\n        filtroEstadoGestor,\r\n        filtroContrata, \r\n        filtroGestor,\r\n        filtroTecnico,\r\n        filtroTecnologia,\r\n        filtroNodo,\r\n        filtroCtr,\r\n        filtroTimeSlot,\r\n        abrirRegistro,\r\n        listarOrdenes)\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={loadingActualizar ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          disabled={loadingActualizar}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Dropdown\r\n          overlay={<ExcelOrdenesLiquidadas tipo={gestor ? 'gestor' : tipo} setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas} fechaInicio={fechaInicio} fechaFin={fechaFin}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n            disabled={loadingExportar}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n        <RangePicker onChange={seleccionarFechas} style={{ marginBottom: '1rem', marginRight: '.5rem' }} />\r\n        <Button\r\n          type=\"primary\"\r\n          icon={loadingBuscar ? <LoadingOutlined spin/>:<SearchOutlined/>}\r\n          disabled={loadingBuscar}\r\n          onClick={buscarOrdenes}\r\n        >\r\n          Buscar\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={generarColumnas()}\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesLiquidadas.propTypes = {\r\n  tipo: PropTypes.string,\r\n  gestor: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesLiquidadas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Input } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport TablaOrdenes from './TablaOrdenes';\r\nimport ModalRegistro from '../administrarOrdenes/ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from '../administrarOrdenes/ModalsTabla/ModalInfancia';\r\nimport ModalReiterada from '../administrarOrdenes/ModalsTabla/ModalReiterada';\r\nimport { getOrdenes, patchOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes, ordenes as ordenesMetodo } from '../../../constants/metodos';\r\nimport ModalAsignar from '../administrarOrdenes/ModalsTabla/ModalAsignar';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction OrdenesSinAsignar({gestores=[], tecnicos=[]}) {\r\n  const [listaOrdenes, setListaOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (listaOrdenes.length>0) {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[listaOrdenes]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return await getOrdenes(true, { metodo: ordenesMetodo.ORDENES_HOY_GESTOR, todo: false })\r\n      .then(({data}) => {\r\n        if(data) setListaOrdenes(data);\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(infancia) {\r\n    setDataInfancia([infancia]);\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenesMetodo.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    } else {\r\n      cogoToast.warn('No hay ordenes seleccionadas.', { position: 'top-right' })\r\n    }\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataOrdenes(listaOrdenes.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataOrdenes(listaOrdenes);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '.5rem', marginTop: '1rem' }}>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>  \r\n        <Search\r\n          placeholder=\"Requerimiento...\" \r\n          onSearch={buscarRequerimiento} \r\n          style={{ width: 180, marginRight: '.5rem' }} \r\n          allowClear \r\n        />      \r\n      </div>\r\n      <TablaOrdenes\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n      />\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar tipo={true} visible={modalAsignar} abrir={abrirModalAsignar} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={false} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesSinAsignar.propTypes = {\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  loadingTecnicos: PropTypes.bool\r\n};\r\n\r\nexport default OrdenesSinAsignar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CheckCircleOutlined, UnorderedListOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\n\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport TituloVista from '../../../components/common/TituloContent';\r\nimport OrdenesPendientesGestor from '../../../components/operativa/gestionarOrdenes/OrdenesPendientesGestor';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesSinAsignar from '../../../components/operativa/gestionarOrdenes/OrdenesSinAsignar';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function ListaOrdenes() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  }, []);\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES })\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    return await getEmpleados(false, { metodo: empleados.LISTA_TECNICOS_GLOBAL })\r\n      .then(({data}) => {\r\n        if(data) setListaTecnicos(data);\r\n      }).catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Lista de Ordenes\" subtitulo=\"Gestionar Ordenes\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <UnorderedListOutlined />\r\n                Ordenes Pendientes\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <OrdenesPendientesGestor gestores={listaGestores} tecnicos={listaTecnicos}/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckCircleOutlined/>\r\n                Ordenes Liquidadas\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <OrdenesLiquidadas tipo={null} gestor={true}/>\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <InfoCircleOutlined/>\r\n                Ordenes Sin Asignar\r\n              </span>\r\n            }\r\n            key=\"3\"\r\n          >\r\n            <OrdenesSinAsignar gestores={listaGestores} tecnicos={listaTecnicos}/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas, permisos } from '../../constants/listaRutas';\r\nimport GestionarAsistencia from \"../../views/Operativa/GestionarAsistencia\";\r\nimport ListaOrdenes from \"../../views/Operativa/Gestionar/ListaOrdenes\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.gestionarAsistencia,\r\n    exact: true,\r\n    component: GestionarAsistencia,\r\n    nivel: permisos.gestion\r\n  },\r\n  {\r\n    path: rutas.gestionarListaOrdenes,\r\n    exact: true,\r\n    component: ListaOrdenes,\r\n    nivel: permisos.gestion\r\n  }\r\n]\r\n\r\nexport default array","import * as XLSX from 'xlsx';\r\n\r\nexport default async function convertirExcel(excel){\r\n  return new Promise(\r\n    function(resolve, reject) {\r\n      try {\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n\r\n        reader.onload = (event) => {\r\n          let bstr = event.target.result;\r\n          const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\r\n          /* Get first worksheet */\r\n          const wsname = wb.SheetNames[0];\r\n          const ws = wb.Sheets[wsname];\r\n          /* Convert array of arrays */\r\n          const data = XLSX.utils.sheet_to_json(ws);\r\n\r\n          let a = [];\r\n\r\n          data.map((objeto) => {\r\n            return a.push(\r\n              Object.keys(objeto).reduce((c, k) => (\r\n                // eslint-disable-next-line\r\n                c[k.trim().toLowerCase()] = objeto[k], c\r\n              ), {})\r\n            );\r\n          });\r\n          return resolve(a);                   \r\n        }\r\n\r\n        if (rABS) {\r\n          reader.readAsBinaryString(excel);\r\n        } else {\r\n          reader.readAsArrayBuffer(excel);\r\n        }\r\n\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }\r\n  );\r\n}","import moment from 'moment';\r\n\r\nexport function numeroFecha(numeroDeDias, utc){\r\n  var diasDesde1900 = 25567 + 2;\r\n  // 86400 es el número de segundos en un día, luego multiplicamos por 1000 para obtener milisegundos.\r\n  let fecha = new Date((numeroDeDias - diasDesde1900) * 86400 * 1000);\r\n  //false para los valores que de frente suban\r\n  //true para los valores que necesitan tratamiento\r\n  if (utc) {\r\n    return fecha;\r\n  } else {\r\n    return (new Date(fecha.setHours(fecha.getHours() + 5)))\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Date} fecha \r\n * @param {string} hora \r\n */\r\nexport function unirHoraFecha(fecha, hora) {\r\n  if (!Number(fecha)) {\r\n    return null;\r\n  }\r\n  let dia = moment(fecha).format('DD');\r\n  let mes = moment(fecha).format('MM');\r\n  let anio = moment(fecha).format('YYYY');\r\n  let fechaCompleta = new Date(anio + '-' + mes + '-' + dia + `T${hora}.000Z`);\r\n\r\n  return new Date(fechaCompleta.setHours(fechaCompleta.getHours() + 5));\r\n}","import { numeroFecha } from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { averias, averiasDireccion, hfcLiquidadas, codigosLiquidadasEfectivas, codigosLiquidadasInefectivas, codigosLiquidadasNoCorresponde } from '../../constants/valoresOrdenes';\r\nimport { tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\n// const codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAverias(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes.map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n    let direccion = '';\r\n\r\n    //distrito\r\n    if (isEmpty(String(orden[averias[0].cabecera]).trim())) {verificado = false};\r\n    //requerimiento\r\n    if (isNaN(orden[averias[1].cabecera]) && isNaN(orden[averias[1].cabecera_2])) {verificado = false};\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo: tipoOrdenes.AVERIAS,\r\n    };\r\n\r\n    averias.forEach((v) => {\r\n      if (v.cabecera_2) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera_2]) : String(orden[v.cabecera_2]).replace(/,/g, '')\r\n        };\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n        };\r\n      };\r\n    });\r\n\r\n    averiasDireccion.forEach((d) => {\r\n      if (orden[d.cabecera] !== undefined && orden[d.cabecera] !== null) {\r\n        direccion = direccion + d.espacio + orden[d.cabecera]\r\n      };\r\n    })\r\n    \r\n    valores.direccion = String(direccion).substr(1);\r\n    \r\n    return (valores);\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};\r\n\r\nexport async function liquidadasAverias(ordenes=[], tecnicos=[]){\r\n  const promises = ordenes.map((orden, indice) => {\r\n    let verificado = true;\r\n    let tecnico = null;\r\n    let efectivas = codigosLiquidadasEfectivas.includes(String(orden['tipave']));\r\n    let inEfectivas = codigosLiquidadasInefectivas.includes(String(orden['tipave']));\r\n    let noCorresponde = codigosLiquidadasNoCorresponde.includes(String(orden['tipave']));\r\n\r\n    if (isNaN(orden[averias[1].cabecera]) && isNaN(orden[averias[1].cabecera_2])) { verificado = false};\r\n    if (String(orden['codtecliq']).trim().length === 6) {\r\n      let iTecnico = tecnicos.findIndex((t) => t.carnet === orden['codtecliq']);\r\n      if (iTecnico > 0) {\r\n        tecnico = tecnicos[iTecnico]._id\r\n      };\r\n    };\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo_liquidacion: orden['edoxot'],\r\n      tecnico_liquidado: tecnico,\r\n      estado_liquidado: efectivas ? 'efectiva' : inEfectivas ? 'inefectiva' : noCorresponde ? 'no_corresponde' : '-',\r\n    };\r\n    \r\n    hfcLiquidadas.forEach((v) => {\r\n      if (v.cabecera_2) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_2]) : orden[v.cabecera_2]\r\n        };\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        };\r\n      };\r\n    });\r\n\r\n    \r\n    return (valores);\r\n  });\r\n\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};","import { numeroFecha, unirHoraFecha } from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { altas, hfcLiquidadas, codigosLiquidadasEfectivas, codigosLiquidadasInefectivas, codigosLiquidadasNoCorresponde } from '../../constants/valoresOrdenes';\r\nimport { nodosLiteyca, tipoOrdenes } from '../../constants/tipoOrden';\r\n\r\n// const codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAltas(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes\r\n  .filter((e) => nodosLiteyca.includes(e['codnod']) || nodosLiteyca.includes(e['nodo']))\r\n  .map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n    //distrito\r\n    if (\r\n      isEmpty(String(orden[altas[0].cabecera]).trim()) &&\r\n      isEmpty(String(orden[altas[0].cabecera_2]).trim()) &&\r\n      isEmpty(String(orden[altas[0].cabecera_3]).trim())\r\n    ) {verificado = false};\r\n    //requerimiento\r\n    if (isNaN(orden[altas[1].cabecera]) && isNaN(orden[altas[1].cabecera_2]) && isNaN(orden[altas[1].cabecera_3])) {verificado = false};\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo: tipoOrdenes.ALTAS,\r\n    };\r\n\r\n    altas.forEach((v) => {\r\n      if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n        valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : String(orden[v.cabecera]).replace(/,/g, '')\r\n      } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n        if (v.fecha) {\r\n          valores[v.propiedad] = unirHoraFecha(numeroFecha(orden[v.cabecera_2]), orden[v.hora]);\r\n        } else {\r\n          valores[v.propiedad] = String(orden[v.cabecera_2]).replace(/,/g, '');\r\n        }\r\n      } else if (orden[v.cabecera_3] !== undefined && orden[v.cabecera_3] !== null) {\r\n        if (v.fecha) {\r\n          valores[v.propiedad] = unirHoraFecha(numeroFecha(orden[v.cabecera_3]), orden[v.hora]);\r\n        } else {\r\n          valores[v.propiedad] = String(orden[v.cabecera_3]).replace(/,/g, '');\r\n        }\r\n      }\r\n    });\r\n    \r\n    return (valores);\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n};\r\n\r\nexport async function liquidadasAltas(ordenes=[], tecnicos=[]){\r\n  const promises = ordenes\r\n  .filter((e) => nodosLiteyca.includes(e['codnod']))\r\n  .filter((e) => e['edoxot'])\r\n  .map((orden, indice) => {\r\n\r\n    let verificado = true;\r\n    let tecnico = null;\r\n    let efectivas = codigosLiquidadasEfectivas.includes(orden['tipave']);\r\n    let inEfectivas = codigosLiquidadasInefectivas.includes(orden['tipave']);\r\n    let noCorresponde = codigosLiquidadasNoCorresponde.includes(orden['tipave']);\r\n\r\n    if (isNaN(orden[altas[1].cabecera]) && isNaN(orden[altas[1].cabecera_2]) && isNaN(orden[altas[1].cabecera_3])) { verificado = false};\r\n    if (String(orden['codtecliq']).trim().length === 6) {\r\n      let iTecnico = tecnicos.findIndex((t) => t.carnet === orden['codtecliq']);\r\n      if (iTecnico > 0) {\r\n        tecnico = tecnicos[iTecnico]._id\r\n      };\r\n    };\r\n\r\n    const valores = {\r\n      key: indice,\r\n      verificado,\r\n      tipo_liquidacion: orden['edoxot'],\r\n      tecnico_liquidado: tecnico,\r\n      estado_liquidado: efectivas ? 'efectiva' : inEfectivas ? 'inefectiva' : noCorresponde ? 'no_corresponde' : '-',\r\n    };\r\n\r\n    hfcLiquidadas.forEach((v) => {\r\n      if (v.cabecera_2 || v.cabecera_3) {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad] = v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        } else if (orden[v.cabecera_2] !== undefined && orden[v.cabecera_2] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_2]) : orden[v.cabecera_2]\r\n        } else if (orden[v.cabecera_3] !== undefined && orden[v.cabecera_3] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera_3]) : orden[v.cabecera_3]\r\n        };;\r\n      } else {\r\n        if (orden[v.cabecera] !== undefined && orden[v.cabecera] !== null) {\r\n          valores[v.propiedad]= v.fecha ? numeroFecha(orden[v.cabecera]) : orden[v.cabecera]\r\n        };\r\n      };\r\n    });\r\n\r\n    \r\n    return (valores);\r\n  });\r\n\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n}","import { tipoOrdenes } from '../../constants/tipoOrden';\r\nimport { pendientesAverias, liquidadasAverias } from './asignarAverias';\r\nimport { pendientesAltas, liquidadasAltas } from './asignarAltas';\r\n\r\nexport default async function asignarValores(obj, tipo, estado, tecnicos) {\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      if (estado === 1) {\r\n        return await pendientesAverias(obj);\r\n      } else if(estado === 2) {\r\n        return await liquidadasAverias(obj, tecnicos);   \r\n      } else {\r\n        return [];\r\n      }\r\n    case tipoOrdenes.ALTAS:\r\n      if (estado === 1) {\r\n        return await pendientesAltas(obj);\r\n      } else {\r\n        return await liquidadasAltas(obj, tecnicos);   \r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}","/**\r\n * @param {array} data array con los objetos a afragmentar\r\n * @param {number} cantidad cantidad en la que se quiere fragmentar\r\n */\r\nexport default async function fragmentarArray(data=[], cantidad) {\r\n  if (!data && data.length < 0) {\r\n    return [];\r\n  } else {\r\n    let inicio = 0;\r\n    let cantidadAux = cantidad;\r\n    let dataAux = data;\r\n    let resultado = [];\r\n    while (dataAux.length > 0) {\r\n      resultado.push(data.slice(inicio, cantidadAux));\r\n      dataAux = dataAux.slice(0, -cantidad);\r\n      inicio = inicio + cantidad;\r\n      cantidadAux = cantidadAux + cantidad;\r\n    }\r\n\r\n   if (resultado.length > 0) {\r\n     return resultado.filter((e) => e && e.length > 0)\r\n   } else {\r\n     return [];\r\n   }\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Radio, Row, Statistic, Table, Tag, Upload } from 'antd';\r\nimport { UploadOutlined, SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport variables from '../../../constants/config';\r\nimport convertirExcel from '../../../libraries/convertirExcel';\r\nimport asignarValores from '../../../libraries/asignarValores';\r\nimport { postOrdenes, putOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport fragmentarArray from '../../../libraries/fragmentarArray';\r\n\r\nfunction ActualizarOrdenes({tipoOrden, tecnicos}) {\r\n  const [estadoOrden, setEstadoOrden] = useState(1)\r\n  const [estadoArchivo, setEstadoArchivo] = useState('done');\r\n  const [nombreArchivo, setNombreArchivo] = useState('');\r\n  const [ordenesObtenidas, setOrdenesObtenidas] = useState([]);\r\n  const [ordenesTotal, setOrdenesTotal] = useState(0);\r\n  const [ordenesFiltradas, setOrdenesFiltradas] = useState(0);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n  const [resultado, setResultado] = useState([])\r\n\r\n  useEffect(() => {\r\n    setEstadoArchivo('done');\r\n    setNombreArchivo('');\r\n    setOrdenesObtenidas([]);\r\n    setOrdenesTotal(0);\r\n    setOrdenesFiltradas(0);\r\n    setResultado([]);\r\n  },[estadoOrden]);\r\n\r\n  async function enviarOrdenesPendientes(data, i) {\r\n    cogoToast.info(`Enviando paquetes de datos ${i}/${ordenesObtenidas.length} (500u.)...`, { position: 'top-right' });\r\n    return await postOrdenes({\r\n      metodo: ordenes.SUBIR_DATA, \r\n      ordenes: data \r\n    }).then((res) => {\r\n      let resultadoAux = resultado;\r\n      let infoResponse = res && res.data ? res.data: {};\r\n      resultadoAux.push({\r\n        ...infoResponse,\r\n        id: Date.now(), \r\n        cantidad: data.length\r\n      })\r\n      setResultado(resultadoAux.filter(e => e))\r\n    }).catch((err) => console.log(err));;\r\n  };\r\n\r\n  async function enviarOrdenesLiquidadas(data, i) {\r\n    cogoToast.info(`Enviando paquetes de datos ${i}/${ordenesObtenidas.length} (500u.)...`, { position: 'top-right' });\r\n    await putOrdenes({\r\n      metodo: ordenes.ACTUALIZAR_DATA, \r\n      ordenes: data \r\n    }).then((res) => {\r\n      let resultadoAux = resultado;\r\n      let infoResponse = res && res.data ? res.data: {};\r\n      resultadoAux.push({\r\n        ...infoResponse,\r\n        id: Date.now(), \r\n        cantidad: data.length\r\n      })\r\n      setResultado(resultadoAux.filter(e => e))\r\n    }).catch((err) => console.log(err));\r\n  };\r\n\r\n  async function guardarArchivo() {\r\n    if (ordenesObtenidas.length === 0) {\r\n      cogoToast.warn('No hay ordenes para subir.', { position: 'top-right' });\r\n    } else {\r\n      if (estadoOrden === 1) {\r\n        try {\r\n          setLoadingButton(true);\r\n          let index = 1;\r\n          for await ( let obj of ordenesObtenidas) {\r\n            await enviarOrdenesPendientes(obj, index)\r\n            index = index+1\r\n          };\r\n        } catch (error) {\r\n          cogoToast.error(\"Error en el cliente.\", { position: 'top-right' });\r\n          console.log(error);\r\n        } finally { setLoadingButton(false) }; \r\n      } else {\r\n        try {\r\n          setLoadingButton(true);\r\n          let index = 1;\r\n          for await ( let obj of ordenesObtenidas) {\r\n            await enviarOrdenesLiquidadas(obj, index);\r\n            index = index+1\r\n          };\r\n        } catch (error) {\r\n          cogoToast.error(\"Error en el cliente.\", { position: 'top-right' });\r\n          console.log(error);\r\n        } finally { setLoadingButton(false) };\r\n      };\r\n    }\r\n  };\r\n\r\n  function cargarArchivo(file) {\r\n    //actualizar el estado y el no mbre del archivo\r\n    setEstadoArchivo('uploading');\r\n    setNombreArchivo(file.name);\r\n    setResultado([]);\r\n    //validar si es un archivo excel\r\n    if (!variables.formatosAdmitidos.includes(file.type)) {\r\n      setEstadoArchivo('error');\r\n      cogoToast.warn('Formato Incorrecto.', { position: 'top-right' })\r\n      return false;\r\n    };\r\n    //convertir excel a json\r\n    convertirExcel(file).then(async(objJson) => {\r\n      //obtener los valores necesarios, actualizar estado y guardar\r\n      await asignarValores(objJson, tipoOrden, estadoOrden, tecnicos).then((data) => {\r\n        setOrdenesTotal(data.length);\r\n        return data.filter((e) => e.verificado)\r\n      }).then(async(data) => {\r\n        setEstadoArchivo('done');\r\n        setOrdenesObtenidas(await fragmentarArray(data, 500));\r\n        setOrdenesFiltradas(data.length);\r\n        cogoToast.success(`${data.length} Ordenes encontradas.`, {position: 'top-right'});\r\n      }).catch((err) => console.log(err, 'Error asignando valores'));\r\n    }).catch((err) => {\r\n      setEstadoArchivo('error');\r\n      cogoToast.error('Error convirtiendo el archivo', {position: 'top-right'})\r\n      console.log(err);\r\n    })\r\n    //evita enviar peticiones http\r\n    return false;\r\n  };\r\n\r\n  const removerArchivo = () => {\r\n    setNombreArchivo('');\r\n    setEstadoArchivo('done');\r\n    setOrdenesObtenidas([]);\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Cantidad',\r\n      width: 100,\r\n      dataIndex: 'cantidad',\r\n      render: (o) => o ? <Tag color=\"blue\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Nuevos',\r\n      width: 100,\r\n      dataIndex: 'nuevos',\r\n      render: (o) => o ? <Tag color=\"green\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Actualizados',\r\n      width: 100,\r\n      dataIndex: 'actualizados',\r\n      render: (o) => o ? <Tag color=\"geekblue\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Duplicados',\r\n      width: 100,\r\n      dataIndex: 'duplicados',\r\n      render: (o) => o ? <Tag color=\"warning\">{o}</Tag> : '-' \r\n    },\r\n    {\r\n      title: 'Errores',\r\n      width: 100,\r\n      dataIndex: 'errores',\r\n      render: (e) => e ? <Tag color=\"error\">{e}</Tag> : <Tag>-</Tag>\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={10} md={10} lg={12} xl={12} spellCheck>\r\n          <p>Tipo de Archivo:</p>\r\n          <Radio.Group onChange={(e) => setEstadoOrden(e.target.value)} value={estadoOrden}>\r\n            <Radio value={1}>\r\n              Pendientes\r\n            </Radio>\r\n            <Radio value={2}>\r\n              Liquidadas\r\n            </Radio>\r\n          </Radio.Group>\r\n          <div style={{width: '14rem', margin: '1rem 0', }}>\r\n            <Upload \r\n              accept=\".xls,.xlsx\"\r\n              beforeUpload={cargarArchivo}\r\n              onRemove={removerArchivo}\r\n              fileList={[{uid: '-1', name: nombreArchivo, status: estadoArchivo}]}\r\n            >\r\n              <Button>\r\n                <UploadOutlined />{` `}Subir Archivo\r\n              </Button>\r\n            </Upload>\r\n          </div>\r\n        </Col>\r\n        <Col sm={14} md={14} lg={12} xl={12}>\r\n          <Statistic title=\"Ordenes:\" value={ordenesFiltradas} suffix={`/ ${ordenesTotal}`}/>\r\n          <Button \r\n            disabled={loadingButton}\r\n            style={{ marginTop: '.5rem' }} \r\n            type=\"primary\" \r\n            icon={loadingButton ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n            onClick={guardarArchivo}\r\n          >\r\n            Guardar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columnas}\r\n        dataSource={resultado.filter((e) => e)}\r\n        pagination={false}\r\n        style={{ marginBottom: '1rem' }}\r\n        bordered\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nActualizarOrdenes.propTypes = {\r\n  tipoOrden: PropTypes.string,\r\n  tecnicos: PropTypes.array\r\n};\r\n\r\nexport default ActualizarOrdenes\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { Tag } from 'antd';\r\n\r\nfunction TagDias({fecha}) {\r\n  let dias = moment().diff(fecha, 'days');\r\n  if (fecha && moment(fecha).isValid()){\r\n    return <Tag color={dias >= 3 ? 'error' : dias < 3 && dias >= 2 ? 'warning' : dias < 2 && dias >= 1 ? 'lime' : dias < 1 ? 'success' : ''}>{dias}</Tag>\r\n  } else {\r\n    return <Tag color=\"blue\">-</Tag>\r\n  };\r\n};\r\n\r\nTagDias.propTypes = {\r\n  fecha: PropTypes.any\r\n};\r\n\r\nexport default TagDias;\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone} from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\nimport TagHoras from '../../../common/TagHoras';\r\nimport { ordenesB2B } from '../../../../constants/valoresToa';\r\nimport TagDias from '../../../common/TagDias';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function ColumnasOrdenes({\r\n  tipo,\r\n  filtros={},\r\n  filtroDistrito=[],\r\n  filtroBucket=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestorAsignado=[],\r\n  filtroTecnicoToa=[],\r\n  filtroTecnicoAsignado=[],\r\n  filtroTipoReq=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroTroba=[],\r\n  filtroPai=[],\r\n  filtroCtr=[],\r\n  filtroTimeSlot=[],\r\n  filtroObservacion=[],\r\n  filtroFechaCita=[],\r\n  abrirReiterada,\r\n  abrirInfancia,\r\n  abrirRegistro,\r\n  listarOrdenes,\r\n}) {\r\n\r\n  const columnasGeneral = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => Number(i)+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 140,\r\n      fixed: 'left',\r\n      render: (req, row) => {\r\n        if (row.subtipo_actividad && ordenesB2B.includes(row.subtipo_actividad)) {\r\n          return (\r\n            <Tag color=\"#108ee9\" style={{ fontSize: '1rem' }}>\r\n              <Text copyable strong style={{ color: '#ffffff !important' }}>{req}</Text>\r\n            </Tag>\r\n          )\r\n        } else {\r\n          return (<Text copyable strong>{req}</Text>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filteredValue: filtros && filtros.tipo_tecnologia ? filtros.tipo_tecnologia : null,\r\n      filters: filtroTecnologia ? filtroTecnologia : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'PAI',\r\n      dataIndex: 'indicador_pai',\r\n      width: 60,\r\n      aling: 'center',\r\n      filteredValue: filtros && filtros.indicador_pai ? filtros.indicador_pai : null,\r\n      filters: filtroPai ? filtroPai : [{text: '', value: ''}],\r\n      onFilter: (v,r) => String(r.indicador_pai).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filteredValue: filtros && filtros.codigo_ctr ? filtros.codigo_ctr : null,\r\n      filters: filtroCtr ? filtroCtr : [{text: '', value: ''}],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      align:'center',\r\n      width: 100,\r\n      filteredValue: filtros && filtros.tipo_requerimiento ? filtros.tipo_requerimiento : null,\r\n      filters: filtroTipoReq ? filtroTipoReq : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filteredValue: filtros && filtros.codigo_nodo ? filtros.codigo_nodo : null,\r\n      filters: filtroNodo ? filtroNodo : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 90,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      filteredValue: filtros && filtros.codigo_troba ? filtros.codigo_troba : null,\r\n      filters: filtroTroba ? filtroTroba : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.codigo_troba.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r, obj) => {\r\n        if (r && r !== '0' && r !== '-') {\r\n          return <Tag color=\"#E5302F\" onClick={() => abrirReiterada(obj.codigo_cliente)} style={{ cursor: 'pointer' }}>{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Infancia',\r\n      dataIndex: 'infancia',\r\n      width: 90,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.infancia ? filtros.infancia : null,\r\n      filters: [{text: 'Si', value: true}, {text: 'No', value: false}],\r\n      onFilter: (v,r) => {\r\n        if (v) {\r\n          return r.infancia\r\n        } else {\r\n          return !r.infancia\r\n        }\r\n      },\r\n      render: (inf) => {\r\n        if (inf && inf.length > 0) {\r\n          return <Tag color=\"purple\" onClick={() => abrirInfancia(inf)} style={{ cursor: 'pointer' }}>Si</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Cliente',\r\n      dataIndex: 'nombre_cliente',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c}>\r\n          {c}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filteredValue: filtros && filtros.distrito ? filtros.distrito : null,\r\n      filters: filtroDistrito ? filtroDistrito : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Dirección',\r\n      dataIndex: 'direccion',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g}>\r\n          {g}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.bucket ? filtros.bucket : null,\r\n      filters: filtroBucket ? filtroBucket : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.estado_toa ? filtros.estado_toa : null,\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.estado_gestor ? filtros.estado_gestor : null,\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [{text: '', value: ''}],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.contrata ? filtros.contrata : null,\r\n      filters: filtroContrata ? filtroContrata : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Gestor Asignado',\r\n      dataIndex: 'gestor_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.gestor_liteyca ? filtros.gestor_liteyca : null,\r\n      filters: filtroGestorAsignado ? filtroGestorAsignado : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor_liteyca\r\n        } else if(r.gestor_liteyca) {\r\n          return r.gestor_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Toa',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.tecnico ? filtros.tecnico : null,\r\n      filters: filtroTecnicoToa ? filtroTecnicoToa : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico\r\n        } else if(r.tecnico) {\r\n          return r.tecnico._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico_liteyca',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.tecnico_liteyca ? filtros.tecnico_liteyca : null,\r\n      filters: filtroTecnicoAsignado ? filtroTecnicoAsignado : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liteyca\r\n        } else if(r.tecnico_liteyca) {\r\n          return r.tecnico_liteyca._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observacion Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filteredValue: filtros && filtros.observacion_gestor ? filtros.observacion_gestor : null,\r\n      filters: filtroObservacion ? filtroObservacion : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.observacion_gestor\r\n        } else if(r.observacion_gestor) {\r\n          return String(r.observacion_gestor).toLowerCase().replace(/ /g, \"\").indexOf(String(v).toLowerCase().replace(/ /g, \"\")) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (o) => <Tooltip placement=\"topLeft\" title={o}>{o} </Tooltip>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Cita',\r\n      dataIndex: 'fecha_cita',\r\n      width: 150,\r\n      align: 'center',\r\n      filteredValue: filtros && filtros.fecha_cita ? filtros.fecha_cita : null,\r\n      filters: filtroFechaCita ? filtroFechaCita : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.fecha_cita\r\n        } else if(r.fecha_cita) {\r\n          return moment(r.fecha_cita).format('DD/MM/YY').toString().indexOf(String(v)) === 0;\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Time Slot',\r\n      dataIndex: 'tipo_agenda',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      filteredValue: filtros && filtros.tipo_agenda ? filtros.tipo_agenda : null,\r\n      filters: filtroTimeSlot ? filtroTimeSlot.filter((e) => e.text) : [{text: '', value: ''}],\r\n      onFilter: (v,r) => {\r\n        if (r.tipo_agenda && v ) {\r\n          return r.tipo_agenda.indexOf(v) === 0;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      render: (ts) => {\r\n        if (ts) {\r\n          return <Tag color=\"#f50\">{ts}</Tag>\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    {//tcfl 24h\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => <TagHoras fecha={fecha} tipo={tipoOrdenes.AVERIAS} tipoAgenda={row.tipo_agenda}/>\r\n    },\r\n    {//tcfl 72h\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Dias',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 80,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if(!a.fecha_asignado) {\r\n          return -1\r\n        };\r\n        if(!b.fecha_asignado) {\r\n          return 1;\r\n        }\r\n        if (moment().diff(a.fecha_asignado, 'days') < moment().diff(b.fecha_asignado, 'days')) {\r\n          return -1;\r\n        }\r\n        if (moment().diff(a.fecha_asignado, 'days') > moment().diff(b.fecha_asignado, 'days')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha) => <TagDias fecha={fecha}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirRegistro(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGeneral.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGeneral.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Input, Row, Statistic, Table } from 'antd';\r\n\r\n\r\nimport columnasOrdenes from './columnas/columnasOrdenes'\r\nimport { obtenerFiltroId, obtenerFiltroNombre, obtenerFiltroFecha } from '../../../libraries/obtenerFiltro';\r\nimport ModalDetalleOrden from './ModalsTabla/ModalDetalleOrden';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction TablaOrdenes({ filtros, setFiltros, tipo, data=[], loading, ordenesSeleccionadas, setOrdenesSeleccionadas, abrirReiterada, abrirInfancia, abrirRegistro, listarOrdenes }) {\r\n  const [dataTotal, setDataTotal] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestorAsignado, setFiltroGestorAsignado] = useState([]);\r\n  const [filtroTecnicoToa, setFiltroTecnicoToa] = useState([]);\r\n  const [filtroTecnicoAsignado, setFiltroTecnicoAsignado] = useState([]);\r\n  const [filtroTipoReq, setFiltroTipoReq] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroTroba, setFiltroTroba] = useState([]);\r\n  const [filtroPai, setFiltroPai] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroObservacion, setFiltroObservacion] = useState([]);\r\n  const [filtroTimeSlot, setFiltroTimeSlot] = useState([]);\r\n  const [filtroFechaCita, setFiltroFechaCita] = useState([]);\r\n  const [idOrdenDetalle, setIdOrdenDetalle] = useState(null);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [cantidadFiltrados, setCantidadFiltrados] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      setDataTotal(data);\r\n      generarFiltros(data);\r\n    } else {\r\n      setDataTotal([]);\r\n    }\r\n  //eslint-disable-next-line\r\n  },[data]);\r\n\r\n  useEffect(() => {\r\n    if (!filtros) setCantidadFiltrados(0);\r\n  }, [filtros])\r\n\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const abrirDetalle = (id) => {\r\n    setIdOrdenDetalle(id);\r\n    abrirModalDetalle();\r\n  };\r\n\r\n  const generarFiltros = (dataSource) => {\r\n    setCantidadFiltrados(dataSource.length)\r\n    setFiltroDistrito(obtenerFiltroNombre(dataSource, 'distrito'));\r\n    setFiltroBucket(obtenerFiltroNombre(dataSource, 'bucket'));\r\n    setFiltroEstadoToa(obtenerFiltroNombre(dataSource, 'estado_toa'));\r\n    setFiltroEstadoGestor(obtenerFiltroNombre(dataSource, 'estado_gestor'));\r\n    setFiltroTipoReq(obtenerFiltroNombre(dataSource, 'tipo_requerimiento'));\r\n    setFiltroTecnologia(obtenerFiltroNombre(dataSource, 'tipo_tecnologia'));\r\n    setFiltroNodo(obtenerFiltroNombre(dataSource, 'codigo_nodo'));\r\n    setFiltroTroba(obtenerFiltroNombre(dataSource, 'codigo_troba'));\r\n    setFiltroPai(obtenerFiltroNombre(dataSource, 'indicador_pai'));\r\n    setFiltroCtr(obtenerFiltroNombre(dataSource, 'codigo_ctr'));\r\n    setFiltroObservacion(obtenerFiltroNombre(dataSource, 'observacion_gestor'));\r\n    setFiltroTimeSlot(obtenerFiltroNombre(dataSource, 'tipo_agenda'));\r\n    setFiltroFechaCita(obtenerFiltroFecha(dataSource, 'fecha_cita'))\r\n    setFiltroContrata(obtenerFiltroId(dataSource, 'contrata'));\r\n    setFiltroGestorAsignado(obtenerFiltroId(dataSource, 'gestor_liteyca', true));\r\n    setFiltroTecnicoToa(obtenerFiltroId(dataSource, 'tecnico', true));\r\n    setFiltroTecnicoAsignado(obtenerFiltroId(dataSource, 'tecnico_liteyca', true));    \r\n  };\r\n\r\n  const onChangeTable = (_, filters, __, dataSource) => {\r\n    generarFiltros(dataSource.currentDataSource);\r\n    setFiltros(filters);\r\n  };\r\n\r\n  function buscarRequerimiento(e) {\r\n    if (e && e.length > 1) {\r\n      setDataTotal(data.filter((o) => String(o.codigo_requerimiento).includes(e)))\r\n    } else {\r\n      setDataTotal(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        title={() => \r\n          <Search \r\n            placeholder=\"Requerimiento...\" \r\n            onSearch={buscarRequerimiento} \r\n            style={{ width: 180, marginRight: '0rem', marginBottom: '.5rem' }} \r\n            allowClear \r\n          />}\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => abrirDetalle(record._id),\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        onChange={onChangeTable}\r\n        columns={columnasOrdenes({\r\n          tipo, \r\n          filtros,\r\n          setFiltros,\r\n          filtroDistrito,\r\n          filtroBucket,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroContrata,\r\n          filtroGestorAsignado,\r\n          filtroTecnicoToa,\r\n          filtroTecnicoAsignado,\r\n          filtroTipoReq,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroTroba,\r\n          filtroPai,\r\n          filtroCtr,\r\n          filtroTimeSlot,\r\n          filtroObservacion,\r\n          filtroFechaCita,\r\n          abrirReiterada, \r\n          abrirInfancia,\r\n          abrirRegistro,\r\n          listarOrdenes})\r\n        }\r\n        dataSource={dataTotal}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n        footer={() => (\r\n          <Row gutter={16}>\r\n            <Col span={4}>\r\n              <Statistic title=\"Total\" value={data.length} />\r\n            </Col>\r\n            <Col span={12}>\r\n              <Statistic title=\"Total Filtradas\" value={cantidadFiltrados} />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      />\r\n      {/* MODAL DETALLE */}\r\n      <ModalDetalleOrden visible={modalDetalle} abrir={abrirModalDetalle} orden={idOrdenDetalle} tipo={tipo}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nTablaOrdenes.propTypes = {\r\n  filtros: PropTypes.any,\r\n  setFiltros: PropTypes.func,\r\n  tipo: PropTypes.string,\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool,\r\n  ordenesSeleccionadas: PropTypes.array,\r\n  setOrdenesSeleccionadas: PropTypes.func,\r\n  abrirReiterada: PropTypes.func,\r\n  abrirDetalle: PropTypes.func,\r\n  listarOrdenes: PropTypes.func\r\n};\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, Input, DatePicker, Button } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nfunction ModalAgendar({visible, abrir, buckets=[], contratas=[], gestores=[], agendar}) {\r\n  const [bucketSeleccionado, setBucketSeleccionado] = useState(null);\r\n  const [contrataSeleccionada, setContrataSeleccionada] = useState(null);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [fechaCita, setFechaCita] = useState(null);\r\n  const [observacion, setObservacion] = useState(null);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setBucketSeleccionado(null);\r\n    setContrataSeleccionada(null);\r\n    setGestorSeleccionado(null);\r\n    setFechaCita(null);\r\n    setObservacion(null);\r\n  }, [])\r\n\r\n  const agendarOrden = async () => {\r\n    if (fechaCita) {\r\n      setLoadingAgendar(true)\r\n      await agendar(bucketSeleccionado, contrataSeleccionada, gestorSeleccionado, fechaCita, observacion);\r\n      setLoadingAgendar(false);\r\n      abrir();\r\n    }\r\n  };\r\n\r\n  const cambiarFecha = (fecha) => {\r\n    if (fecha) {\r\n      setFechaCita(fecha.utc().format('YYYY-MM-DD HH:mm'))\r\n    } else {\r\n      setFechaCita(null);\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Agendar Orden\"\r\n      width={400}\r\n      visible={visible}\r\n      onCancel={abrir}\r\n      onOk={agendarOrden}\r\n      confirmLoading\r\n      destroyOnClose\r\n      centered\r\n      footer={[\r\n        <Button key=\"back\" onClick={abrir}>\r\n          Cancelar\r\n        </Button>,\r\n        <Button disabled={!fechaCita ? true : false} key=\"submit\" type=\"primary\" loading={loadingAgendar} onClick={agendarOrden}>\r\n          Aceptar\r\n        </Button>,\r\n      ]}\r\n    >\r\n      {/* <Select\r\n        placeholder=\"Seleccionar Contrata\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setContrataSeleccionada(e)}\r\n        defaultValue={contrataSeleccionada}\r\n      >\r\n      {\r\n        contratas && contratas.length > 0 ? \r\n        contratas.map((c, i) => (\r\n          <Option value={c._id} key={i}>{c.nombre}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select> */}\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Seleccionar Gestor\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={(e) => setGestorSeleccionado(e)}\r\n        defaultValue={gestorSeleccionado}\r\n        filterOption={(input, option) => {\r\n          return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      }\r\n      >\r\n      {\r\n        gestores && gestores.length > 0 ? \r\n        gestores.map((b, i) => (\r\n          <Option value={b._id} key={i}>{b.nombre}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <DatePicker \r\n        defaultValue={moment(fechaCita? fechaCita: Date.now())}\r\n        placeholder=\"Seleccionar fecha de cita\"\r\n        style={{ width: 300, marginBottom: '.5rem' }}\r\n        onChange={cambiarFecha} \r\n      />\r\n      <TextArea \r\n        rows={4} \r\n        style={{ width: 300 }}\r\n        defaultValue={observacion}\r\n        placeholder=\"Observacion\"\r\n        onChange={(e) => setObservacion(e.target.value)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalAgendar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrir: PropTypes.func,\r\n  buckets: PropTypes.array,\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  agendar: PropTypes.func\r\n}\r\n\r\nexport default ModalAgendar\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Dropdown } from 'antd';\r\nimport { CloudSyncOutlined, ScheduleOutlined, LoadingOutlined, ReloadOutlined, UserSwitchOutlined, ExportOutlined, FileSyncOutlined, SyncOutlined, ClearOutlined } from '@ant-design/icons';\r\n\r\nimport TablaOrdenesPendientes from './TablaOrdenesPendientes';\r\nimport { getOrdenes, patchOrdenes, patchFilesOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { listaBuckets } from \"../../../constants/valoresOrdenes\";\r\nimport ModalAgendar from './ModalsTabla/ModalAgendar';\r\nimport ModalReiterada from './ModalsTabla/ModalReiterada';\r\nimport ModalAsignar from './ModalsTabla/ModalAsignar';\r\nimport ModalEstado from './ModalsTabla/ModalEstado';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport ModalInfancia from './ModalsTabla/ModalInfancia';\r\nimport ExcelOrdenesPendientes from '../../excelExports/ExcelOrdenesPendientes';\r\n\r\nfunction OrdenesPendientes({ contratas, gestores, tecnicos, tipo }) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [dataInfancia, setDataInfancia] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingCruzar, setLoadingCruzar] = useState(false);\r\n  const [loadingComprobarInfancias, setLoadingComprobarInfancias] = useState(false);\r\n  const [loadingAgendar, setLoadingAgendar] = useState(false);\r\n  const [loadingAsignar, setLoadingAsignar] = useState(false);\r\n  const [loadingEstado, setLoadingEstado] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [loadingInfancia, setLoadingInfancia] = useState(false);\r\n  const [loadingExportar, setLoadingExportar] = useState(false);\r\n  const [modalAgendar, setModalAgendar] = useState(false);\r\n  const [modalAsignar, setModalAsignar] = useState(false);\r\n  const [modalReiterada, setModalReiterada] = useState(false);\r\n  const [modalInfancia, setModalInfancia] = useState(false);\r\n  const [modalEstado, setModalEstado] = useState(false);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n  const [codigoCliente, setCodigoCliente] = useState(null);\r\n  const [filtros, setFiltros] = useState(null);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_HOY, tipo })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function buscarInfancia(id_orden) {\r\n    setLoadingInfancia(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_INFANCIA, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data._id ) {\r\n          setDataInfancia([data]);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingInfancia(false));\r\n  };\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  async function sincronizarData() {\r\n    setLoadingCruzar(true);\r\n    await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo})\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCruzar(false));\r\n  };\r\n\r\n  async function comprobarInfancias() {\r\n    setLoadingComprobarInfancias(true);\r\n    await getOrdenes(true, { metodo: ordenes.COMPROBAR_INFANCIAS })\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingComprobarInfancias(false));\r\n  };\r\n\r\n  async function agendarOrdenes(bucketSeleccionado, contrataSeleccionada, gestorSeleccionado, fechaCita, observacion) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      setLoadingAgendar(true);\r\n      await patchOrdenes({\r\n        metodo: ordenes.AGENDAR_ORDEN, \r\n        ordenes: ordenesSeleccionadas,\r\n        bucket: bucketSeleccionado, \r\n        contrata: contrataSeleccionada, \r\n        gestor: gestorSeleccionado,\r\n        fecha_cita: fechaCita,\r\n        observacion\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAgendar(false));\r\n    }\r\n  };\r\n\r\n  async function asignarOrdenes(data) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      const auxData = data;\r\n      setLoadingAsignar(true);\r\n      abrirModalAsignar();\r\n      await patchOrdenes({\r\n        metodo: ordenes.ASIGNAR_ORDEN, ordenes: ordenesSeleccionadas, ...auxData\r\n      }).then(async() => await listarOrdenes()).catch((err) => console.log(err)).finally(() => setLoadingAsignar(false));\r\n    }\r\n  };\r\n\r\n  async function actualizarEstado(estado, observacion, files=[]) {\r\n    if (ordenesSeleccionadas && ordenesSeleccionadas.length > 0) {\r\n      let orden_imagen = new FormData();\r\n      orden_imagen.append('metodo', ordenes.ACTUALIZAR_ESTADO);\r\n      orden_imagen.append('ordenes', JSON.stringify(ordenesSeleccionadas));\r\n      if (estado) orden_imagen.append('estado', estado);\r\n      if (observacion) orden_imagen.append('observacion', observacion);\r\n      files.forEach((f) => {\r\n        orden_imagen.append('files', f);\r\n      });\r\n\r\n      setLoadingEstado(true);\r\n      abrirModalEstado();\r\n      await patchFilesOrdenes(orden_imagen)\r\n        .then(async() => await listarOrdenes())\r\n        .catch((err) => console.log(err))\r\n        .finally(() => setLoadingEstado(false));\r\n    }\r\n  };\r\n\r\n  function limpiarFiltros() {\r\n    setFiltros(null);\r\n  };\r\n\r\n  const abrirModalAgendar = () => setModalAgendar(!modalAgendar);\r\n  const abrirModalAsignar = () => setModalAsignar(!modalAsignar);\r\n  const abrirModalReiterada = () => setModalReiterada(!modalReiterada);\r\n  const abrirModalInfancia = () => setModalInfancia(!modalInfancia);\r\n  const abrirModalEstado = () => setModalEstado(!modalEstado);\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n \r\n  const abrirReiterada = (c) => {\r\n    setCodigoCliente(c);\r\n    abrirModalReiterada();\r\n  };\r\n\r\n  const abrirInfancia = async (id) => {\r\n    abrirModalInfancia();\r\n    await buscarInfancia(id);\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          disabled={loadingOrdenes}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button\r\n          icon={loadingCruzar ? <LoadingOutlined spin/>:<CloudSyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={sincronizarData}\r\n        >Sincronizar</Button>\r\n        <Button\r\n          icon={loadingComprobarInfancias ? <LoadingOutlined spin/>:<SyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={comprobarInfancias}\r\n        >Comprobar Infancias</Button>\r\n        <Button \r\n          icon={loadingAgendar ? <LoadingOutlined spin/>:<ScheduleOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAgendar}\r\n        >Agendar</Button>\r\n        <Button \r\n          icon={loadingAsignar ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalAsignar}\r\n        >Asignar</Button>\r\n        <Button \r\n          icon={loadingEstado ? <LoadingOutlined spin/>:<FileSyncOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          disabled={ordenesSeleccionadas.length === 0}\r\n          onClick={abrirModalEstado}\r\n        >Estado</Button>\r\n        <Dropdown \r\n          overlay={<ExcelOrdenesPendientes metodo={ordenes.EXPORTAR_PENDIENTES} tipo={tipo} setLoading={setLoadingExportar} ordenesSeleccionadas={ordenesSeleccionadas}/>} \r\n          placement=\"bottomLeft\" \r\n          trigger={['click']}\r\n          arrow\r\n        >\r\n          <Button\r\n            icon={loadingExportar ? <LoadingOutlined spin/>:<ExportOutlined/>}\r\n            style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          >\r\n            Exportar\r\n          </Button>\r\n        </Dropdown>\r\n        <Button \r\n          icon={<ClearOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={limpiarFiltros}\r\n        >Filtros</Button>\r\n      </div>\r\n      <TablaOrdenesPendientes \r\n        filtros={filtros}\r\n        setFiltros={setFiltros}\r\n        tipo={tipo}\r\n        data={dataOrdenes} \r\n        loading={loadingOrdenes} \r\n        ordenesSeleccionadas={ordenesSeleccionadas} \r\n        setOrdenesSeleccionadas={setOrdenesSeleccionadas}\r\n        abrirReiterada={abrirReiterada}\r\n        abrirInfancia={abrirInfancia}\r\n        abrirRegistro={abrirRegistro}\r\n        listarOrdenes={listarOrdenes}\r\n      />\r\n      {/* MODAL PARA AGENDAR LA ORDEN */}\r\n      <ModalAgendar visible={modalAgendar} abrir={abrirModalAgendar} buckets={listaBuckets} contratas={contratas} gestores={gestores} agendar={agendarOrdenes}/>\r\n      {/* MODAL PARA ASIGNAR CONTRATA, GESTOR O TECNICO */}\r\n      <ModalAsignar visible={modalAsignar} abrir={abrirModalAsignar} contratas={contratas} gestores={gestores} tecnicos={tecnicos} asignar={asignarOrdenes}/>\r\n      {/* MODAL PARA ACTUALIZAR EL ESTADO_GESTOR DE LA ORDEN */}\r\n      <ModalEstado visible={modalEstado} abrir={abrirModalEstado} actualizarEstado={actualizarEstado} />\r\n      {/* MODAL PARA BUSCAR LA REITERADA */}\r\n      <ModalReiterada visible={modalReiterada} abrir={abrirModalReiterada} codigo_cliente={codigoCliente}/>\r\n      {/* MODAL PARA BUSCAR LA INFANCIA */}\r\n      <ModalInfancia visible={modalInfancia} abrir={abrirModalInfancia} loading={loadingInfancia} orden={dataInfancia} />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nOrdenesPendientes.propTypes = {\r\n  contratas: PropTypes.array,\r\n  gestores: PropTypes.array,\r\n  tecnicos: PropTypes.array,\r\n  tipo: PropTypes.string\r\n}\r\n\r\nexport default OrdenesPendientes\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport { tipoOrdenes } from '../../../../constants/tipoOrden';\r\nimport PopObservacion from './PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOtrasBandejas(\r\n  tipo,\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroTipoReq=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  const columnasGenerales = [\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Descripción CTR',\r\n      dataIndex: 'descripcion_ctr',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Tipo Req.',\r\n      dataIndex: 'tipo_requerimiento',\r\n      align:'center',\r\n      width: 100,\r\n      filters: filtroTipoReq ? filtroTipoReq : [],\r\n      onFilter: (v,r) => r.tipo_requerimiento.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Estado Liquidado',\r\n      dataIndex: 'estado_liquidado',\r\n      width: 150,\r\n      align: 'center',\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Tecnico Liquidado',\r\n      dataIndex: 'nombre_liquidado',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t}>\r\n          {t}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet_liquidado',\r\n      width: 100\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Tipo Averia',\r\n      dataIndex: 'tipo_averia',\r\n      width: 150,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Descripción Liquidado',\r\n      dataIndex: 'descripcion_codigo_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Fecha Asignado',\r\n      dataIndex: 'fecha_asignado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: false,\r\n      title: 'Plazo 24h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (!a.fecha_liquidado) {\r\n          if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n            return -1;\r\n          } else if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n            return 1;\r\n          }\r\n        } else if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_liquidado) {\r\n          let horas = moment().diff(fecha, 'hours');\r\n          return <Tag>{horas}</Tag>\r\n        } else if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.agenda ? 'geekblue' : horas < 24 ? 'success': horas === 24 ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: false,\r\n      altas: true,\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (!a.fecha_liquidado) {\r\n          if (moment().diff(a.fecha_registro, 'hours') < moment().diff(b.fecha_registro, 'hours')) {\r\n            return -1;\r\n          } else if (moment().diff(a.fecha_registro, 'hours') > moment().diff(b.fecha_registro, 'hours')) {\r\n            return 1;\r\n          }\r\n        } else if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (!row.fecha_liquidado) {\r\n          let horas = moment().diff(fecha, 'hours');\r\n          return <Tag>{horas}</Tag>\r\n        } else if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.agenda ? 'blue' : horas < 72 ? 'success': horas === 72 ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      averias: true,\r\n      altas: true,\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const columnasAverias = columnasGenerales.filter(e => e.averias);\r\n\r\n  const columnasAltas = columnasGenerales.filter(e => e.altas);\r\n\r\n  switch (tipo) {\r\n    case tipoOrdenes.AVERIAS:\r\n      return columnasAverias;  \r\n    case tipoOrdenes.ALTAS:\r\n      return columnasAltas;\r\n    default:\r\n      break;\r\n  }\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport columnasOtrasBandejas from './columnas/columnasOtrasBandejas';\r\nimport { obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\n\r\nfunction OrdenesExternas({tipo}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroTipoReq, setFiltroTipoReq] = useState([]);\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_OTRAS_BANDEJAS, tipo })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n          setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n          setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'));\r\n          setFiltroEstadoGestor(obtenerFiltroNombre(data, 'estado_gestor'));\r\n          setFiltroTipoReq(obtenerFiltroNombre(data, 'tipo_requerimiento'));\r\n          setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'));\r\n          setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'));\r\n          setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'));\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          disabled={loadingOrdenes}\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasOtrasBandejas(\r\n          tipo,\r\n          filtroDistrito,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroTipoReq,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroCtr,\r\n          abrirRegistro,\r\n          listarOrdenes)\r\n        }\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesExternas.propTypes = {\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default OrdenesExternas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined, UnorderedListOutlined, BugOutlined } from '@ant-design/icons';\r\n\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport OrdenesPendientes from '../../../components/operativa/administrarOrdenes/OrdenesPendientes';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesExternas from '../../../components/operativa/administrarOrdenes/OrdenesExternas';\r\n// import ActualizarInfanciasExternas from '../../../components/operativa/administrarOrdenes/ActualizarInfanciasExternas';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAverias() {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES })\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    await getEmpleados(false, { metodo: empleados.LISTA_TECNICOS_GLOBAL })\r\n      .then(({data}) => setListaTecnicos(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Averias Hfc\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <div>\r\n                <ActualizarOrdenes\r\n                  tipoOrden={tipoOrdenes.AVERIAS}\r\n                  tecnicos={listaTecnicos}\r\n                />\r\n                {/* <ActualizarInfanciasExternas/> */}\r\n              </div>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UnorderedListOutlined />\r\n                  Ordenes Pendientes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <OrdenesPendientes \r\n                contratas={listaContratas}\r\n                gestores={listaGestores}\r\n                tecnicos={listaTecnicos}\r\n                tipo={tipoOrdenes.AVERIAS}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Ordenes Liquidadas\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <OrdenesLiquidadas tipo={tipoOrdenes.AVERIAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <BugOutlined />\r\n                  Otras Bandejas\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <OrdenesExternas tipo={tipoOrdenes.AVERIAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"5\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport { PlusCircleTwoTone } from '@ant-design/icons'\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from '../TagEstado';\r\nimport PopObservacion from './PopObservacion';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasOrdenesAnuladas(\r\n  filtroDistrito=[],\r\n  filtroEstadoToa=[],\r\n  filtroEstadoGestor=[],\r\n  filtroContrata=[], \r\n  filtroGestor=[],\r\n  filtroTecnico=[],\r\n  filtroTecnologia=[],\r\n  filtroNodo=[],\r\n  filtroCtr=[],\r\n  abrirDetalle,\r\n  listarOrdenes\r\n) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      fixed: 'left',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      fixed: 'left',\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Orden Trabajo',\r\n      dataIndex: 'codigo_trabajo',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Peticion',\r\n      dataIndex: 'codigo_peticion',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Codigo Cliente',\r\n      dataIndex: 'codigo_cliente',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'Tecnologia',\r\n      dataIndex: 'tipo_tecnologia',\r\n      align: 'center',\r\n      width: 120,\r\n      filters: filtroTecnologia ? filtroTecnologia : [],\r\n      onFilter: (v,r) => r.tipo_tecnologia.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n      filters: filtroCtr ? filtroCtr : [],\r\n      onFilter: (v,r) => String(r.codigo_ctr).indexOf(String(v)) === 0,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 70,\r\n      filters: filtroNodo ? filtroNodo : [],\r\n      onFilter: (v,r) => r.codigo_nodo.indexOf(v) === 0,\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Estado Toa',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Estado Gestor',\r\n      dataIndex: 'estado_gestor',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoGestor ? filtroEstadoGestor : [],\r\n      onFilter: (v,r) => r.estado_gestor.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tecnico Asignado',\r\n      dataIndex: 'tecnico',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroTecnico ? filtroTecnico : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.tecnico_liquidado\r\n        } else if( r.tecnico_liquidado ) {\r\n          return r.tecnico_liquidado._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (t) => (\r\n        <Tooltip placement=\"topLeft\" title={t ? t.nombre+' '+t.apellidos:'-'}>\r\n          {t ? t.nombre+' '+t.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Observación Gestor',\r\n      dataIndex: 'observacion_gestor',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Observación Liquidado',\r\n      dataIndex: 'observacion_liquidado',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Liquidado',\r\n      dataIndex: 'fecha_liquidado',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Plazo 72h',\r\n      dataIndex: 'fecha_registro',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      sorter: (a, b) => {\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') < moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return -1;\r\n        }\r\n        if (moment(a.fecha_liquidado).diff(a.fecha_registro, 'hours') > moment(a.fecha_liquidado).diff(b.fecha_registro, 'hours')) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n      render: (fecha, row) => {\r\n        if (fecha) {\r\n          let horas = moment(row.fecha_liquidado).diff(fecha, 'hours');\r\n          return <Tag color={row.fecha_cita ? 'geekblue' : horas < 72 && !row.fecha_cita ? 'success': horas === 72 && !row.fecha_cita ? 'warning' :  'error' }>{horas}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      width: 100,\r\n      align: 'center',\r\n      fixed: 'right',\r\n      render: (id, row) => (\r\n        <div>\r\n          <PlusCircleTwoTone\r\n            style={{ fontSize: '1.5rem', marginRight: '.5rem' }}\r\n            onClick={() => abrirDetalle(id)}\r\n          />\r\n          <PopObservacion row={row} listarOrdenes={listarOrdenes}/>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\n\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\nimport ModalRegistro from './ModalsTabla/ModalRegistro';\r\nimport columnasOrdenesAnuladas from './columnas/columnasAnuladas';\r\n\r\nfunction OrdenesAnuladas({tipo}) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [dataRegistros, setDataRegistros] = useState([]);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingRegistro, setLoadingRegistro] = useState(false);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroEstadoGestor, setFiltroEstadoGestor] = useState([])\r\n  const [filtroTecnologia, setFiltroTecnologia] = useState([]);\r\n  const [filtroNodo, setFiltroNodo] = useState([]);\r\n  const [filtroCtr, setFiltroCtr] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroTecnico, setFiltroTecnico] = useState([]);\r\n  const [modalRegistro, setModalRegistro] = useState(false);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    setOrdenesSeleccionadas([]);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_ANULADAS, tipo, })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataOrdenes(data);\r\n          setFiltroDistrito(obtenerFiltroNombre(data, 'distrito'));\r\n          setFiltroEstadoToa(obtenerFiltroNombre(data, 'estado_toa'))\r\n          setFiltroEstadoGestor( obtenerFiltroNombre(data, 'estado_gestor'))\r\n          setFiltroTecnologia(obtenerFiltroNombre(data, 'tipo_tecnologia'))\r\n          setFiltroNodo(obtenerFiltroNombre(data, 'codigo_nodo'))\r\n          setFiltroCtr(obtenerFiltroNombre(data, 'codigo_ctr'))\r\n          setFiltroContrata(obtenerFiltroId(data, 'contrata'))\r\n          setFiltroGestor(obtenerFiltroId(data, 'gestor'))\r\n          setFiltroTecnico(obtenerFiltroId(data, 'tecnico'))\r\n        };\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  const abrirModalRegistro = () => setModalRegistro(!modalRegistro);\r\n\r\n  async function buscarRegistro(id_orden) {\r\n    setLoadingRegistro(true);\r\n    await getOrdenes( true, { metodo: ordenes.BUSCAR_REGISTROS, id: id_orden })\r\n      .then(({data}) => {\r\n        if (data && data.length > 0) {\r\n          setDataRegistros(data);\r\n        }\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingRegistro(false));\r\n  };\r\n\r\n  const abrirRegistro = async (id) => {\r\n    abrirModalRegistro();\r\n    await buscarRegistro(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasOrdenesAnuladas(\r\n          filtroDistrito,\r\n          filtroEstadoToa,\r\n          filtroEstadoGestor,\r\n          filtroContrata, \r\n          filtroGestor,\r\n          filtroTecnico,\r\n          filtroTecnologia,\r\n          filtroNodo,\r\n          filtroCtr,\r\n          abrirRegistro,\r\n          listarOrdenes)\r\n        }\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n      {/* MODAL DETALLE PARA VER EL HISTORIAL DE CAMBIOS */}\r\n      <ModalRegistro visible={modalRegistro} abrir={abrirModalRegistro} loading={loadingRegistro} registros={dataRegistros}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nOrdenesAnuladas.propTypes = {\r\n  tipo: PropTypes.string\r\n};\r\n\r\nexport default OrdenesAnuladas;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined, UnorderedListOutlined, BugOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nimport { tipoOrdenes } from '../../../constants/tipoOrden';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport { getEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport OrdenesPendientes from '../../../components/operativa/administrarOrdenes/OrdenesPendientes';\r\nimport OrdenesLiquidadas from '../../../components/operativa/administrarOrdenes/OrdenesLiquidadas';\r\nimport OrdenesExternas from '../../../components/operativa/administrarOrdenes/OrdenesExternas';\r\nimport OrdenesAnuladas from '../../../components/operativa/administrarOrdenes/OrdenesAnuladas';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAltas() {\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [listaTecnicos, setListaTecnicos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n    cargarGestores();\r\n    cargarTecnicos();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarGestores() {\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES })\r\n      .then(({data}) => setListaGestores(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  async function cargarTecnicos() {\r\n    await getEmpleados(false, { metodo: empleados.LISTA_TECNICOS_GLOBAL })\r\n      .then(({data}) => setListaTecnicos(data ? data : []))\r\n      .catch((err) => console.log(err))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Altas Hfc\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <ActualizarOrdenes\r\n                tipoOrden={tipoOrdenes.ALTAS}\r\n                tecnicos={listaTecnicos}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <UnorderedListOutlined />\r\n                  Ordenes Pendientes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <OrdenesPendientes \r\n                contratas={listaContratas}\r\n                gestores={listaGestores}\r\n                tecnicos={listaTecnicos}\r\n                tipo={tipoOrdenes.ALTAS}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Ordenes Liquidadas\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n              <OrdenesLiquidadas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ExclamationCircleOutlined />\r\n                  Ordenes Anuladas\r\n                </span>\r\n              }\r\n              key=\"4\"\r\n            >\r\n              <OrdenesAnuladas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <BugOutlined />\r\n                  Otras Bandejas\r\n                </span>\r\n              }\r\n              key=\"5\"\r\n            >\r\n              <OrdenesExternas tipo={tipoOrdenes.ALTAS}/>\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"6\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as lisaRutas, permisos } from '../../constants/listaRutas';\r\nimport AdministrarAverias from \"../../views/Operativa/Administrar/AdministrarAverias\";\r\nimport AdministrarAltas from \"../../views/Operativa/Administrar/AdministrarAltas\";\r\nimport AdministrarBasicas from \"../../views/Operativa/Administrar/AdministrarBasicas\";\r\nimport AdministrarSpeedy from \"../../views/Operativa/Administrar/AdministrarSpeedy\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.adminAveriasHfc,\r\n    exact: true,\r\n    component: AdministrarAverias,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminAltasHfc,\r\n    exact: true,\r\n    component: AdministrarAltas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminBasicas,\r\n    exact: true,\r\n    component: AdministrarBasicas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminspeedy,\r\n    exact: true,\r\n    component: AdministrarSpeedy,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react'\r\n\r\nexport default function AdministrarBasicas() {\r\n  return (\r\n    <div>\r\n      administrar basicas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarSpeedy() {\r\n  return (\r\n    <div>\r\n      administrar speedy\r\n    </div>\r\n  )\r\n}\r\n","import listaRutas from './listaRutas';\r\nimport gestionarAsistencia from './gestionarAsistencia';\r\nimport administrarOrdenes from './administrarOrdenes';\r\n\r\nconst rutasOperativa = [\r\n  ...listaRutas,\r\n  ...gestionarAsistencia,\r\n  ...administrarOrdenes\r\n];\r\n\r\nexport default rutasOperativa;","import perfilUsuario from './routes/perfilUsuario';\r\nimport dashboard from './routes/dashboard';\r\nimport gestionPersonal from './routes/gestionPersonal';\r\nimport operativa from './routes/operativa';\r\n\r\nconst arregloRutas = [\r\n  ...perfilUsuario,\r\n  ...dashboard,\r\n  ...gestionPersonal,\r\n  ...operativa\r\n]\r\n\r\nexport default arregloRutas;","import React from 'react';\r\nimport { Button, Result } from 'antd';\r\n\r\nimport Contenedor from '../common/Contenedor';\r\nimport { rutas } from '../../constants/listaRutas';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Contenedor>\r\n       <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle=\"Lo sentimos, no tienes autorizacion para entrar a esta página.\"\r\n        extra={<Button type=\"primary\" onClick={() => window.location.pathname = rutas.resumenGeneral}>Inicio</Button>}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction PrivateRoute({ component: Component, nivel=[], ...rest }) {\r\n  const [usuario, setUsuario] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setUsuario(new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY)).decodedToken);\r\n  },[nivel])\r\n\r\n  if(nivel.includes(0)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else if (usuario && nivel.includes(usuario.cargo)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else {\r\n    return (<Route {...rest} render={() => (<NotFound/>)}/>)\r\n  }\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.func,\r\n  nivel: PropTypes.array\r\n};\r\n\r\nexport default PrivateRoute;","import React, { useState } from 'react';\r\nimport { LoadingOutlined, SaveOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport { Button, Modal, Upload } from 'antd';\r\n\r\nimport Contenedor from '../components/common/Contenedor';\r\nimport TituloVista from '../components/common/TituloContent';\r\nimport convertirBase64 from '../libraries/convertirBase64';\r\nimport axios from 'axios';\r\nimport variables from '../constants/config';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nexport default function SubirIndicadores() {\r\n  const [loadingImagenes, setLoadingImagenes] = useState(false);\r\n  const [fileList, setFileList] = useState([]);\r\n  //Estados para la previsualización de las imagenes\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  async function actualizarIndicadores() {\r\n    if (fileList && fileList.length > 0) {\r\n      setLoadingImagenes(true);\r\n      fileList.forEach(async(f,i) => {\r\n        if (i < 8) {\r\n          await axios.post(`${variables.urlApi}/indicadores`, {\r\n            data: {\r\n              titulo: `imagen${i+1}`,\r\n              imagen: await convertirBase64(f)\r\n            }\r\n          }).then(({data}) => {\r\n            if (data && data.status) {\r\n              cogoToast[data.status](data.message, { position: \"top-right\" });\r\n            } else {\r\n              cogoToast.error(\"Sin respuesta del servidor.\", { position: \"top-right\" });\r\n            }\r\n          }).catch((err) => console.log(err)).finally(() => setLoadingImagenes(false));\r\n        };\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n  //guardar localmente las fotos\r\n  function cargarArchivo (file) {\r\n    let lista = fileList;\r\n    file.status = 'done'\r\n    lista.push(file)\r\n    setFileList(lista)\r\n    return false\r\n  }\r\n  //remover archivo seleccionado\r\n  function removerArchivo (a) {\r\n    let nuevaLista = fileList.filter((f) => f.uid !== a.uid);\r\n    setFileList(nuevaLista)\r\n  };\r\n\r\n  const modalPreview = () => setPreviewVisible(!previewVisible);\r\n  // funcion para cargar la previsualización de la imagen seleccionada\r\n  const imagenPreview = async (file) => {\r\n    try {\r\n      const preview = await convertirBase64(file.originFileObj);\r\n      setPreviewVisible(true)\r\n      setPreviewImage(preview);\r\n    } catch (error) {\r\n      console.log(error);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TituloVista titulo=\"Subir imagenes\" subtitulo=\"Indicadores NPS\"/>\r\n      <Contenedor>\r\n        <Upload\r\n          accept=\".jpg,.png,.jpeg\"\r\n          listType=\"picture-card\"\r\n          beforeUpload={cargarArchivo}\r\n          onRemove={removerArchivo}\r\n          onPreview={imagenPreview}\r\n          maxCount={8}\r\n        >\r\n          <UploadOutlined />{` `}Subir Imagenes\r\n        </Upload>\r\n        <br/><br/>\r\n        <Button\r\n          onClick={actualizarIndicadores}\r\n          disabled={loadingImagenes}\r\n          icon={ loadingImagenes ? <LoadingOutlined/>:<SaveOutlined/>}\r\n          type=\"primary\"\r\n          size=\"small\"\r\n        >\r\n          Guardar\r\n        </Button>\r\n        {/* MODAL PARA PREVISUALIZAR LA IMAGEN */}\r\n        <Modal visible={previewVisible} footer={null} onCancel={modalPreview}>\r\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'moment/locale/es-mx';\r\nimport es_ES from 'antd/es/locale/es_ES';\r\n\r\nimport './App.css';\r\nimport { rutas } from './constants/listaRutas';\r\nimport Index from './views/Index';\r\nimport Login from './views/Login';\r\nimport Layout from './components/layout';\r\nimport routes from './routes';\r\nimport PrivateRoute from './components/layout/PrivateRoute';\r\nimport SubirIndicadores from './views/SubirIndicadores';\r\n\r\nexport default function App() {\r\n  return (\r\n    <ConfigProvider locale={es_ES}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path=\"/indicadores\" component={SubirIndicadores} />\r\n          <Route exact path={rutas.login} component={Login}/>\r\n          <Layout>\r\n          {routes.map((route, index) => (\r\n              <PrivateRoute \r\n                key={index}\r\n                path={route.path}\r\n                exact={route.exact}\r\n                nivel={route.nivel}\r\n                component={\r\n                  props => (<route.component {...props}/>)\r\n                }\r\n              />\r\n            )\r\n          )}\r\n          </Layout>\r\n        </Switch>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  console.log(process.env.NODE_ENV === 'production');\r\n  console.log('serviceWorker' in navigator);\r\n  console.log(isLocalhost);\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              registration.update();\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />\r\n  //</React.StrictMode>\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(console.log);\r\n"],"sourceRoot":""}