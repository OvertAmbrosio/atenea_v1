{"version":3,"sources":["constants/cargos.js","constants/listaRutas.js","views/Index.js","constants/config.js","services/requestHelper.js","services/apiUsuario.js","services/authToken.js","views/Login.js","components/layout/Sider/MenuUsuario.js","components/layout/Sider/index.js","components/layout/Header/Notificaciones.js","components/layout/Header/OpcionesUsuario.js","components/layout/index.js","components/layout/PrivateLayout.js","components/common/TituloContent.js","components/common/Contenedor.js","components/dashboard/ChartBucket.js","constants/valoresToa.js","libraries/separarField.js","components/dashboard/IndicadorBucket.js","components/dashboard/ChartGestor.js","components/dashboard/IndicadorGestor.js","components/dashboard/ChartDevoluciones.js","components/dashboard/IndicadorDevoluciones.js","routes/dashboard.js","views/Dashboard/IndicadoresGpon.js","views/Dashboard/IndicadoresHfc.js","services/apiEmpleado.js","components/gestionEmpleados/personal/HeaderEmpleados.js","constants/colores.js","components/gestionEmpleados/personal/EmpleadoTag.js","components/gestionEmpleados/personal/ModalEmpleado.js","constants/metodos.js","components/gestionEmpleados/personal/ModalPermisos.js","components/gestionEmpleados/personal/ModalEstado.js","components/gestionEmpleados/personal/ModalConfiguracion.js","components/gestionEmpleados/personal/EmpleadoAcciones.js","services/apiContrata.js","components/gestionEmpleados/personal/ModalDetalle.js","components/gestionEmpleados/personal/TablaEmpleados.js","components/gestionEmpleados/contrata/ModalContrata.js","components/gestionEmpleados/contrata/ModalEliminar.js","components/gestionEmpleados/contrata/TablaContratas.js","routes/gestionPersonal.js","views/GestionPersonal/ListaPersonal.js","views/GestionPersonal/ListaContratas.js","libraries/obtenerFiltro.js","components/operativa/listaRutas/TablaTecnicos.js","services/apiAsistencia.js","libraries/ordenarAsistencias.js","constants/estadoAsistencia.js","components/operativa/listaRutas/EstadoTag.js","components/operativa/listaRutas/TablaAsistencias.js","views/Operativa/ListaRutas.js","routes/operativa/listaRutas.js","constants/valoresOrdenes.js","libraries/convertirExcel.js","libraries/numeroFecha.js","libraries/asignarValores/asignarAverias.js","libraries/asignarValores/index.js","services/apiOrden.js","components/operativa/administrarOrdenes/ActualizarOrdenes.js","libraries/capitalizar.js","components/operativa/administrarOrdenes/TagEstado.js","components/operativa/administrarOrdenes/columnasAverias.js","components/operativa/administrarOrdenes/TablaOrdenes.js","views/Operativa/Administrar/AdministrarAverias.js","routes/operativa/administrarOrdenes.js","views/Operativa/Administrar/AdministrarAltas.js","views/Operativa/Administrar/AdministrarBasicas.js","views/Operativa/Administrar/AdministrarSpeedy.js","routes/operativa/index.js","routes.js","components/layout/NotFound.js","components/layout/PrivateRoute.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["cargos","TODO","ADMINISTRADOR","JEFE_OPERACIONES","JEFE_LOGISTICA","LIDER_GESTION","ASISTENTE_LOGISTICA","JEFE_CONTRATA","GESTOR","ALMACENERO","AUDITOR","TECNICO","rutas","permisos","todos","listaContratas","grupoOperativa","administrarOrdenes","gestionarOrdenes","Index","href","variables","urlApi","public","socket","TOKEN_STORAGE_KEY","logoPath","logoFull","version","formatosAdmitidos","restAuth","config","a","closeLoading","cogoToast","loading","hideAfter","position","role","newAxiosRequest","axios","create","baseURL","then","data","hide","success","message","errors","error","Error","catch","err","response","console","log","errData","undefined","Object","keys","warn","request","restPrivate","toast","headers","Authorization","Cookie","get","status","String","remove","document","location","login","url","method","session","logout","AuthToken","token","this","decodedToken","nombre","id","cargo","imagen","gestor","exp","jwtDecode","e","isExpired","Date","expiresAt","Login","history","useHistory","values","set","push","useEffect","isValid","type","justify","align","style","backgroundColor","height","xs","sm","md","lg","xl","className","name","initialValues","remember","onFinish","Item","hasFeedback","rules","required","autoComplete","prefix","UserOutlined","placeholder","min","Password","LockOutlined","htmlType","SubMenu","Menu","Divider","ItemGroup","getPath","window","pathname","substring","items","titulo","children","grupo","key","icon","DashboardOutlined","ruta","TeamOutlined","IdcardOutlined","CarryOutOutlined","FileSearchOutlined","ScheduleOutlined","MenuUsuario","theme","mode","defaultSelectedKeys","map","i","includes","title","c","to","sub","Sider","Layout","collapsed","width","breakpoint","trigger","collapsible","alt","src","notifications","Notificaciones","useState","visible","setVisible","placement","overlayClassName","onVisibleChange","v","content","minWidth","itemLayout","dataSource","locale","emptyText","renderItem","item","Meta","lines","description","RightOutlined","length","count","dot","offset","BellOutlined","OpcionesUsuario","usuario","setUsuario","auth","cerrarSesion","color","marginRight","marginLeft","Text","SettingOutlined","onClick","PoweroffOutlined","PrivateLayout","WrappedComponent","spinLoading","setCollapsed","styleFooter","margin","padding","transition","clear","left","bottom","right","spinning","tip","size","Header","classnames","MenuUnfoldOutlined","MenuFoldOutlined","Content","minHeight","marginTop","Footer","props","state","spin","setState","Component","TituloVista","routes","breadcrumbName","subtitulo","breadcrumb","Contenedor","borderRadius","span","WebkitBoxShadow","MozBoxShadow","boxShadow","ChartBucket","display","alignItems","justifyContent","autoFit","filter","val","adjust","marginRatio","fields","callback","estado","label","b","fill","fontSize","fontWeight","shared","gpon","valoresExcelToa","bucket","requerimiento","fecha_cita","motivo_no_realizado","subtipo_actividad","carnet","tecnico","auditor","contrata","tipo_agenda","sla_inicio","sla_fin","separarBucket","buckets","estados","newData","forEach","o","numOrdenes","d","ordenes","separarGestor","gestores","g","separarMotivo","motivos","m","motivo","Title","Typography","IndicadorBucket","tipo","tecnologia","totalOrdenes","setTotalOrdenes","dataOrdenes","setDataOrdenes","loadingOrdenes","setLoadingOrdenes","bucketsOrdenes","setBucketsOrdenes","horaActualizado","setHoraActualizado","saveAsCsv","useJsonToCsv","Promise","resolve","reject","ordenesFiltradas","finally","moment","format","cargarOrdenes","level","marginBottom","value","suffix","apellidos","filename","ChartGestor","IndicadorGponGestor","setGestores","ChartDevoluciones","IndicadorGponDevoluciones","path","listaRutas","exact","component","averias","setAverias","altas","setAltas","io","transports","secure","reconnection","indicadorRef1","useRef","indicadorRef2","indicadorRef3","indicadorRef4","indicadorRef5","scrollAutomatico","on","s","jsonAverias","Array","JSON","parse","jsonAltas","emit","close","setInterval","number","arrayRefs","current","scrollIntoView","block","behavior","executeScroll","TituloContent","ref","IndicadorGestor","IndicadorDevoluciones","nivel","getEmpleados","metodo","page","limit","idFiltro","params","buscarEmpleado","field","patchEmpleados","fecha_baja","estado_empresa","tecnicos","postEmpleados","putEmpleados","Search","Input","colores","CargoTag","EstadoTag","CheckCircleOutlined","ExclamationCircleOutlined","warning","CloseCircleOutlined","Option","Select","ModalEmpleado","accion","empleado","contratas","guardar","numero_documento","Number","now","empleadoObj","setEmpleadoObj","Form","useForm","form","_id","email","cancelText","okText","onOk","validateFields","resetFields","obj","info","onCancel","destroyOnClose","centered","layout","onValuesChange","onChange","allowClear","tipo_documento","empleados","asistencias","ModalPermisos","listarEmpleados","setCargo","defaultValue","ModalEstado","setEstado","fechaBaja","setFechaBaja","direction","_","ModalConfiguracion","modalPermisos","setModalPermisos","modalEstados","setModalEstados","actualizarEmpleado","CaretUpOutlined","danger","EmpleadoAcciones","visibleEmpleado","setVisibleEmpleado","visibleConf","setVisibleConf","EditTwoTone","twoToneColor","paddingRight","SettingTwoTone","getContratas","postContrata","putContrata","patchContrata","ModalDetalle","abrirModal","bordered","column","copyable","fecha_nacimiento","fecha_ingreso","nacionalidad","observacion","TablaEmpleados","pageNumber","setPageNumber","limitNumber","setLimitNumber","totalDocs","setTotalDocs","dataEmpleados","setDataEmpleados","modalCrear","setModalCrear","modalDetalle","setModalDetalle","setListaContratas","setLoading","docs","listarContratas","abrirModalCrear","abrirModalDetalle","columnas","render","__","dataIndex","ellipsis","showTitle","u","row","rowKey","onRow","record","onDoubleClick","listarEmpleado","setEmpleados","tipoBusqueda","setTipoBusqueda","Group","target","paddingTop","enterButton","onSearch","PlusOutlined","HeaderEmpleados","columns","scroll","x","y","pagination","total","defaultPageSize","pageSizeOptions","onShowSizeChange","ModalContrata","setNombre","ruc","setRuc","fecha_incorporacion","setFecha_incorporacion","setObservacion","limpiarEstados","utc","date","ModalEliminar","activo","setActivo","setFecha_baja","limpiarModal","f","TablaContratas","dataContratas","setDataContratas","modalEditar","setModalEditar","modalEliminar","setModalEliminar","setContrata","cargarContratas","abrirModalEditar","abrirModalEliminar","DeleteTwoTone","obtenerFiltroId","persona","filtrosArray","isNull","findIndex","text","obtenerFiltroNombre","TablaTecnicos","loadingGestores","auditores","loadingAuditores","dataTecnicos","setDataTecnicos","loadingTecnicos","setLoadingTecnicos","loadingAsignarGestor","setLoadingAsignarGestor","loadingAsignarAuditor","setLoadingAsignarAuditor","tecnicosSeleccionados","setTecnicosSeleccionados","gestorSeleccionado","setGestorSeleccionado","auditorSeleccionado","setAuditorSeleccionado","filtroContrata","setFiltroContrata","filtroGestor","setFiltroGestor","filtroAuditor","setFiltroAuditor","cargarEmpleados","asignarTecnico","filters","onFilter","r","indexOf","showSearch","filterOption","input","option","toLowerCase","LoadingOutlined","rowSelection","columnWidth","selectedRowKeys","getAsistencias","fecha_inicio","fecha_fin","ordenarAsistencia","nuevoArray","aux","createdAt","objetoNuevo","iniciado","fecha_iniciado","estadoAsistencia","FALTA","ASISTIO","DESCANSO","PERMISO","SUSPENDIDO","DESCANSO_MEDICO","EXAMEN_MEDICO","columnasDefecto","TablaAsistencias","diaInicio","setDiaInicio","diaFin","setDiaFin","diasSemana","setDiasSemana","setColumnas","dataAsistencias","setDataAsistencias","loadingAsistencia","setLoadingAsistencia","filtroGestores","setFiltroGestores","filtroAuditores","setFiltroAuditores","activas","setRutas","resultado","rutasAtivas","hoy","firstColumn","columnsAux","generarColumnas","dia","weekStart","clone","startOf","weekEnd","endOf","days","add","picker","disabled","ReloadOutlined","TabPane","Tabs","array","listaGestores","setListaGestores","setLoadingGestores","listaAuditores","setListaAuditores","setLoadingAuditores","cargarGestores","cargarAuditores","paddingLeft","animated","tab","ClusterOutlined","CheckSquareOutlined","TIPO","CODIGO_ZONAL","CODIGO_REQUERIMIENTO","CODIGO_CLIENTE","NOMBRE_CLIENTE","CODIGO_CTR","DESCRIPCION_CTR","CODIGO_NODO","CODIGO_TROBA","DISTRITO","destipvia","desnomvia","numvia","despis","desint","desmzn","deslot","destipurb","desurb","FECHA_REGISTRO","CODIGO_MOTIVO","DETALLE_MOTIVO","TIPO_REQUERIMIENTO","DETALLE_TRABAJO","TELEFONO_CONTACTO","TELEFONO_REFERENCIA","NUMERO_REITERADA","TIPO_TECNOLOGIA","excel","reader","FileReader","rABS","readAsBinaryString","onload","event","bstr","result","wb","XLSX","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","objeto","reduce","k","trim","readAsArrayBuffer","numeroFecha","numeroDeDias","fecha","setHours","getHours","codctrArray","pendientesAverias","promises","orden","indice","verificado","isEmpty","TELEFONO","isNaN","codigo_zonal","codigo_requerimiento","codigo_cliente","nombre_cliente","codigo_ctr","descripcion_ctr","codigo_nodo","codigo_troba","distrito","direccion","fecha_registro","codigo_motivo","detalle_motivo","replace","tipo_requerimiento","detalle_trabajo","telefono_contacto","telefono_referencia","numero_reiterada","tipo_tecnologia","all","asignarValores","getOrdenes","postOrdenes","ActualizarOrdenes","tipoOrden","estadoOrden","setEstadoOrden","estadoArchivo","setEstadoArchivo","nombreArchivo","setNombreArchivo","ordenesObtenidas","setOrdenesObtenidas","loadingButton","setLoadingButton","spellCheck","accept","beforeUpload","file","convertirExcel","objJson","onRemove","fileList","uid","UploadOutlined","SaveOutlined","capitalizar","string","charAt","toUpperCase","slice","TagEstado","columnasAverias","filtroDistrito","filtroBucket","filtroEstadoToa","req","sorter","bckt","estado_toa","diff","TablaOrdenes","loadingCruzar","setLoadingCruzar","ordenesSeleccionadas","setOrdenesSeleccionadas","setFiltroDistrito","setFiltroBucket","setFiltroEstadoToa","listarOrdenes","CloudSyncOutlined","EditFilled","UserSwitchOutlined","lisaRutas","CloudUploadOutlined","rutasOperativa","arregloRutas","dashboard","gestionPersonal","operativa","NotFound","subTitle","extra","PrivateRoute","rest","App","es_ES","route","index","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","getElementById","process","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.eb6a7873.chunk.js","sourcesContent":["const cargos = {\r\n  TODO: [1,2,3,4,5,6,7,8],\r\n  ADMINISTRADOR: 1,\r\n  JEFE_OPERACIONES: 2,\r\n  JEFE_LOGISTICA: 3,\r\n  LIDER_GESTION: 4,\r\n  ASISTENTE_LOGISTICA: 5,\r\n  JEFE_CONTRATA: 6,\r\n  GESTOR: 7,\r\n  ALMACENERO: 8,\r\n  AUDITOR: 9,\r\n  TECNICO: 10\r\n};\r\n\r\nexport default cargos;","import cargos from './cargos';\r\n\r\nexport const rutas = {\r\n  login: \"/login\",\r\n  indicadoresGpon: \"/dashboard/indicadores-gpon\",\r\n  indicadoresHfc: \"/dashboard/indicadores-hfc\",\r\n  listaPersonal: \"/lista-personal\",\r\n  listaContratas: \"/lista-contratas\",\r\n  listaRutas: \"/lista-rutas\",\r\n  adminAveriasHfc: \"/administrar-ordenes/averias-hfc\",\r\n  adminAltasHfc: \"/administrar-ordenes/altas-hfc\",\r\n  adminBasicas: \"/administrar-ordenes/basicas\",\r\n  adminspeedy: \"/administrar-ordenes/speedy\",\r\n  gestionarAveriasHfc: \"/gestionar-ordenes/averias-hfc\",\r\n  gestionarAltasHfc: \"/gestionar-ordenes/altas-hfc\",\r\n  gestionarBasicas: \"/gestionar-ordenes/basicas\",\r\n  gestionarspeedy: \"/gestionar-ordenes/speedy\",\r\n};\r\n\r\nexport const permisos = {\r\n  todos: cargos.TODO,\r\n  listaContratas: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  grupoOperativa: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION,\r\n    cargos.JEFE_CONTRATA,\r\n    cargos.GESTOR\r\n  ],\r\n  administrarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  gestionarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION,\r\n    cargos.GESTOR\r\n  ]\r\n};","import React from 'react';\r\nimport { rutas } from '../constants/listaRutas'\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div>\r\n      <a href={rutas.login}>login</a>\r\n    </div>\r\n  )\r\n}","const variables = {\r\n  // 192.168.100.90\r\n  //https://atenea-v2.herokuapp.com/\r\n  urlApi: 'https://atenea-v2.herokuapp.com/api',\r\n  public: 'https://atenea-v2.herokuapp.com/',\r\n  socket: 'https://atenea-v2.herokuapp.com/',\r\n  TOKEN_STORAGE_KEY: 'atenea.authToken',\r\n  logoPath: '/icon.png',\r\n  logoFull: '/iconL.png',\r\n  version: '0.0.4',\r\n  formatosAdmitidos: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n}\r\n\r\nexport default variables;","// eslint-disable-next-line no-unused-vars\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport Cookie from \"js-cookie\";\r\nimport cogoToast from 'cogo-toast';\r\n//objeto con variables del sistema (direccion url de la api)\r\nimport variables from '../constants/config';\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config - Objeto con las variables de configuracion de axios\r\n*/\r\nexport const restAuth = async (config) => {\r\n  //iniciar toast de loading\r\n  const closeLoading = cogoToast.loading('Iniciando sesión...', {\r\n    hideAfter: 0, position: 'top-right', role: \"success\"\r\n  });\r\n  //inicializar objeto para realiuzar la consulta (axios)\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi\r\n  });\r\n  //retorna la peticion, y se extrae la propiedad \"data\"\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    //una vez que se obtiene la respuesta se debe \r\n    //cerrar el toast de loading\r\n    closeLoading.hide();\r\n    //si se encuentra la data enviarla al fron\r\n    if (data && data.data) {\r\n      cogoToast.success(data.message, { position: 'top-right' })\r\n      return ({data: data.data, errors: false});\r\n    } else {\r\n    //error que salta al no poder obtener la data del data\r\n      cogoToast.error('No se puede obtener la data' ,{ position: 'top-right'})\r\n      throw Error(\"No se puede obtener la data\");\r\n    }\r\n  }).catch(err => {\r\n    //en caso de error cerrar el loading\r\n    closeLoading.hide();\r\n    //enviar un mensaje en escenario posible dependiendo del error\r\n    if (err.response) {\r\n      //mostrar el error por consola\r\n      console.log(err.response);\r\n      //guardar la informacion del error en un avariables\r\n      const errData = (err.response.data);\r\n      //mostrar como mensaje el primero error que muestre\r\n      const message = errData[Object.keys(errData)[0]] !== undefined ? \r\n        errData[Object.keys(errData)[0]] \r\n        : 'Error en la solicitud.';\r\n      //enviar un aviso con el mensaje de error\r\n      cogoToast.warn( message, { position: 'top-right' });\r\n      //retornar le data vacia\r\n      return {\r\n        data: false, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config\r\n * @param {boolean} toast false si no se quiere mostrar el toast\r\n*/\r\nexport const restPrivate = async (config, toast) => {\r\n  let closeLoading;\r\n  if (toast) {\r\n    closeLoading = cogoToast.loading('Cargando...', {\r\n      hideAfter: 0, position: 'top-right', role: \"success\"\r\n    });\r\n  }\r\n\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi,\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookie.get(variables.TOKEN_STORAGE_KEY)\r\n    }\r\n  });\r\n\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    if (toast) {\r\n      closeLoading.hide();\r\n      cogoToast[data.status ? data.status : 'error'](data.message, { position: 'top-right' })\r\n    }\r\n    return (data);\r\n  }).catch(err => {\r\n    if (toast) closeLoading.hide();\r\n    if (err.response) {\r\n      const errData = err.response.data;\r\n      if (String(err.response.status) === \"401\") {\r\n        cogoToast.error('Token Invalido, cerrando sesión.',\r\n        { position: 'top-right'});\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        document.location.href=\"/login\";\r\n      } else {\r\n        cogoToast.warn( errData.message !== undefined ? errData.message : 'Error en la solicitud.',\r\n        { position: 'top-right'})\r\n      }\r\n      return {\r\n        data: null, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};","import { restAuth, restPrivate } from './requestHelper';\r\n\r\nexport const login = async (data) => restAuth({\r\n  url: 'private/auth/login', method: 'POST', data\r\n});\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const session = async (toast) => restPrivate({\r\n  url: 'private/auth/session', method: 'GET'\r\n}, toast);\r\n/**\r\n * @param {boolean} toast \r\n */\r\nexport const logout = async (toast=true) => restPrivate({\r\n  url: 'private/auth/logout', method: 'GET'\r\n}, toast);\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport class AuthToken {\r\n  constructor(token) {\r\n    this.decodedToken = { \r\n      nombre: null,\r\n      id: null,\r\n      cargo: null,\r\n      imagen: null,\r\n      gestor: null, \r\n      exp: 0 \r\n    };\r\n    \r\n    try {\r\n      if (token) this.decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      console.log('Error');\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  get isValid() {\r\n    return !this.isExpired;\r\n  }\r\n\r\n  get expiresAt() {\r\n    return new Date(this.decodedToken.exp * 1000);\r\n  }\r\n\r\n  get isExpired() {\r\n    return new Date() > this.expiresAt;\r\n  }\r\n\r\n  get authorizationString() {\r\n    return `Bearer ${this.token}`;\r\n  }\r\n};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookie from \"js-cookie\";\r\nimport { Col, Row, Form, Input, Button } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nimport { login } from '../services/apiUsuario';\r\nimport variables from '../constants/config';\r\nimport { rutas } from '../constants/listaRutas';\r\nimport { AuthToken } from '../services/authToken';\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth.isValid) {\r\n      history.push(rutas.indicadoresGpon);\r\n    };\r\n  },[history]);\r\n\r\n  async function enviarFormulario(values) {\r\n    await login(values).then((data) => {\r\n      if (data.data && !data.errors) {\r\n        Cookie.set(variables.TOKEN_STORAGE_KEY, data.data);\r\n        history.push(rutas.indicadoresGpon);\r\n      }\r\n    }).catch((error) => {\r\n      console.log('error');\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\" style={{backgroundColor: 'rgb(242, 242, 247)', height: '100vh'}}>\r\n        <Col xs={20} sm={12} md={8} lg={6} xl={5}>\r\n          <div className=\"contenedor-padre\">\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{remember: true}}\r\n              onFinish={enviarFormulario}\r\n            >\r\n              <div className=\"logoForm\"/>\r\n              <Form.Item\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una correo!'\r\n                  },\r\n                  {\r\n                    type: 'email',\r\n                    message: '¡Ingresa un email válido!'\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  autoComplete=\"current-email\"\r\n                  type=\"email\"\r\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                  placeholder=\"Correo\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una contraseña válida!',\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message: '¡La contraseña debe tener mas de 6 carácteres!',\r\n                  }\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  autoComplete=\"current-password\"\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Contraseña\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                  Acceder\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DashboardOutlined,\r\n  ScheduleOutlined,\r\n  TeamOutlined,\r\n  IdcardOutlined,\r\n  CarryOutOutlined,\r\n  FileSearchOutlined,\r\n  // HistoryOutlined,\r\n  // GroupOutlined,\r\n  // ExportOutlined,\r\n  // ImportOutlined,\r\n  // CloudServerOutlined,\r\n  // GoldOutlined,\r\n  // SlidersOutlined,\r\n  // TableOutlined,\r\n  // SearchOutlined,\r\n  // FieldTimeOutlined,\r\n  // ShopOutlined,\r\n  // BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\n\r\nimport { rutas, permisos } from '../../../constants/listaRutas';\r\n\r\nconst { SubMenu, Item, Divider, ItemGroup } = Menu;\r\n\r\nconst getPath = () => {return String(window.location.pathname).substring(1)};\r\n\r\nconst items = [\r\n  {\r\n    permisos: [...permisos.todos, 9],\r\n    titulo: 'Panel de Control',\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'sub100',\r\n        icon: DashboardOutlined,\r\n        titulo: 'Dashboard',\r\n        permisos: permisos.todos,\r\n        children: [\r\n          {\r\n            ruta: rutas.indicadoresGpon,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Indicadores GPON'\r\n          },\r\n          {\r\n            ruta: rutas.indicadoresHfc,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Indicadores HFC'\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.todos,\r\n    titulo: 'Usuarios y Contratas',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaPersonal,\r\n        icon: TeamOutlined,\r\n        permisos: permisos.todos,\r\n        titulo: 'Lista de Personal'\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaContratas,\r\n        icon: IdcardOutlined,\r\n        permisos: permisos.listaContratas,\r\n        titulo: 'Lista de Contratas'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.grupoOperativa,\r\n    titulo: 'Operativa',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaRutas,\r\n        icon: CarryOutOutlined,\r\n        permisos: permisos.administrarOrdenes,\r\n        titulo: 'Lista Rutas'\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub98',\r\n        icon: FileSearchOutlined,\r\n        titulo: 'Administrar ordenes',\r\n        permisos: permisos.administrarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.adminAveriasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminAltasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminBasicas,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.adminspeedy,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub97',\r\n        icon: ScheduleOutlined,\r\n        titulo: 'Gestionar ordenes',\r\n        permisos: permisos.gestionarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.gestionarAveriasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarAltasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarBasicas,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarspeedy,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n// eslint-disable-next-line\r\nfunction MenuUsuario({cargo}) {\r\n\r\n  if (!cargo) {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n        <ItemGroup title='Panel de Control'>\r\n          <Divider/>\r\n          <Item key=\"dashboard\">\r\n            <Link to={rutas.indicadoresGpon}>\r\n            <DashboardOutlined />\r\n            <span>Dashboard</span>\r\n            </Link>\r\n          </Item>\r\n        </ItemGroup>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n      {\r\n        items.map((e,i) =>(\r\n          e.permisos.includes(cargo) ?\r\n          (<ItemGroup title={e.titulo} key={i}>\r\n            <Divider/>\r\n            {e.children.map((c) => (\r\n                !c.grupo && c.permisos.includes(cargo) ?\r\n                (<Item key={String(c.ruta).substring(1)}>\r\n                  <Link to={c.ruta}>\r\n                    <c.icon/>\r\n                    <span>{c.titulo}</span>\r\n                  </Link>\r\n                </Item>)\r\n                :\r\n                c.grupo && c.permisos.includes(cargo) ?\r\n                (<SubMenu \r\n                  key={c.key}\r\n                  title={\r\n                    <span>\r\n                      <c.icon/>\r\n                      <span>{c.titulo}</span>\r\n                    </span>\r\n                  }\r\n                >\r\n                  {c.children.map((sub) => (\r\n                    <Item key={String(sub.ruta).substring(1)}>\r\n                      <Link to={sub.ruta}>\r\n                        <sub.icon/>\r\n                        <span>{sub.titulo}</span>\r\n                      </Link>\r\n                    </Item>\r\n                  ))}\r\n                </SubMenu>):null\r\n            ))}\r\n          </ItemGroup>):null  \r\n        ))\r\n      }\r\n      </Menu>\r\n    )\r\n  };\r\n  // return (\r\n  //   <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n  //     <ItemGroup title='Panel de Control'>\r\n  //       <Divider/>\r\n  //       <Item key=\"dashboard\">\r\n  //         <Link to={rutas.indicadoresGpon}>\r\n  //         <DashboardOutlined />\r\n  //         <span>Dashboard</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Usuarios y Personal'>\r\n  //       <Divider/>\r\n  //       <Item key=\"lista-personal\" style={{ display: !permisos.listaPersonal.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaPersonal}>\r\n  //           <TeamOutlined />\r\n  //           <span>Lista de Personal</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"lista-contratas\" style={{ display: !permisos.listaContratas.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaContratas}>\r\n  //           <IdcardOutlined />\r\n  //           <span>Lista de Contratas</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Operativa'>\r\n  //       <Divider/>\r\n  //       <SubMenu //ACTUALIZAR\r\n  //         key=\"sub3\"\r\n  //         title={\r\n  //           <span>\r\n  //             <CloudUploadOutlined />\r\n  //             <span>Actualizar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"actualizar-averiashfc\">\r\n  //           <Link to='/actualizar-averiashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //               Actualizar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-altashfc\">\r\n  //           <Link to='/actualizar-altashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-basicas\">\r\n  //           <Link to='/actualizar-basicas'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-speedy\">\r\n  //          <Link to='/actualizar-speedy'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //ASIGNAR\r\n  //         key=\"sub4\"\r\n  //         title={\r\n  //           <span>\r\n  //             <FileSearchOutlined />\r\n  //             <span>Asignar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"asignar-averiashfc\">\r\n  //           <Link to='/asignar-averiashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-altashfc\">\r\n  //           <Link to='/asignar-altashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-basicas\">\r\n  //           <Link to='/asignar-basicas'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-speedy\">\r\n  //           <Link to='/asignar-speedy'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //GESTION\r\n  //         key=\"sub5\"\r\n  //         title={\r\n  //           <span>\r\n  //             <ScheduleOutlined />\r\n  //             <span>Gestionar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"gestionar-averiashfc\">\r\n  //           <Link to='/gestionar-averiashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-altashfc\">\r\n  //           <Link to='/gestionar-altashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-basicas\">\r\n  //           <Link to='/gestionar-basicas'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-speedy\">\r\n  //           <Link to='/gestionar-speedy'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <Item key=\"produccion\">\r\n  //         <Link to='/produccion'>\r\n  //           <BarChartOutlined />\r\n  //           <span>Producción</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"registro-historico\">\r\n  //         <Link to='/registro-historico'>\r\n  //           <HistoryOutlined />\r\n  //           <span>Registro Historico</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n      // {/* <ItemGroup title='Logística'>\r\n      //   <Divider/>\r\n      //   <Item key=\"gestion-articulos\">\r\n      //     <Link to='/gestion-articulos'>\r\n      //       <SlidersOutlined />\r\n      //       <span>Gestion de Articulos</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      //   <SubMenu\r\n      //     key=\"sub6\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GroupOutlined />\r\n      //         <span>Almacen Central</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-central\">\r\n      //       <Link to='/entrada-almacen-central'>\r\n      //         <ImportOutlined />\r\n      //         <span>Entrada Inventario</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-central\">\r\n      //       <Link to='/salida-almacen-central'>\r\n      //         <ExportOutlined />\r\n      //         <span>Salida Inventario</span>\r\n      //       </Link> \r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-central\">\r\n      //       <Link to='/equipos-detalle-central'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"ferreteria-detalle-central\">\r\n      //       <Link to='/ferreteria-detalle-central'>\r\n      //         <ShopOutlined />\r\n      //         <span>Ferreteria Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub7\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GoldOutlined />\r\n      //         <span>Almacen Primario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-primario\">\r\n      //       <Link to='/entrada-almacen-primario'>\r\n      //         <ImportOutlined />\r\n      //         Entrada Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-primario\">\r\n      //       <Link to='/salida-almacen-primario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-primario\">\r\n      //       <Link to='/equipos-detalle-primario'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub8\"\r\n      //     title={\r\n      //       <span>\r\n      //         <CloudServerOutlined />\r\n      //         <span>Almacen Secundario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"lista-almacen-secundario\">\r\n      //       <Link to='/lista-almacen-secundario'>\r\n      //         <TableOutlined />\r\n      //         Lista\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-secundario\">\r\n      //       <Link to='/salida-almacen-secundario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <Item key=\"buscar-serie\">\r\n      //     <Link to='/buscar-serie'>\r\n      //       <SearchOutlined />\r\n      //       <span>Buscar Serie</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      // </ItemGroup> */}\r\n    // </Menu>\r\n  // )\r\n};\r\n\r\nMenuUsuario.propTypes = {\r\n  cargo: PropTypes.number\r\n}\r\n\r\nexport default MenuUsuario;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Layout } from 'antd';\r\n\r\nimport MenuUsuario from './MenuUsuario';\r\nimport config from '../../../constants/config';\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Index = ({collapsed, cargo}) => {\r\n  return (\r\n    <Sider \r\n      width={256}\r\n      theme=\"light\" \r\n      breakpoint=\"lg\"\r\n      trigger={null} \r\n      collapsible \r\n      collapsed={collapsed} \r\n      className=\"sider\"\r\n    >\r\n      <div className=\"brand\">\r\n      {!collapsed ? \r\n        <div className=\"full-logo\">\r\n          <img alt=\"full-logo\" src={config.logoFull} />\r\n        </div> \r\n        : \r\n        <div className=\"logo\">\r\n          <img alt=\"logo\" src={config.logoPath} />\r\n        </div>\r\n            \r\n      }\r\n      </div>\r\n      <div className=\"menu-container\">\r\n        <MenuUsuario cargo={cargo}/>\r\n      </div>\r\n    </Sider>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  collapsed: PropTypes.bool\r\n};\r\n\r\nexport default Index;\r\n","import React, { useState } from 'react';\r\nimport { Popover, Badge, List } from 'antd';\r\nimport { BellOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\n// import StateIcon from '../../common/StateIcon'\r\n\r\nconst notifications = [{title:'Hola', icon: 'success'},{title:'Hola', icon: 'error'}, {title:'Hola', icon: 'warning'}];\r\n\r\nconst Notificaciones = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <Popover\r\n      trigger=\"click\"\r\n      placement=\"bottomRight\"\r\n      overlayClassName=\"notification-popover\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n      content={\r\n        <div className=\"caja-notificaciones\" style={{ minWidth: '20rem' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={notifications}\r\n            locale={{\r\n              emptyText: <span>You have viewed all notifications.</span>,\r\n            }}\r\n            renderItem={item => (\r\n              <List.Item className=\"item-notificaciones\">\r\n                {/* <StateIcon \r\n                  estado={item.icon} \r\n                  style={{fontSize: '2rem', paddingRight: '.8rem'}}\r\n                /> */}\r\n                <List.Item.Meta\r\n                  className=\"datos-notificaciones\"                \r\n                  title={\r\n                    <span lines={1}>\r\n                      Orden Actualizada\r\n                    </span>\r\n                  }\r\n                  description=\"hola k tal como te va\"\r\n                />\r\n                <RightOutlined className=\"flecha-notificaciones\"/>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {notifications.length ? (\r\n            <div\r\n              // onClick={onAllNotificationsRead}\r\n              className=\"clear-button\"\r\n            >\r\n              <span>Limpiar Notificaciones</span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      }\r\n    >\r\n       <Badge\r\n        count={0}//numero de notificaciones\r\n        dot\r\n        offset={[-10, 10]}\r\n        className=\"icon-button\"\r\n      >\r\n        <BellOutlined className=\"icon-font\"/>\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n};\r\n\r\nexport default Notificaciones;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Avatar, Typography } from 'antd';\r\nimport { PoweroffOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from '../../../constants/config';\r\nimport { AuthToken } from '../../../services/authToken';\r\nimport { logout } from '../../../services/apiUsuario';\r\n\r\nexport default function OpcionesUsuario() { \r\n  const [usuario, setUsuario] = useState(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth) {\r\n      setUsuario(auth.decodedToken);\r\n    }\r\n  },[]);\r\n\r\n  const cerrarSesion = async () => {\r\n    await logout().then(async(response) => {//cerró sesion correctamente\r\n      if (response.status !== 'error') {\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        history.push('/login');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      console.log('Error cerrando sesión.')\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Menu key=\"user\" mode=\"horizontal\" >\r\n      <Menu.SubMenu\r\n        title={\r\n          <Fragment>\r\n            <span style={{ color: '#999', marginRight: 4 }}>\r\n              <span>Hola,</span>\r\n            </span>\r\n            <span>{usuario&&usuario.nombre}</span>\r\n            <Avatar style={{ marginLeft: 8 }} src={usuario&&usuario.imagen} />\r\n          </Fragment>\r\n        }\r\n      >\r\n        <Menu.Item key=\"Configuraciones\">\r\n          <Typography.Text type=\"sucess\">\r\n            <Link to='/atenea-system/perfil-usuario'>\r\n              <SettingOutlined />\r\n              Configuraciones\r\n            </Link>\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"SignOut\" onClick={cerrarSesion}>\r\n          <Typography.Text type=\"danger\">\r\n            <PoweroffOutlined/>\r\n            {/* <Trans>Sign out</Trans> */}Desconectar\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Layout, Spin } from 'antd';\r\nimport Sider from './Sider/index';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport config from '../../constants/config';\r\nimport Notificaciones from './Header/Notificaciones';\r\nimport OpcionesUsuario from './Header/OpcionesUsuario';\r\nimport PrivateLayout from './PrivateLayout';\r\n\r\nvar anchoContenedor = '256px';\r\n\r\nfunction Index({children, spinLoading, cargo}) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  if (collapsed) {\r\n    anchoContenedor = '80px'\r\n  } else {\r\n    anchoContenedor = '256px'\r\n  }\r\n\r\n  const styleContent = {\r\n    minHeight: 'calc(100vh - 94px - 3rem)',\r\n    marginTop: '.5rem',\r\n    // margin: `1rem`,\r\n    transition: 'margin .2s'\r\n  }\r\n  \r\n  const styleFooter = {\r\n    backgroundColor: 'white',\r\n    width: `100%`,\r\n    margin: `0px`,\r\n    padding: '16px 16px 24px 10px',\r\n    transition: 'margin .2s',\r\n    clear: 'both',\r\n    left: anchoContenedor,\r\n    bottom: 0,\r\n    right: 0\r\n  }\r\n\r\n  return (\r\n    <Spin \r\n      spinning={spinLoading} \r\n      tip=\"Cargando Interfaz...\" \r\n      size=\"large\"\r\n      className=\"spin-container\"\r\n    >\r\n      <Layout>\r\n        <Sider collapsed={collapsed} cargo={cargo}/>\r\n        <Layout className=\"site-layout\">\r\n          <Layout.Header \r\n            style={{ minWidth: collapsed && 'calc(100vw - 95px)'}}\r\n            className={classnames(\"header\", {\r\n              \"collapsed\": collapsed,\r\n            })}\r\n            id=\"layoutHeader\"\r\n          >\r\n          <div className=\"button\" onClick={() => setCollapsed(!collapsed)}>\r\n            {\r\n              collapsed ?\r\n              <MenuUnfoldOutlined className=\"text-primary\"/> : \r\n              <MenuFoldOutlined/>\r\n            }\r\n            </div>\r\n            <div className=\"right-container\">\r\n              <Notificaciones/>\r\n              <OpcionesUsuario/>\r\n            </div>\r\n          </Layout.Header>\r\n          <Layout.Content\r\n            className=\"site-layout-background\"\r\n            style={styleContent}\r\n          >\r\n            {children}\r\n          </Layout.Content>\r\n          <Layout.Footer style={styleFooter}>\r\n            Atenea System v{config.version} - 2020&copy;\r\n          </Layout.Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default PrivateLayout(Index)","import React, { Component } from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { rutas } from '../../constants/listaRutas';\r\nimport { session } from \"../../services/apiUsuario\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\n\r\nexport default function PrivateLayout(WrappedComponent) {\r\n  return class extends Component {  \r\n\r\n    constructor(props)   {\r\n      super(props)\r\n      this.state = {\r\n        spin: true,\r\n        cargo: null,\r\n      }\r\n    }\r\n    async componentDidMount() {\r\n      const token = Cookie.get(variables.TOKEN_STORAGE_KEY);\r\n      if (!token) {\r\n        document.location.href = (rutas.login);\r\n      } else {\r\n        const usuario = new AuthToken(token);\r\n        await session(true).then((data) => {\r\n          if(data.status === 'error') {\r\n            Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n            document.location.href = (rutas.login);\r\n          } else {\r\n            this.setState({spin: false, cargo: usuario.decodedToken.cargo })\r\n          }\r\n        }).catch((error) => {\r\n          this.setState({spin: false})\r\n          console.log(error);\r\n          console.log('error de sesion en (PrivateRoutes)');\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} spinLoading={this.state.spin} cargo={this.state.cargo}/>;\r\n    }\r\n  };\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from 'antd';\r\n\r\nconst TituloVista = ({titulo, subtitulo}) => {\r\n  const routes = [\r\n    {\r\n      breadcrumbName: subtitulo,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader\r\n      className=\"site-page-header\"\r\n      title={titulo}\r\n      breadcrumb={{routes}}\r\n    />\r\n  )\r\n};\r\n\r\nTituloVista.propTypes = {\r\n  titulo: PropTypes.string,\r\n  subtitulo: PropTypes.string\r\n}\r\n\r\nexport default TituloVista\r\n","import React from 'react'\r\nimport { Col, Row } from 'antd';\r\n\r\nexport default function Contenedor({children}) {\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '0 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n  return (\r\n    <Row style={style_row}>\r\n      <Col span={24} style={style_col}>\r\n      {children}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return '#FF351F' }\r\n  if (estado === 'Completado') { return '#9BB6C2'; }\r\n  if (estado === 'Iniciado') { return '#1890ff'; }\r\n  if (estado === 'Suspendido') { return '#ABFFBC' }\r\n  if (estado === 'Cancelado') { return '#80FF80'; }\r\n  if (estado === 'No Realizada') { return '#1414FF'; }\r\n};\r\n\r\nexport default function ChartBucket({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 300,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={300} padding={[30, 20, 60, 40]} data={data} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position=\"bucket*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartBucket.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","export const gpon = [\r\n  \"Reparación GPON\",\r\n  \"Reparación Gpon Movistar Uno\",\r\n  \"Reparacion Movistar Total Gpon\",\r\n  \"Instalación Rutina VA Gpon\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina VA GPON MT\",\r\n  \"Traslado GPON\",\r\n  \"Instalación rutina MT Gpon\",\r\n  \"Instalación rutina Bucle Gpon\",\r\n  \"Traslado GPON Movistar Total\",\r\n  \"Instalación Movistar uno Gpon\",\r\n  \"Instalación Gpon Movistar Tot\",\r\n  \"Instalación Migración Gpon\",\r\n  \"Instalación Migración Gpon MT\",\r\n  \"Instalación Migración Gpon MT\",\r\n  \"Instalación Gpon New\",\r\n  \"Instalación Movistar uno Gpon\",\r\n  \"Instalación Gpon Movistar Tot\",\r\n  \"Instalación Migración HFC a Gpon\",\r\n  \"Instalación Migración HFC a Gpon CC\",\r\n  \"Instalación Migración HFC a Gpon CC\",\r\n  \"Instalación Migración HFC a Gpon\",\r\n];\r\n\r\nexport const valoresExcelToa = {\r\n  bucket: \"Bucket\", \r\n  requerimiento: \"Requerimiento\",\r\n  estado: \"Estado\",\r\n  fecha_cita: \"Fecha Cita\",\r\n  motivo_no_realizado: \"Motivo No Realizado\",\r\n  subtipo_actividad: \"Subtipo Actividad\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  contrata: \"Contrata\",\r\n  tipo_agenda: \"Time Slot\",\r\n  sla_inicio: \"SLA_INICIO\",\r\n  sla_fin: \"SLA_FIN\"\r\n};","export function separarBucket(data=[]) {\r\n  let buckets = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => !buckets.includes(o.bucket) ? buckets.push(o.bucket): null);\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    buckets.forEach((b) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => d.bucket === b && d.estado === e).length;\r\n        newData.push({\r\n          bucket: String(b).substring(6),\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, buckets};\r\n  } else {\r\n    return {ordenes: [], buckets} ;\r\n  };\r\n};\r\n\r\nexport function separarGestor(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    gestores.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function separarMotivo(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let motivos = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.gestor && o.gestor.nombre) {\r\n        if (!gestores.includes(o.gestor.nombre)) gestores.push(o.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !motivos.includes(o.motivo_no_realizado) ? motivos.push(o.motivo_no_realizado) : null);\r\n    gestores.forEach((g) => {\r\n      motivos.forEach((m) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.gestor && d.gestor.nombre){\r\n            return d.gestor.nombre === g && d.motivo_no_realizado === m\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          motivo: m,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\n\r\nimport ChartBucket from './ChartBucket';\r\nimport { gpon, valoresExcelToa } from \"../../constants/valoresToa\";\r\nimport { separarBucket } from \"../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction IndicadorBucket({data, titulo, tipo, tecnologia}) {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [bucketsOrdenes, setBucketsOrdenes] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n     try {\r\n      if (data.length > 0) {\r\n        const ordenesFiltradas = data.filter((d) => gpon.includes(d.subtipo_actividad) === tecnologia)\r\n        setTotalOrdenes(ordenesFiltradas);\r\n        return resolve(ordenesFiltradas)\r\n      } else {\r\n        return reject([])\r\n      }\r\n     } catch (error) {\r\n       return reject(error)\r\n     }\r\n    }).then((ordenesFiltradas) => separarBucket(ordenesFiltradas)).then(({ordenes, buckets}) => {\r\n      setBucketsOrdenes(buckets);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>{titulo} / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={16}>\r\n          <ChartBucket data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n        <Col sm={8}>\r\n          <Row>\r\n          {\r\n            bucketsOrdenes && bucketsOrdenes.length > 0 ?\r\n            bucketsOrdenes.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.bucket === b).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={() => \r\n                saveAsCsv({ \r\n                  data: totalOrdenes.map((o) => {\r\n                    return ({\r\n                      ...o,\r\n                      carnet: o.tecnico && o.tecnico.carnet,\r\n                      tecnico: o.tecnico && o.tecnico.nombre ? o.tecnico.nombre + ' ' + o.tecnico.apellidos : '-',\r\n                      gestor: o.gestor ? o.gestor.nombre + ' ' + o.gestor.apellidos : '-',\r\n                      auditor: o.auditor ? o.auditor.nombre + ' ' + o.auditor.apellidos : '-',\r\n                      contrata: o.contrata ? o.contrata.nombre : '-'\r\n                    })\r\n                  }), \r\n                  fields: valoresExcelToa, \r\n                  filename: `data_${tipo}_${tecnologia ? 'gpon':'hfc'}_${moment().format('DD_MM_YY_HH_mm')}`\r\n                })\r\n            }>\r\n              Exportar\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nIndicadorBucket.propTypes = {\r\n  data: PropTypes.array,\r\n  titulo: PropTypes.string,\r\n  tipo: PropTypes.string,\r\n  tecnologia: PropTypes.bool\r\n}\r\n\r\nexport default IndicadorBucket","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\n// import colores from '../../../constants/colores';\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return '#FF351F' }\r\n  if (estado === 'Completado') { return '#9BB6C2'; }\r\n  if (estado === 'Iniciado') { return '#1890ff'; }\r\n  if (estado === 'Suspendido') { return '#ABFFBC' }\r\n  if (estado === 'Cancelado') { return '#80FF80'; }\r\n  if (estado === 'No Realizada') { return '#1414FF'; }\r\n  // if (estado === 'Pendiente') { return colores.warning; }\r\n  // if (estado === 'Completado') { return colores.success; }\r\n  // if (estado === 'Iniciado') { return '#1890ff'; }\r\n  // if (estado === 'Suspendido') { return colores.error; }\r\n  // if (estado === 'Cancelado') { return '#940000'; }\r\n  // if (estado === 'No Realizada') { return '#A5A5A5'; }\r\n};\r\n\r\nexport default function ChartGestor({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 400,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={400} padding={[30, 20, 140, 40]} data={data.filter((d) => d.gestor !== '-')} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position=\"gestor*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartGestor.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartGponGestor from './ChartGestor';\r\nimport { gpon } from \"../../constants/valoresToa\";\r\nimport { separarGestor } from \"../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction IndicadorGponGestor({data, titulo, tecnologia}) {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        if (data.length > 0) {\r\n          const ordenesFiltradas = data.filter((d) => gpon.includes(d.subtipo_actividad) === tecnologia)\r\n          setTotalOrdenes(ordenesFiltradas.filter((d) => d.tecnico && d.gestor));\r\n          return resolve(ordenesFiltradas)\r\n        } else {\r\n          return reject([])\r\n        }\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }).then((ordenesFiltradas) => separarGestor(ordenesFiltradas)).then(({ordenes, gestores}) => {\r\n      setGestores(gestores);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>{titulo} / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartGponGestor data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n        <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.filter((e) => e !== '-').map((g, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={g} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.gestor.nombre === g).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nIndicadorGponGestor.propTypes = {\r\n  data: PropTypes.array,\r\n  titulo: PropTypes.string,\r\n  tecnologia: PropTypes.bool\r\n};\r\n\r\nexport default IndicadorGponGestor","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\nexport default function ChartDevoluciones({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 400,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={400} padding={[30, 20, 140, 40]} data={data.filter((d) => d.gestor !== '-')} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"motivo\"]\r\n          }}\r\n          position=\"gestor*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'motivo'],\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartDevoluciones.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartDevolucionesGpon from './ChartDevoluciones';\r\nimport { gpon } from \"../../constants/valoresToa\";\r\nimport { separarMotivo } from \"../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\nconst estados = ['Cancelado','No Realizada']\r\n\r\nfunction IndicadorGponDevoluciones({data, titulo, tecnologia}){\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        if (data.length > 0) {\r\n          const ordenesFiltradas = data.filter((d) => gpon.includes(d.subtipo_actividad) && estados.includes(d.estado));\r\n          setTotalOrdenes(ordenesFiltradas.filter((d) => d.tecnico && d.gestor));\r\n          return resolve(ordenesFiltradas)\r\n        } else {\r\n          return reject([])\r\n        }\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }).then((ordenesFiltradas) => separarMotivo(ordenesFiltradas)).then(({ordenes, gestores}) => {\r\n      setGestores(gestores);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>{titulo} / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartDevolucionesGpon data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n        <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.filter((e) => e !== '-').map((g, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={g} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.gestor.nombre === g).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default IndicadorGponDevoluciones;\r\n  \r\n\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport IndicadoresGpon from \"../views/Dashboard/IndicadoresGpon\";\r\nimport IndicadoresHfc from \"../views/Dashboard/IndicadoresHfc\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.indicadoresGpon,\r\n    exact: true,\r\n    component: IndicadoresGpon,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: listaRutas.indicadoresHfc,\r\n    exact: true,\r\n    component: IndicadoresHfc,\r\n    nivel: permisos.todos\r\n  }\r\n]\r\n\r\nexport default rutas","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport IndicadorBucket from '../../components/dashboard/IndicadorBucket';\r\nimport IndicadorGestor from '../../components/dashboard/IndicadorGestor';\r\nimport IndicadorDevoluciones from '../../components/dashboard/IndicadorDevoluciones';\r\nimport variables from '../../constants/config';\r\n\r\nexport default function Dashboard() {\r\n  const [averias, setAverias] = useState([]);\r\n  const [altas, setAltas] = useState([]);\r\n  const socket = window.io(variables.socket, { transports: ['websocket'], secure: true, reconnection: true });\r\n  const indicadorRef1 = useRef(null);\r\n  const indicadorRef2 = useRef(null);\r\n  const indicadorRef3 = useRef(null);\r\n  const indicadorRef4 = useRef(null);\r\n  const indicadorRef5 = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scrollAutomatico();\r\n    socket.on('connect', function(s) {\r\n      socket.on('ordenesGraficos', ({averias, altas}) => {\r\n        const jsonAverias = new Array(JSON.parse(averias));\r\n        const jsonAltas = new Array(JSON.parse(altas));\r\n        if(jsonAverias && jsonAverias[0].length > 0) setAverias(jsonAverias[0]);\r\n        if(jsonAltas && jsonAltas[0].length > 0) setAltas(jsonAltas[0]);\r\n      });\r\n      socket.emit('obtenerOrdenes')\r\n    });\r\n    return () => socket.close();\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  const executeScroll = (number) => {\r\n    let arrayRefs = [indicadorRef1,indicadorRef2,indicadorRef3,indicadorRef4,indicadorRef5];\r\n    if(arrayRefs[number].current) arrayRefs[number].current.scrollIntoView({block: 'center', behavior: 'smooth'})\r\n  };\r\n\r\n  const scrollAutomatico = () => {\r\n    let i = 0;\r\n    setInterval(() => {\r\n      executeScroll(i);\r\n      if (i === 4) {\r\n        i = 0;\r\n      } else {\r\n        i= i+1\r\n      }\r\n    }, 30000);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Indicadores GPON\" subtitulo=\"Dashboard\"/>\r\n      <Contenedor>\r\n        {/* INDICADOR AVERIAS GPON */}\r\n        <div ref={indicadorRef1}>\r\n          <IndicadorBucket data={averias} titulo=\"Indicador Averias GPON\" tipo=\"averias\" tecnologia={true}/>\r\n        </div>\r\n        {/* INDICADOR DE ALTAS GPON */}\r\n        <div ref={indicadorRef2}>\r\n          <IndicadorBucket data={altas} titulo=\"Indicador Altas GPON\" tipo=\"altas\" tecnologia={true}/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES AVERIAS */}\r\n        <div ref={indicadorRef3}>\r\n          <IndicadorGestor data={averias} titulo=\"Indicador Gestores GPON (Averias)\" tecnologia={true}/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES ALTAS */}\r\n        <div ref={indicadorRef4}>\r\n          <IndicadorGestor data={altas} titulo=\"Indicador Gestores GPON (Altas)\" tecnologia={true}/>\r\n        </div>\r\n        {/* INDICADORES DEVOLUCIONES X GESTOR */}\r\n        <div ref={indicadorRef5}>\r\n          <IndicadorDevoluciones data={altas} titulo=\"Indicador Devoluciones GPON\" tecnologia={true}/>\r\n        </div>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport IndicadorBucket from '../../components/dashboard/IndicadorBucket';\r\nimport IndicadorGestor from '../../components/dashboard/IndicadorGestor';\r\nimport IndicadorDevoluciones from '../../components/dashboard/IndicadorDevoluciones';\r\nimport variables from '../../constants/config';\r\n\r\nexport default function Dashboard() {\r\n  const [averias, setAverias] = useState([]);\r\n  const [altas, setAltas] = useState([]);\r\n  const socket = window.io(variables.socket, { transports: ['websocket'], secure: true, reconnection: true });\r\n  const indicadorRef1 = useRef(null);\r\n  const indicadorRef2 = useRef(null);\r\n  const indicadorRef3 = useRef(null);\r\n  const indicadorRef4 = useRef(null);\r\n  const indicadorRef5 = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scrollAutomatico();\r\n    socket.on('connect', function(s) {\r\n      socket.on('ordenesGraficos', ({averias, altas}) => {\r\n        const jsonAverias = new Array(JSON.parse(averias));\r\n        const jsonAltas = new Array(JSON.parse(altas));\r\n        if(jsonAverias && jsonAverias[0].length > 0) setAverias(jsonAverias[0]);\r\n        if(jsonAltas && jsonAltas[0].length > 0) setAltas(jsonAltas[0]);\r\n      });\r\n      socket.emit('obtenerOrdenes')\r\n    });\r\n    return () => socket.close();\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  const executeScroll = (number) => {\r\n    let arrayRefs = [indicadorRef1,indicadorRef2,indicadorRef3,indicadorRef4,indicadorRef5];\r\n    if(arrayRefs[number].current) arrayRefs[number].current.scrollIntoView({block: 'center', behavior: 'smooth'})\r\n  };\r\n\r\n  const scrollAutomatico = () => {\r\n    let i = 0;\r\n    setInterval(() => {\r\n      executeScroll(i);\r\n      if (i === 4) {\r\n        i = 0;\r\n      } else {\r\n        i= i+1\r\n      }\r\n    }, 30000);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Indicadores HFC\" subtitulo=\"Dashboard\"/>\r\n      <Contenedor>\r\n        {/* INDICADOR AVERIAS HFC */}\r\n        <div ref={indicadorRef1}>\r\n          <IndicadorBucket data={averias} titulo=\"Indicador Averias HFC\" tipo=\"averias\" tecnologia={false}/>\r\n        </div>\r\n        {/* INDICADOR DE ALTAS HFC */}\r\n        <div ref={indicadorRef2}>\r\n          <IndicadorBucket data={altas} titulo=\"Indicador Altas HFC\" tipo=\"altas\" tecnologia={false}/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES AVERIAS */}\r\n        <div ref={indicadorRef3}>\r\n          <IndicadorGestor data={averias} titulo=\"Indicador Gestores HFC (Averias)\" tecnologia={false}/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES ALTAS */}\r\n        <div ref={indicadorRef4}>\r\n          <IndicadorGestor data={altas} titulo=\"Indicador Gestores HFC (Altas)\" tecnologia={false}/>\r\n        </div>\r\n        {/* INDICADORES DEVOLUCIONES X GESTOR */}\r\n        <div ref={indicadorRef5}>\r\n          <IndicadorDevoluciones data={altas} titulo=\"Indicador Devoluciones HFC\" tecnologia={false}/>\r\n        </div>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {string} parametros.idFiltro\r\n */\r\nexport const getEmpleados = async (toast, {metodo, page, limit, idFiltro}) => restPrivate({\r\n  url: 'empleados', method: 'GET', params: {metodo, page, limit, idFiltro}\r\n}, toast);\r\n\r\n/**\r\n * @param {string} value \r\n * @param {string} field \r\n */\r\nexport const buscarEmpleado = async (value, field) => restPrivate({\r\n  url: 'empleados/buscar', method: 'GET', params: { value, field }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {boolean} toast validar si mostrará avisos\r\n * @param {object} data\r\n * @param {string} data.id\r\n * @param {string} data.metodo el metodo\r\n * @param {number} data.cargo cargo a modificar\r\n * @param {Date} data.fecha_baja fecha de baja\r\n * @param {number} data.estado_empresa estado dentro de la empresa\r\n * @param {string} data.gestor\r\n * @param {string[]} data.tecnicos\r\n */\r\nexport const patchEmpleados = async (\r\n  toast, { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n) => restPrivate({\r\n  url: 'empleados', \r\n  method: 'PATCH', \r\n  data: { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n}, toast);\r\n\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postEmpleados = async (data) => restPrivate({\r\n  url: 'empleados', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id id del empleado\r\n * @param {object} data objeto a actualizar\r\n */\r\nexport const putEmpleados = async (id, data) => restPrivate({\r\n  url: 'empleados/' + id, method: 'PUT', data\r\n}, true);\r\n\r\n","import React, { useState } from 'react';\r\nimport { Button, Input, Radio  } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { buscarEmpleado } from '../../../services/apiEmpleado';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function HeaderEmpleados(abrirModalCrear, listarEmpleado, setEmpleados, setPageNumber, setTotalDocs) {\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n\r\n  async function buscarPersonal(value) {\r\n    if (value.length > 1) {\r\n      await buscarEmpleado(value, tipoBusqueda)\r\n        .then(({data}) => {\r\n          if (data.length > 0) {\r\n            setEmpleados(data)\r\n            setPageNumber(1)\r\n            setTotalDocs(data.length)\r\n          };\r\n        })\r\n        .catch((err) => console.log(err))\r\n    } else {\r\n      await listarEmpleado();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"header-tabla\">\r\n      <div className=\"busqueda\">\r\n        <Radio.Group \r\n          onChange={(e) => setTipoBusqueda(e.target.value)} \r\n          value={tipoBusqueda}\r\n          style={{ paddingTop: '.22rem' }}\r\n        >\r\n          <Radio value=\"nombre\">Nombre</Radio>\r\n          <Radio value=\"numero_documento\">Documento</Radio>\r\n          <Radio value=\"carnet\">Carnet</Radio>\r\n        </Radio.Group>\r\n        <Search\r\n          placeholder=\"Buscar personal\"\r\n          allowClear\r\n          enterButton={false}\r\n          onSearch={buscarPersonal}\r\n          style={{ width: 200, margin: 0 }}\r\n        />\r\n      </div>\r\n      <div className=\"boton-agregar\">\r\n        <Button\r\n          icon={<PlusOutlined/>}\r\n          onClick={abrirModalCrear}\r\n        >\r\n          Agregar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","const colores = {\r\n  'success': '#52c41a',\r\n  'error': '#EB2F2F',\r\n  'warning': '#F8C82E'\r\n};\r\n\r\nexport default colores;","import { Tag } from 'antd';\r\nimport { CheckCircleOutlined, ExclamationCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport React from 'react';\r\nimport cargos from '../../../constants/cargos';\r\nimport colores from '../../../constants/colores';\r\n\r\nexport function CargoTag({cargo}) {\r\n  switch (cargo) {\r\n    case cargos.ADMINISTRADOR:\r\n      return (<Tag color=\"geekblue\">Administrador</Tag>)\r\n    case cargos.JEFE_OPERACIONES:\r\n      return (<Tag color=\"blue\">Jefe de Operaciones</Tag>)\r\n    case cargos.JEFE_LOGISTICA:\r\n      return (<Tag color=\"cyan\">Jefe de Logistica</Tag>)\r\n    case cargos.LIDER_GESTION:\r\n      return (<Tag color=\"purple\">Lider de Gestion</Tag>)\r\n    case cargos.ASISTENTE_LOGISTICA:\r\n      return (<Tag color=\"green\">Asistente de Logistica</Tag>)\r\n    case cargos.JEFE_CONTRATA:\r\n      return (<Tag color=\"orange\">Jefe de Contrata</Tag>)\r\n    case cargos.GESTOR:\r\n      return (<Tag color=\"magenta\">Gestor</Tag>)\r\n    case cargos.ALMACENERO:\r\n      return (<Tag color=\"red\">Almacenero</Tag>)\r\n    case cargos.AUDITOR:\r\n      return (<Tag color=\"gold\">Auditor</Tag>)\r\n    case cargos.TECNICO:\r\n      return (<Tag color=\"volcano\">Tecnico</Tag>)\r\n    default:\r\n      return (<Tag>Sin cargo</Tag>)\r\n  }\r\n};\r\n\r\nexport function EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case 'Activo': \r\n      return (<Tag icon={<CheckCircleOutlined/>} color={colores.success}>{estado}</Tag>);\r\n    case 'Suspendido':\r\n      return (<Tag icon={<ExclamationCircleOutlined/>} color={colores.warning}>{estado}</Tag>)\r\n    case 'Inactivo':\r\n      return (<Tag icon={<CloseCircleOutlined />} color={colores.error}>{estado}</Tag>)\r\n    default:\r\n      return (<Tag>Desconocido</Tag>);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEmpleado({accion, visible, setVisible, empleado={}, contratas=[], guardar}) {\r\n  const [empleadoObj, setEmpleadoObj] = useState({numero_documento: Number(Date.now())});\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (empleado._id) setEmpleadoObj({\r\n      ...empleado, \r\n      email: empleado.usuario.email,\r\n      cargo: empleado.usuario.cargo,\r\n      contrata: empleado.contrata && empleado.contrata._id\r\n    });\r\n  },[empleado])\r\n\r\n\r\n  const limpiar = () => {\r\n    setVisible(false)\r\n  };\r\n\r\n  const onOk = () => {\r\n    form.validateFields().then(async(values) => {\r\n      setEmpleadoObj({numero_documento: Date.now()});\r\n      form.resetFields();\r\n      const obj = {\r\n        ...values,\r\n        usuario: {\r\n          email: values.email,\r\n          cargo: values.cargo\r\n        }\r\n      }\r\n      await guardar(obj);\r\n      setVisible(false);\r\n    }).catch(info => {\r\n      console.log('Validate Failed:', info);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={300}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? \"Crear Empleado\": \"Editar Empleado\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiar}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Form\r\n        name=\"form_empleado\"\r\n        layout=\"vertical\"\r\n        size=\"small\"\r\n        form={form}\r\n        initialValues={empleadoObj}\r\n        onValuesChange={(e) => setEmpleadoObj({...empleadoObj, ...e})}\r\n      >\r\n        <Form.Item\r\n          name=\"nombre\"\r\n          label=\"Nombre\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"apellidos\"\r\n          label=\"Apellidos\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Correo\"\r\n          rules={[{ required: true, type: \"email\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"cargo\"\r\n          label=\"Cargo\"\r\n          rules={[{ required: true, type: \"number\" }]}\r\n        >\r\n          <Select placeholder=\"Seleccionar cargo\" onChange={(e) => setEmpleadoObj({...empleadoObj, cargo: e})} allowClear>\r\n            <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n            <Option value={cargos.JEFE_CONTRATA}>Jefe de Contrata</Option>\r\n            <Option value={cargos.GESTOR}>Gestor</Option>\r\n            <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n            <Option value={cargos.AUDITOR}>Auditor</Option>\r\n            <Option value={cargos.TECNICO}>Tecnico</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        {\r\n          empleadoObj.cargo ? empleadoObj.cargo === cargos.TECNICO || empleadoObj.cargo === cargos.AUDITOR ? \r\n          <Form.Item\r\n            name=\"carnet\"\r\n            label=\"Carnet\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>:null:null\r\n        }\r\n        {\r\n          contratas && contratas.length > 0 ? \r\n          <Form.Item\r\n            name=\"contrata\"\r\n            label=\"Contrata\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Select placeholder=\"Seleccionar contrata\" onChange={(e) => setEmpleadoObj({...empleadoObj, contrata: e})} allowClear>\r\n            {\r\n              contratas.map((c,i) => (\r\n                <Option key={i} value={c._id}>{c.nombre}</Option>\r\n              ))\r\n            }\r\n            </Select>\r\n          </Form.Item>:null\r\n        }\r\n        <Form.Item \r\n          name=\"tipo_documento\"\r\n          label=\"Tipo de Documento\"\r\n        >\r\n          <Select placeholder=\"Seleccionar tipo\" onChange={e => setEmpleadoObj({...empleadoObj, tipo_documento: e})} allowClear>\r\n            <Option value=\"DNI\">DNI</Option>\r\n            <Option value=\"Otro\">Otro</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"numero_documento\"\r\n          label=\"Numero de Documento\"\r\n          rules={[{ required: false, type: 'string' }]}\r\n        >\r\n          <Input/>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEmpleado.propTypes = {\r\n  accion: PropTypes.string,\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  empleado: PropTypes.object,\r\n  contratas: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalEmpleado;\r\n\r\n\r\n","export const empleados = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_TECNICOS_GLOBAL: 'listaTecnicosGlobal',\r\n  LISTA_GESTORES: 'listaGestores',\r\n  LISTA_AUDITORES: 'listaAuditores',\r\n  RESET_PASS: 'resetPassword',\r\n  CERRAR_SESSION: 'cerrarSesion',\r\n  ACTUALIZAR_CARGO: 'actualizarPermisos',\r\n  ACTIVAR_CUENTA: 'activarCuenta',\r\n  EDITAR_ESTADO: 'editarEstadoEmpresa',\r\n  ACTUALIZAR_GESTOR: 'actualizarGestor',\r\n  ACTUALIZAR_AUDITOR: 'actualizarAuditor'\r\n};\r\n\r\nexport const contratas = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_NOMBRES: 'listaNombres'\r\n};\r\n\r\nexport const ordenes = {\r\n  SUBIR_DATA: 'subirData',\r\n  CRUZAR_DATA: 'cruzarData',\r\n  ORDENES_HOY: 'ordenesHoy'\r\n};\r\n\r\nexport const asistencias = {\r\n  LISTAR_TODO: 'listarTodo',\r\n  LISTAR_GESTOR: 'listarGestor'\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalPermisos({visible, setVisible, listarEmpleados, id}) {\r\n  const [cargo, setCargo] = useState(4);\r\n\r\n  async function actualizarCargo() {\r\n    await patchEmpleados(true, { id, metodo: empleados.ACTUALIZAR_CARGO, cargo } )\r\n      .then(() => setVisible(!visible))\r\n      .catch((error) => {\r\n        setVisible(false);\r\n        console.log(error);\r\n      })\r\n  };\r\n\r\n  const cambiarCargo = (value) => setCargo(value);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar Cargo\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={actualizarCargo}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Recuerda que no es posible otorgar un cargo superior \r\n        al tuyo y que todo cambio quedará registrado en el \r\n        sistema.\r\n      </p>\r\n      <p>Seleccionar Cargo:</p>\r\n      <Select\r\n        defaultValue={cargo}\r\n        onChange={cambiarCargo}\r\n        style={{ width: 180 }}\r\n      >\r\n        <Option value={cargos.LIDER_GESTION}>Lider de Gestion</Option>\r\n        <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n        <Option value={cargos.JEFE_CONTRATA}>Jefe de contrata</Option>\r\n        <Option value={cargos.GESTOR}>Gestor</Option>\r\n        <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n        <Option value={cargos.AUDITOR}>Auditor</Option>\r\n        <Option value={cargos.TECNICO}>Tecnico</Option>\r\n      </Select>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalPermisos.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalPermisos\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, DatePicker, Space } from 'antd';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEstado({visible, setVisible, listarEmpleados, id}) {\r\n  const [estado, setEstado] = useState(1);\r\n  const [fechaBaja, setFechaBaja] = useState('');\r\n\r\n  async function onOk() {\r\n    await patchEmpleados(true, { \r\n      id, \r\n      metodo: empleados.EDITAR_ESTADO,\r\n      fecha_baja: fechaBaja, \r\n      estado_empresa: estado\r\n    }).then(async () => {\r\n        setVisible(false);\r\n        await listarEmpleados();\r\n      }).catch((e) => console.log(e));\r\n  };\r\n\r\n  const cambiarFecha = (_,b) => setFechaBaja(b);\r\n\r\n  const cambiarEstado = (v) => setEstado(v);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Estado Empresa\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Activo\" tiene la cuenta habilitada y aparece en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Suspendido\" no podrá iniciar sesión en el sistema, pero seguirá apareciendo en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Inactivo\" no podrá iniciar sesión en el sistema y desaparecerá por completo de las listas del sistema (usuario de baja)  \r\n      </p>      \r\n      <Space direction=\"vertical\">\r\n        Seleccionar: \r\n        <Select \r\n          defaultValue={estado}\r\n          onChange={cambiarEstado}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Option value={1}>Activo</Option>\r\n          <Option value={2}>Suspendido</Option>\r\n          <Option value={3}>Inactivo</Option>\r\n        </Select>\r\n        Fecha de suspensión / baja:\r\n        <DatePicker onChange={cambiarFecha} />\r\n      </Space>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalEstado\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal } from 'antd';\r\nimport { \r\n  LockOutlined, \r\n  CloseCircleOutlined, \r\n  CaretUpOutlined,\r\n  UserOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport ModalPermisos from './ModalPermisos';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport ModalEstado from './ModalEstado';\r\n\r\nfunction ModalConfiguracion({visible, setVisible, id, listarEmpleados}) {\r\n  const [modalPermisos, setModalPermisos] = useState(false);\r\n  const [modalEstados, setModalEstados] = useState(false);\r\n\r\n  async function actualizarEmpleado(metodo) {\r\n    await patchEmpleados(true, { id, metodo })\r\n    .then(() => {\r\n      listarEmpleados();\r\n      setVisible(!visible);\r\n    })\r\n    .catch((error) => console.log(error))\r\n  };\r\n\r\n  const abrirModalPermisos = () => setModalPermisos(!modalPermisos);\r\n  const abrirModalEstado = () => setModalEstados(!modalEstados);\r\n\r\n  const onOk = async () => {\r\n    await listarEmpleados();\r\n    setVisible(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configuraciones\"\r\n      visible={visible}\r\n      width={250}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <Button \r\n        block\r\n        icon={<LockOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.RESET_PASS)}\r\n      >Reiniciar Contraseña</Button>\r\n      <Button \r\n        block\r\n        icon={<CloseCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.CERRAR_SESSION)}\r\n      >Cerrar Sessión</Button>\r\n      <Button \r\n        block\r\n        icon={<CaretUpOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalPermisos}\r\n      >Permisos</Button>\r\n      <Button \r\n        block\r\n        icon={<UserOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.ACTIVAR_CUENTA)}\r\n      >Activar Cuenta</Button>\r\n      <Button \r\n        block\r\n        danger\r\n        icon={<ExclamationCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalEstado}\r\n      >Cambiar Estado</Button>\r\n      {/* MODAL PARA CAMBIAR LOS PERMISOS DEL USUARIO */}\r\n      <ModalPermisos \r\n        visible={modalPermisos} \r\n        setVisible={setModalPermisos}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n      {/* MODAL PARA CAMBIAR EL ESTADO DEL EMPLEADO EN LA EMPRESA */}\r\n      <ModalEstado\r\n        visible={modalEstados}\r\n        setVisible={setModalEstados}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalConfiguracion.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  id: PropTypes.string,\r\n  listarEmpleados: PropTypes.func\r\n}\r\n\r\nexport default ModalConfiguracion\r\n\r\n","import React, { useState } from 'react';\r\nimport { EditTwoTone, SettingTwoTone } from '@ant-design/icons'\r\n\r\nimport colores from '../../../constants/colores';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport ModalConfiguracion from './ModalConfiguracion';\r\nimport { putEmpleados } from '../../../services/apiEmpleado';\r\n\r\nexport default function EmpleadoAcciones({ id, empleado, listarEmpleados, listaContratas }) {\r\n  const [visibleEmpleado, setVisibleEmpleado] = useState(false);\r\n  const [visibleConf, setVisibleConf] = useState(false);\r\n\r\n  async function actualizarEmpleado(data) {\r\n    await putEmpleados(id, data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <span>\r\n      <EditTwoTone \r\n        title=\"Editar\"\r\n        twoToneColor={colores.warning} \r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleEmpleado(true)}\r\n      />\r\n      <SettingTwoTone \r\n        title=\"Configuraciones\"\r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleConf(true)}\r\n      />\r\n      {/* MODAL PARA EDITAR EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"editar\"\r\n        empleado={empleado}\r\n        contratas={listaContratas}\r\n        visible={visibleEmpleado}\r\n        setVisible={setVisibleEmpleado}\r\n        guardar={actualizarEmpleado}\r\n      />\r\n      {/* MODAL PARA CONFIGURAR */}\r\n      <ModalConfiguracion\r\n        visible={visibleConf}\r\n        setVisible={setVisibleConf}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n    </span>\r\n  )\r\n};\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {string} metodo\r\n */\r\nexport const getContratas = async (toast, metodo) => restPrivate({\r\n  url: 'contratas', method: 'GET', params: {metodo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postContrata = async (data) => restPrivate({\r\n  url: 'contratas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n */\r\nexport const putContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PUT', data, \r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {object} data objeto a enviar\r\n * @param {bool} data.activo\r\n * @param {Date} data.fecha_baja\r\n */\r\nexport const patchContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PATCH', data\r\n}, true)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalle({visible, abrirModal, empleado={}}) {\r\n  return (\r\n    <Modal\r\n      width={450}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Aceptar\"\r\n      title=\"Detalle del Usuario\"\r\n      visible={visible}\r\n      onOk={abrirModal}\r\n      onCancel={abrirModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Descriptions layout=\"vertical\" bordered size=\"small\" column={2}>\r\n        {empleado.gestor&&(<Descriptions.Item label=\"Gestor:\">{empleado.gestor.nombre && empleado.gestor.nombre}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Tipo de Doc.:\">{empleado.tipo_documento}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Numero de Doc.:\">\r\n          <Text copyable>{empleado.numero_documento}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\">{empleado.fecha_nacimiento && moment(empleado.fecha_nacimiento).format('DD-MM-YYYY')}</Descriptions.Item>\r\n        {empleado.fecha_ingreso&&(<Descriptions.Item label=\"Fecha de Ingreso\">{moment(empleado.fecha_ingreso).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        {empleado.fecha_baja&&(<Descriptions.Item label=\"Fecha de Baja\">{moment(empleado.fecha_baja).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Nacionalidad\">{empleado.nacionalidad?empleado.nacionalidad:'-'}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Observación\" span={2}>{empleado.observacion}</Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrirModal: PropTypes.func,\r\n  empleado: PropTypes.object\r\n}\r\n\r\nexport default ModalDetalle\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Tooltip, Typography } from 'antd'\r\n\r\nimport Contenedor from '../../common/Contenedor'\r\nimport HeaderEmpleados from './HeaderEmpleados';\r\nimport { CargoTag, EstadoTag } from './EmpleadoTag';\r\nimport EmpleadoAcciones from './EmpleadoAcciones';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport { getEmpleados, postEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport ModalDetalle from './ModalDetalle';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaEmpleados() {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [limitNumber, setLimitNumber] = useState(20);\r\n  const [totalDocs, setTotalDocs] = useState(1);\r\n  const [dataEmpleados, setDataEmpleados] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [empleadoObj, setEmpleadoObj] = useState({});\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    listarEmpleados();\r\n    listarContratas();\r\n  //eslint-disable-next-line\r\n  },[pageNumber, limitNumber]);\r\n\r\n  async function listarEmpleados() {\r\n    setLoading(true);\r\n    await getEmpleados(\r\n      true, {\r\n        metodo: empleados.LISTA_TODO,\r\n        page:pageNumber, \r\n        limit:limitNumber\r\n      }\r\n    ).then(({data}) => {\r\n      setDataEmpleados(data.docs);\r\n      setTotalDocs(data.totalDocs)\r\n      setLoading(false);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error)\r\n    });\r\n  };\r\n\r\n  async function listarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function guardarEmpleado(data) {\r\n    await postEmpleados(data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const verDetalleEmpleado = (empleado) => {\r\n    setEmpleadoObj(empleado);\r\n    abrirModalDetalle();\r\n  }\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 150\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      dataIndex: 'apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: apellidos => (\r\n        <Tooltip placement=\"topLeft\" title={apellidos}>\r\n          {apellidos}\r\n        </Tooltip>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'usuario',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (u) => (\r\n        <Tooltip placement=\"topLeft\" title={u && u.email}>\r\n          {u && u.email}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      dataIndex: 'usuario',\r\n      width: 150,\r\n      render: (u) => <CargoTag cargo={u.cargo}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c && c.nombre}>\r\n          {c && c.nombre}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 150,\r\n      render: (c) => {\r\n        if (c) {\r\n          return (<Text copyable>{c}</Text>)\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_empresa',\r\n      width: 150,\r\n      render: (estado) => <EstadoTag estado={estado}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (id, row) => <EmpleadoAcciones id={id} empleado={row} listarEmpleados={listarEmpleados} listaContratas={listaContratas}/>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => verDetalleEmpleado(record)\r\n          }\r\n        }}\r\n        className=\"tabla-personal\"\r\n        title={() => HeaderEmpleados(abrirModalCrear, listarEmpleados, setDataEmpleados, setPageNumber, setTotalDocs)}\r\n        columns={columnas}\r\n        dataSource={dataEmpleados}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ x: '1250px', y: '65vh' }}\r\n        pagination={{\r\n          current: pageNumber,\r\n          total: totalDocs,\r\n          defaultPageSize: limitNumber,\r\n          pageSizeOptions: [10,20,50,100],\r\n          onChange: (page) => setPageNumber(page),\r\n          onShowSizeChange: (_,limit) => setLimitNumber(limit)\r\n        }}\r\n      />\r\n      {/* MODAL PARA CREAR EL NUEVO EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"crear\"\r\n        contratas={listaContratas}\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={guardarEmpleado}\r\n      />\r\n      {/* MODAL DETALLE DEL EMPLEADO */}\r\n      <ModalDetalle\r\n        visible={modalDetalle}\r\n        abrirModal={abrirModalDetalle}\r\n        empleado={empleadoObj}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction ModalContrata({visible, setVisible, accion, guardar, contrata={}}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [ruc, setRuc] = useState(null);\r\n  const [fecha_incorporacion, setFecha_incorporacion] = useState(null);\r\n  const [observacion, setObservacion] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (contrata.nombre) {\r\n      setNombre(contrata.nombre);\r\n      setRuc(contrata.ruc);\r\n      setFecha_incorporacion(contrata.fecha_incorporacion);\r\n      setObservacion(contrata.observacion);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[contrata]);\r\n\r\n  const limpiarEstados = async () => {\r\n    setNombre(null);\r\n    setRuc(null);\r\n    setFecha_incorporacion(null);\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  const onOk = async () => {\r\n    await guardar({nombre, ruc, \r\n      fecha_incorporacion: fecha_incorporacion && fecha_incorporacion, \r\n      observacion: observacion && observacion\r\n    }, contrata.id);\r\n    limpiarEstados();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      width={270}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? 'Crear Contrata':'Editar Contrata'}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarEstados}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n        <p>Nombre de Contrata:</p>\r\n        <Input\r\n          placeholder=\"Nombre de Contrata\" \r\n          defaultValue={nombre} \r\n          onChange={e => setNombre(e.target.value)}\r\n        /><br/><br/>\r\n        <p>RUC:</p>\r\n        <Input \r\n          placeholder=\"RUC\" \r\n          defaultValue={ruc} \r\n          onChange={e => setRuc(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Fecha de Incorporación:</p>\r\n        <DatePicker\r\n          defaultValue={fecha_incorporacion && moment.utc(fecha_incorporacion)} \r\n          onChange={(_, date) => setFecha_incorporacion(date)}\r\n        /><br/><br/>\r\n        <p>Observacion:</p>\r\n        <Input\r\n          placeholder=\"Observacion\" \r\n          defaultValue={observacion} \r\n          onChange={e => setObservacion(e.target.value)}\r\n        /><br/><br/>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalContrata.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  accion: PropTypes.string,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object,\r\n}\r\n\r\nexport default ModalContrata\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker, Modal, Radio, Space } from 'antd';\r\n\r\n\r\nfunction ModalEliminar({visible, setVisible, guardar, contrata={}}) {\r\n  const [activo, setActivo] = useState(true);\r\n  const [fecha_baja, setFecha_baja] = useState(null);\r\n\r\n  async function onOk() {\r\n    if (contrata._id) {\r\n      await guardar(contrata._id, { activo, fecha_baja });\r\n      limpiarModal();\r\n    } else {  \r\n      console.log('objeto contrata vacio.')\r\n    }\r\n  };\r\n\r\n  const cambiarEstado = (e) => setActivo(e.target.value);\r\n  const cambiarFecha = (_,f) => setFecha_baja(f);\r\n\r\n  const limpiarModal = () => {\r\n    setActivo(true);\r\n    setFecha_baja(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={250}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title=\"Desactivar Contrata\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Space direction=\"vertical\">\r\n        <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n          *La contrata no se eliminará de la base de datos, pero si dejará de aparecer en las listas del sistema.\r\n        </p>\r\n        Seleccionar estado:\r\n        <Radio.Group onChange={cambiarEstado} value={activo}>\r\n          <Radio value={true}>Activo</Radio>\r\n          <Radio value={false}>Inactivo</Radio>\r\n        </Radio.Group>\r\n        Seleccionar fecha de baja:\r\n        <DatePicker onChange={cambiarFecha}/>\r\n      </Space>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEliminar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object\r\n};\r\n\r\nexport default ModalEliminar;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Tag } from 'antd';\r\nimport { EditTwoTone, PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../common/Contenedor';\r\nimport { getContratas, patchContrata, postContrata, putContrata } from '../../../services/apiContrata';\r\nimport { contratas } from '../../../constants/metodos';\r\nimport ModalContrata from './ModalContrata';\r\nimport colores from '../../../constants/colores';\r\nimport ModalEliminar from './ModalEliminar';\r\n\r\nexport default function TablaContratas() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataContratas, setDataContratas] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalEliminar, setModalEliminar] = useState(false);\r\n  const [contrata, setContrata] = useState({});\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    setLoading(true);\r\n    await getContratas(true, contratas.LISTA_TODO).then(({data}) => {\r\n      setLoading(false);\r\n      setDataContratas(data && data);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  async function crearContrata(data) {\r\n    await postContrata(data)\r\n      .then(async() => await cargarContratas())\r\n      .catch((error) => {\r\n        console.log(error);\r\n        abrirModalCrear();\r\n      })\r\n  };\r\n\r\n  async function editarContrata(data) {\r\n    if (contrata._id) {\r\n      await putContrata(contrata._id, data)\r\n        .then(async() => await cargarContratas())\r\n        .catch((error) => {\r\n          console.log(error);\r\n          abrirModalEditar();\r\n        })\r\n    }\r\n  };\r\n\r\n  async function eliminarContrata(id, data) {\r\n    await patchContrata(id, data)\r\n      .then(async() => await cargarContratas())\r\n      .catch(error => {\r\n        console.log(error);\r\n        abrirModalEliminar();\r\n      })\r\n  }\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalEliminar = () => setModalEliminar(!modalEliminar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'activo',\r\n      width: 150,\r\n      render: (a) => {\r\n        if (a) {\r\n          return (<Tag color=\"success\">Activo</Tag>)\r\n        } else {\r\n          return (<Tag color=\"error\">Inactivo</Tag>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Inicio',\r\n      dataIndex: 'fecha_incorporacion',\r\n      width: 150,\r\n      render: (f) => f?moment(f).format('DD-MM-YYYY'):'-'\r\n    },\r\n    {\r\n      title: 'Fecha Baja',\r\n      dataIndex: 'fecha_baja',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY'): '-'\r\n    },\r\n    {\r\n      title: 'Observación',\r\n      dataIndex: 'observacion'\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (_, row) => (\r\n        <span>\r\n          <EditTwoTone\r\n            title=\"Editar\"\r\n            twoToneColor={colores.warning} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEditar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n          <DeleteTwoTone \r\n            title=\"Configuraciones\"\r\n            twoToneColor={colores.error} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEliminar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        style={{ marginBottom: '1rem' }}\r\n        className=\"tabla-personal\"\r\n        title={() => \r\n          <Button \r\n            icon={<PlusOutlined/>}\r\n            onClick={abrirModalCrear}\r\n          >\r\n            Agregar\r\n          </Button>\r\n        }\r\n        columns={columnas}\r\n        dataSource={dataContratas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={false}\r\n      />\r\n      {/* MODAL PARA AGREGAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={crearContrata}\r\n        accion=\"crear\"\r\n      />\r\n      {/* MODAL PARA EDITAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalEditar}\r\n        setVisible={setModalEditar}\r\n        guardar={editarContrata}\r\n        contrata={contrata}\r\n        accion=\"editar\"\r\n      />\r\n      {/* MODAL ELIMINAR CONTRATA */}\r\n      <ModalEliminar\r\n        visible={modalEliminar}\r\n        setVisible={setModalEliminar}\r\n        guardar={eliminarContrata}\r\n        contrata={contrata}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport ListaPersonal from \"../views/GestionPersonal/ListaPersonal\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.listaPersonal,\r\n    exact: true,\r\n    component: ListaPersonal,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: listaRutas.listaContratas,\r\n    exact: true,\r\n    component: ListaContratas,\r\n    nivel: permisos.listaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport TablaEmpleados from '../../components/gestionEmpleados/personal/TablaEmpleados';\r\n\r\nexport default function ListaPersonal() {\r\n  return (\r\n    <div>\r\n      <TituloVista\r\n        titulo=\"Lista de Personal\"\r\n        subtitulo=\"Usuarios y Personal\"\r\n      />\r\n      <TablaEmpleados/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport TablaContratas from '../../components/gestionEmpleados/contrata/TablaContratas';\r\n\r\nexport default function ListaContratas() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Contratas\" subtitulo=\"Usuarios y Personal\"/>\r\n      <TablaContratas/>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * @param {array} data \r\n * @param {string} field \r\n */\r\nexport async function obtenerFiltroId(data=[], field, persona=false) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n      let isNull = false;\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null && e[field]._id && e[field]._id !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field]._id)\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: persona ? e[field].nombre + ' ' + e[field].apellidos : e[field].nombre,\r\n                value: e[field]._id\r\n              })\r\n            } \r\n          } else {\r\n            isNull = true;\r\n          };\r\n        });\r\n        \r\n        if (isNull) {\r\n          return resolve([...filtrosArray, { text: '-', value: '-'}]);\r\n        } else {\r\n          return resolve(filtrosArray);\r\n        };\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nexport async function obtenerFiltroNombre(data=[], field) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field])\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: e[field],\r\n                value: e[field]\r\n              })\r\n            } \r\n          };\r\n        });\r\n  \r\n        return resolve(filtrosArray);\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select, Table, Button } from 'antd';\r\nimport { CheckCircleOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction TablaTecnicos({gestores=[], loadingGestores, auditores=[], loadingAuditores}) {\r\n  const [dataTecnicos, setDataTecnicos] = useState([]);\r\n  const [loadingTecnicos, setLoadingTecnicos] = useState(false);\r\n  const [loadingAsignarGestor, setLoadingAsignarGestor] = useState(false);\r\n  const [loadingAsignarAuditor, setLoadingAsignarAuditor] = useState(false);\r\n  const [tecnicosSeleccionados, setTecnicosSeleccionados] = useState([]);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [auditorSeleccionado, setAuditorSeleccionado] = useState(null);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroAuditor, setFiltroAuditor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarEmpleados();\r\n  },[]);\r\n\r\n  async function cargarEmpleados() {\r\n    setLoadingTecnicos(true);\r\n    await getEmpleados(true, { metodo: empleados.LISTA_TECNICOS_GLOBAL }).then(async({data}) => {\r\n        if (data) {\r\n          obtenerFiltroId(data, 'contrata').then((f) => setFiltroContrata(f))\r\n          obtenerFiltroId(data, 'gestor', true).then((f) => setFiltroGestor(f))\r\n          obtenerFiltroId(data, 'auditor', true).then((f) => setFiltroAuditor(f))\r\n          setDataTecnicos(data);\r\n        }\r\n      }).catch((error) => console.log(error)).finally(() => setLoadingTecnicos(false));\r\n  };\r\n\r\n  async function asignarTecnico(gestor=true) {\r\n    if (gestor) {\r\n      if (tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarGestor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_GESTOR, gestor: gestorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarGestor(false));\r\n      } else {\r\n        console.log('no hay tecnicos seleccionado')\r\n      }; \r\n    } else {\r\n      if (auditorSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarAuditor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_AUDITOR, auditor: auditorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarAuditor(false));\r\n      } else {\r\n        console.log('no hay tecnicos o auditor seleccionado')\r\n      }\r\n    }\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      width: 150,\r\n      dataIndex: 'nombre',\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      width: 150,\r\n      dataIndex: 'apellidos',\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      width: 100,\r\n      dataIndex: 'carnet'\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      width: 150,\r\n      dataIndex: 'contrata',\r\n      filters: filtroContrata,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => c.nombre && c.nombre\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 150,\r\n      dataIndex: 'gestor',\r\n      filters: filtroGestor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined && r.gestor !== null) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (gestor) => {\r\n        if (gestor && gestor.nombre && gestor.apellidos) {\r\n          return gestor.nombre + ' ' + gestor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Auditor',\r\n      width: 150,\r\n      dataIndex: 'auditor',\r\n      filters: filtroAuditor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.auditor\r\n        } else if( r.auditor !== undefined) {\r\n          return r.auditor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (auditor) => {\r\n        if (auditor && auditor.nombre && auditor.apellidos) {\r\n          return auditor.nombre + ' ' + auditor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <p>Asignar Gestor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingGestores}\r\n        defaultValue={gestorSeleccionado}\r\n        onChange={e => setGestorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        gestores.length > 0 ? \r\n        gestores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarGestor ? <LoadingOutlined spin/>: <CheckCircleOutlined/>}\r\n        onClick={asignarTecnico}\r\n      >Asignar</Button>\r\n      <p>Asignar Auditor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingAuditores}\r\n        defaultValue={auditorSeleccionado}\r\n        onChange={e => setAuditorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            console.log(input, option)\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        auditores.length > 0 ? \r\n        auditores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarAuditor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n        onClick={() => asignarTecnico(false)}\r\n      >Asignar</Button>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        dataSource={dataTecnicos}\r\n        loading={loadingTecnicos}\r\n        columns={columnas}\r\n        rowSelection={{\r\n          columnWidth: 30,\r\n          selectedRowKeys: tecnicosSeleccionados,\r\n          onChange: (e) => setTecnicosSeleccionados(e)\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: 20,\r\n          pageSizeOptions: [20,50,100],\r\n        }}\r\n        scroll={{ y: '60vh' }}\r\n      />      \r\n    </div>\r\n  )\r\n}\r\n\r\nTablaTecnicos.propTypes = {\r\n  gestores: PropTypes.array,\r\n  loadingGestores: PropTypes.bool,\r\n  auditores: PropTypes.array,\r\n  loadingAuditores: PropTypes.bool\r\n}\r\n\r\nexport default TablaTecnicos\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {Date} parametros.fecha_inicio\r\n * @param {Date} parametros.fecha_fin\r\n */\r\nexport const getAsistencias = async ({metodo, page, limit, fecha_inicio, fecha_fin}) => restPrivate({\r\n  url: 'asistencia', method: 'GET', params: {metodo, page, limit, fecha_inicio, fecha_fin}\r\n}, true);","import moment from 'moment';\r\n/**\r\n * @param {array} data \r\n */\r\nexport default async function ordenarAsistencia(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.tecnico.nombre && i.apellidos === obj.tecnico.apellidos);\r\n          if (aux !== -1 && obj.createdAt ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              nombre: obj.tecnico.nombre,\r\n              apellidos: obj.tecnico.apellidos,\r\n              gestor: {\r\n                nombre: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n                _id: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor._id: '-',\r\n              },\r\n              auditor: {\r\n                nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n                _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n              },\r\n              observacion: obj.observacion,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          let field = moment(obj.createdAt).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            nombre: obj.tecnico.nombre,\r\n            apellidos: obj.tecnico.apellidos,\r\n            gestor: {\r\n              nombre: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n              _id: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor._id: '-',\r\n            },\r\n            auditor: {\r\n              nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n              _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n            },\r\n            observacion: obj.observacion,\r\n            [field]: {\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n};","const estadoAsistencia = {\r\n  FALTA: 'F',\r\n  ASISTIO: 'A',\r\n  DESCANSO: 'D',\r\n  PERMISO: 'P',\r\n  SUSPENDIDO: 'S',\r\n  DESCANSO_MEDICO: 'DM',\r\n  EXAMEN_MEDICO: 'EM',\r\n};\r\n\r\nexport default estadoAsistencia;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tag } from 'antd';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\n\r\nfunction EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case estadoAsistencia.FALTA:\r\n      return (<Tag color=\"error\">{estado}</Tag>);\r\n    case estadoAsistencia.ASISTIO:\r\n      return (<Tag color=\"success\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO:\r\n      return (<Tag color=\"gold\">{estado}</Tag>);\r\n    case estadoAsistencia.PERMISO:\r\n      return (<Tag color=\"blue\">{estado}</Tag>);\r\n    case estadoAsistencia.SUSPENDIDO:\r\n      return (<Tag color=\"warning\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO_MEDICO:\r\n      return (<Tag color=\"geekblue\">{estado}</Tag>);\r\n    case estadoAsistencia.EXAMEN_MEDICO:\r\n        return (<Tag color=\"purple\">{estado}</Tag>);\r\n    // case  estado === 'BA':\r\n    //   return (<Tag color=\"blue\">{estado}</Tag>);\r\n    default:\r\n      return (<Tag>-</Tag>)\r\n  };\r\n};\r\n\r\nEstadoTag.propTypes = {\r\n  estado: PropTypes.string\r\n};\r\n\r\nexport default EstadoTag;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Col, DatePicker, Popover, Row, Statistic, Table, Tag } from 'antd';\r\nimport { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getAsistencias } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport colores from '../../../constants/colores';\r\nimport ordenarAsistencia from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst columnasDefecto = [\r\n  {\r\n    title: '#',\r\n    width: 50,\r\n    align: 'center',\r\n    render: (_,__,i) => i+1\r\n  }, \r\n  {\r\n    title: 'Tecnico',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Gestor',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Fecha',\r\n    width: 100\r\n  }\r\n]\r\n\r\nexport default function TablaAsistencias() {\r\n  const [diaInicio, setDiaInicio] = useState(null);\r\n  const [diaFin, setDiaFin] = useState(null);\r\n  const [diasSemana, setDiasSemana] = useState([]);\r\n  const [columnas, setColumnas] = useState(columnasDefecto);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [rutas, setRutas] = useState({total:0,activas:0});\r\n\r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [diasSemana, filtroGestores])\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        page: 1,\r\n        limit: 20,\r\n        fecha_inicio: diaInicio,\r\n        fecha_fin: diaFin\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistencia(data.filter((e) => e.tecnico !== null))\r\n      }).then((resultado) => {\r\n        setDataAsistencias(resultado);\r\n        obtenerFiltroId(resultado, 'gestor', true).then((f) => setFiltroGestores(f));\r\n        obtenerFiltroId(resultado, 'auditor', true).then((f) => setFiltroAuditores(f));\r\n        rutasAtivas(resultado)\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n\r\n  function cambiarSemana(dia) {\r\n    if (dia) {\r\n      let weekStart = dia.clone().startOf('week');\r\n      let weekEnd = dia.clone().endOf('week');\r\n      setDiaInicio(moment(weekStart).format('YYYY-MM-DD'));\r\n      setDiaFin(moment(weekEnd).format('YYYY-MM-DD'))\r\n      let days = [];\r\n      for (let i = 0; i <= 6; i++) {\r\n        days.push(moment(weekStart).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setDiasSemana(days);\r\n    } else {\r\n      setDiaInicio(null);\r\n      setDiaFin(null);\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    let hoy = moment().format('DD-MM');\r\n    if (diasSemana.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      },{\r\n        title: 'Tecnico',\r\n        dataIndex: 'nombre',\r\n        width: 300,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }, {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        filters: filtroGestores,\r\n        onFilter: (c, record) => {\r\n          if (record.gestor && c) {\r\n            return record.gestor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        filters: filtroAuditores,\r\n        onFilter: (c, record) => {\r\n          if (record.auditor && c) {\r\n            return record.auditor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'En Ruta',\r\n        dataIndex: hoy,\r\n        width: 150,\r\n        align: 'center',\r\n        filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n        onFilter: (c, record) => {\r\n          if (record[hoy]) {\r\n            if(!record[hoy].iniciado && !c) return true\r\n            return record[hoy].iniciado === c\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        render: (e) => {\r\n          if (e) {\r\n            if (e.iniciado) {\r\n              return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><Tag color={colores.success}><CheckCircleOutlined/></Tag></button>\r\n              </Popover>)\r\n            } else {\r\n              return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n            }\r\n          } else {\r\n            return <Tag color={colores.error}>No</Tag>\r\n          }\r\n        }\r\n      }]\r\n      const columnsAux = diasSemana.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a) => {\r\n            if (a && a.estado && a.observacion && a.observacion !== '-') {\r\n              return (<Popover content={a.observacion} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><EstadoTag estado={a.estado}/></button>\r\n              </Popover>)\r\n            } else {\r\n              return (<EstadoTag estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n  //funcion para contar las rutas activas\r\n  function rutasAtivas(data) {\r\n    let total = 0;\r\n    let activas = 0;\r\n    let hoy = moment().format('DD-MM');\r\n    if (data.length > 0) {\r\n      data.forEach((e) => {\r\n        if (e[hoy] && e[hoy].estado) {\r\n          total = total +1;\r\n          if (e[hoy].iniciado) activas = activas +1;\r\n        }\r\n      });\r\n    };\r\n    setRutas({total, activas})\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <DatePicker \r\n            onChange={cambiarSemana} \r\n            picker=\"week\" \r\n            style={{ marginRight: '.5rem' }}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <Statistic \r\n            title=\"Rutas Activas (Hoy)\" \r\n            value={rutas.activas} \r\n            suffix={`/ ${rutas.total}`}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas}\r\n        dataSource={dataAsistencias}\r\n        pagination={{\r\n          defaultPageSize: 20\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { ClusterOutlined, CheckSquareOutlined } from '@ant-design/icons'\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TablaTecnicos from '../../components/operativa/listaRutas/TablaTecnicos';\r\nimport { getEmpleados } from '../../services/apiEmpleado';\r\nimport { empleados } from '../../constants/metodos';\r\nimport TablaAsistencias from '../../components/operativa/listaRutas/TablaAsistencias';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function ListaRutas() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [loadingGestores, setLoadingGestores] = useState(false);\r\n  const [listaAuditores, setListaAuditores] = useState([]);\r\n  const [loadingAuditores, setLoadingAuditores] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarAuditores();\r\n  },[]);\r\n\r\n  async function cargarGestores() {\r\n    setLoadingGestores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES }).then(({data}) => {\r\n      if(data) setListaGestores([...data, { _id: null, nombre: '-', apellidos: '' }]);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingGestores(false));\r\n  };\r\n\r\n  async function cargarAuditores() {\r\n    setLoadingAuditores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_AUDITORES}).then(({data}) => {\r\n      if(data) setListaAuditores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAuditores(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <ClusterOutlined />\r\n                Asignar Rutas\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <TablaTecnicos\r\n              gestores={listaGestores}\r\n              loadingGestores={loadingGestores}\r\n              auditores={listaAuditores}\r\n              loadingAuditores={loadingAuditores}\r\n            />\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckSquareOutlined />\r\n                Asistencia\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <TablaAsistencias/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas, permisos } from '../../constants/listaRutas';\r\nimport ListaRutas from \"../../views/Operativa/ListaRutas\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.listaRutas,\r\n    exact: true,\r\n    component: ListaRutas,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default array","export const averias = {\r\n  TIPO: 'averiashfc',\r\n  CODIGO_ZONAL: 'codofcadm',\r\n  CODIGO_REQUERIMIENTO: 'codreq',\r\n  CODIGO_CLIENTE: 'codcli',\r\n  NOMBRE_CLIENTE: 'nomcli',\r\n  CODIGO_CTR: 'codctr',\r\n  DESCRIPCION_CTR: 'desnomctr',\r\n  CODIGO_NODO: 'codnod',\r\n  CODIGO_TROBA: 'nroplano',\r\n  DISTRITO: 'desdtt',\r\n  //direccion -START\r\n  destipvia: 'destipvia',\r\n  desnomvia: 'desnomvia',\r\n  numvia: 'numvia',\r\n  despis: 'despis',\r\n  desint: 'desint',\r\n  desmzn: 'desmzn',\r\n  deslot: 'deslot',\r\n  destipurb: 'destipurb',\r\n  desurb: 'desurb',\r\n  //direccion -END\r\n  FECHA_REGISTRO: 'fec_regist',\r\n  CODIGO_MOTIVO: 'codmotv',\r\n  DETALLE_MOTIVO: 'desmotv',\r\n  TIPO_REQUERIMIENTO: 'tipreqfin',\r\n  DETALLE_TRABAJO: 'desobsordtrab',\r\n  TELEFONO_CONTACTO: 'tel_cont_cc',\r\n  TELEFONO_REFERENCIA: 'tel_cont_ref_cc',\r\n  NUMERO_REITERADA: 'numaverei',\r\n  TIPO_TECNOLOGIA: 'tiptecnologia',\r\n  // CODIGO_SEGMENTO: 'codsegmento',\r\n  // TELEFONO: 'telefono',\r\n  //detalle\r\n  // CODIGO_ORDEN: 'codordtrab',\r\n  // CODIGO_INCIDENCIA: 'codinc',\r\n};","import * as XLSX from 'xlsx';\r\n\r\nexport default async function convertirExcel(excel){\r\n  return new Promise(\r\n    function(resolve, reject) {\r\n      try {\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n\r\n        reader.onload = (event) => {\r\n          let bstr = event.target.result;\r\n          const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\r\n          /* Get first worksheet */\r\n          const wsname = wb.SheetNames[0];\r\n          const ws = wb.Sheets[wsname];\r\n          /* Convert array of arrays */\r\n          const data = XLSX.utils.sheet_to_json(ws);\r\n\r\n          let a = [];\r\n\r\n          data.map((objeto) => {\r\n            return a.push(\r\n              Object.keys(objeto).reduce((c, k) => (\r\n                // eslint-disable-next-line\r\n                c[k.trim().toLowerCase()] = objeto[k], c\r\n              ), {})\r\n            );\r\n          });\r\n          return resolve(a);                   \r\n        }\r\n\r\n        if (rABS) {\r\n          reader.readAsBinaryString(excel);\r\n        } else {\r\n          reader.readAsArrayBuffer(excel);\r\n        }\r\n\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }\r\n  );\r\n}","export default function numeroFecha(numeroDeDias, utc){\r\n  var diasDesde1900 = 25567 + 2;\r\n  // 86400 es el número de segundos en un día, luego multiplicamos por 1000 para obtener milisegundos.\r\n  let fecha = new Date((numeroDeDias - diasDesde1900) * 86400 * 1000);\r\n  //false para los valores que de frente suban\r\n  //true para los valores que necesitan tratamiento\r\n  if (utc) {\r\n    return fecha;\r\n  } else {\r\n    return (new Date(fecha.setHours(fecha.getHours() + 5)))\r\n  }\r\n}","import numeroFecha from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { averias } from '../../constants/valoresOrdenes';\r\n\r\nconst codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAverias(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes\r\n    .filter((e) => codctrArray.includes(String(e[averias.CODIGO_CTR])))\r\n    .map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n\r\n    if (isEmpty(orden[averias.TELEFONO])) {verificado = false}\r\n    if (isEmpty(String(orden[averias.DISTRITO]).trim())) {verificado = false}\r\n    if (isNaN(orden[averias.CODIGO_REQUERIMIENTO])) {verificado = false}\r\n\r\n    return ({\r\n      key: indice,\r\n      verificado,\r\n      tipo: averias.TIPO,\r\n      codigo_zonal: orden[averias.CODIGO_ZONAL] !== undefined && orden[averias.CODIGO_ZONAL],\r\n      codigo_requerimiento : orden[averias.CODIGO_REQUERIMIENTO] !== undefined && orden[averias.CODIGO_REQUERIMIENTO],\r\n      codigo_cliente: orden[averias.CODIGO_CLIENTE] !== undefined && orden[averias.CODIGO_CLIENTE],\r\n      nombre_cliente: orden[averias.NOMBRE_CLIENTE] !== undefined && orden[averias.NOMBRE_CLIENTE],\r\n      codigo_ctr: orden[averias.CODIGO_CTR] !== undefined && orden[averias.CODIGO_CTR],\r\n      descripcion_ctr: orden[averias.DESCRIPCION_CTR] !== undefined && orden[averias.DESCRIPCION_CTR],\r\n      codigo_nodo: orden[averias.CODIGO_NODO] !== undefined && orden[averias.CODIGO_NODO],\r\n      codigo_troba: orden[averias.CODIGO_TROBA] !== undefined && orden[averias.CODIGO_TROBA],\r\n      distrito: orden[averias.DISTRITO] !== undefined && orden[averias.DISTRITO],\r\n      direccion: (orden[averias.destipvia] !== undefined ? orden[averias.destipvia]:'')\r\n                  + (orden[averias.desnomvia] !== undefined ? ' '+orden[averias.desnomvia]:'')\r\n                  + (orden[averias.numvia] !== undefined ? ' '+orden[averias.numvia]:'')\r\n                  + (orden[averias.despis] !== undefined ? ' '+orden[averias.despis]:'')\r\n                  + (orden[averias.desint] !== undefined ? (' Int. ' + orden[averias.desint]):'')\r\n                  + (orden[averias.desmzn] !== undefined ? (' Mz. ' + orden[averias.desmzn]):'')\r\n                  + (orden[averias.deslot] !== undefined ? (' Lt. ' + orden[averias.deslot]):'')\r\n                  + (orden[averias.destipurb] !== undefined ? ' '+orden[averias.destipurb]:'')\r\n                  + (orden[averias.desurb] !== undefined ? ' '+orden[averias.desurb]:''),\r\n                  // .replace(/false|,/g, ''),\r\n      fecha_registro : !isNaN(Number(orden[averias.FECHA_REGISTRO])) && numeroFecha(orden[averias.FECHA_REGISTRO]),\r\n      codigo_motivo: orden[averias.CODIGO_MOTIVO] !== undefined && orden[averias.CODIGO_MOTIVO],\r\n      detalle_motivo : orden[averias.DETALLE_MOTIVO] !== undefined && orden[averias.DETALLE_MOTIVO].replace(/,/g, ''),\r\n      tipo_requerimiento: orden[averias.TIPO_REQUERIMIENTO] !== undefined && orden[averias.TIPO_REQUERIMIENTO],\r\n      detalle_trabajo: orden[averias.DETALLE_TRABAJO] !== undefined && (orden[averias.DETALLE_TRABAJO]).replace(/,/g, ''),\r\n      telefono_contacto: orden[averias.TELEFONO_CONTACTO] !== undefined && orden[averias.TELEFONO_CONTACTO],\r\n      telefono_referencia: orden[averias.TELEFONO_REFERENCIA] !== undefined && orden[averias.TELEFONO_REFERENCIA],\r\n      numero_reiterada: orden[averias.NUMERO_REITERADA] !== undefined && orden[averias.NUMERO_REITERADA],\r\n      tipo_tecnologia: orden[averias.TIPO_TECNOLOGIA] !== undefined && orden[averias.TIPO_TECNOLOGIA],\r\n    })\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n}","import { averias } from '../../constants/valoresOrdenes';\r\nimport { pendientesAverias } from './asignarAverias'\r\n\r\nexport default async function asignarValores(obj, tipo, estado) {\r\n  switch (tipo) {\r\n    case averias.TIPO:\r\n      if (estado === 1) {\r\n        return await pendientesAverias(obj);\r\n      } else {\r\n        return false   \r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}","import { restPrivate } from './requestHelper';\r\n\r\nexport const getOrdenes = async (toast, {metodo, tipo}) => restPrivate({\r\n  url: 'ordenes', method: 'GET', params: {metodo, tipo}\r\n}, toast);\r\n\r\nexport const getIndicadores = async (toast, {tipo}) => restPrivate({\r\n  url: 'ordenes/actividades', method: 'GET', params: {tipo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} body\r\n * @param {string} body.metodo\r\n * @param {array} body.ordenes\r\n * @param {object} body.orden\r\n */\r\nexport const postOrdenes = async ({metodo, ordenes, orden}) => restPrivate({\r\n  url: 'ordenes', method: 'POST', data: { ordenes, metodo, orden}\r\n},true);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Radio, Row, Statistic, Upload } from 'antd';\r\nimport { UploadOutlined, SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport variables from '../../../constants/config';\r\nimport convertirExcel from '../../../libraries/convertirExcel';\r\nimport asignarValores from '../../../libraries/asignarValores';\r\nimport { getOrdenes, postOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\n\r\nfunction ActualizarOrdenes({tipoOrden}) {\r\n  const [estadoOrden, setEstadoOrden] = useState(1)\r\n  const [estadoArchivo, setEstadoArchivo] = useState('done');\r\n  const [nombreArchivo, setNombreArchivo] = useState('');\r\n  const [ordenesObtenidas, setOrdenesObtenidas] = useState([]);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setEstadoArchivo('done');\r\n    setNombreArchivo('');\r\n    setOrdenesObtenidas([]);\r\n  },[estadoOrden]);\r\n\r\n  async function guardarArchivo() {\r\n    if (ordenesObtenidas.length === 0) {\r\n      cogoToast.warn('No hay ordenes para subir.', { position: 'top-right' });\r\n    } else {\r\n      setLoadingButton(true);\r\n      await postOrdenes({metodo: ordenes.SUBIR_DATA, ordenes: ordenesObtenidas })\r\n        .then(async() => {\r\n          cogoToast.info('Sincronizando ordenes con TOA...', { position: 'top-right' });\r\n          return await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo: tipoOrden})\r\n        }).catch((err) => console.log(err));\r\n      setLoadingButton(false);  \r\n    }\r\n  };\r\n\r\n  function cargarArchivo(file) {\r\n    //actualizar el estado y el no mbre del archivo\r\n    setEstadoArchivo('uploading');\r\n    setNombreArchivo(file.name);\r\n    //validar si es un archivo excel\r\n    if (!variables.formatosAdmitidos.includes(file.type)) {\r\n      setEstadoArchivo('error');\r\n      cogoToast.warn('Formato Incorrecto.', { position: 'top-right' })\r\n      return false;\r\n    };\r\n    //convertir excel a json\r\n    convertirExcel(file).then(async(objJson) => {\r\n      //obtener los valores necesarios, actualizar estado y guardar\r\n      await asignarValores(objJson, tipoOrden, estadoOrden).then((data) => {\r\n        setEstadoArchivo('done');\r\n        setOrdenesObtenidas(data);\r\n        cogoToast.success(`${data.length} Ordenes encontradas.`, {position: 'top-right'});\r\n      });\r\n    }).catch((err) => {\r\n      setEstadoArchivo('error');\r\n      cogoToast.error('Error convirtiendo el archivo', {position: 'top-right'})\r\n      console.log(err);\r\n    })\r\n    //evita enviar peticiuones http\r\n    return false;\r\n  };\r\n\r\n  const removerArchivo = () => {\r\n    setNombreArchivo('');\r\n    setEstadoArchivo('done');\r\n    setOrdenesObtenidas([]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={10} md={10} lg={12} xl={12} spellCheck>\r\n          <p>Tipo de Archivo:</p>\r\n          <Radio.Group onChange={(e) => setEstadoOrden(e.target.value)} value={estadoOrden}>\r\n            <Radio value={1}>\r\n              Pendientes\r\n            </Radio>\r\n            <Radio value={2}>\r\n              Liquidadas\r\n            </Radio>\r\n          </Radio.Group>\r\n          <div style={{width: '14rem', margin: '1rem 0', }}>\r\n            <Upload \r\n              accept=\".xls,.xlsx\"\r\n              beforeUpload={cargarArchivo}\r\n              onRemove={removerArchivo}\r\n              fileList={[{uid: '-1', name: nombreArchivo, status: estadoArchivo}]}\r\n            >\r\n              <Button>\r\n                <UploadOutlined />{` `}Subir Archivo\r\n              </Button>\r\n            </Upload>\r\n          </div>\r\n        </Col>\r\n        <Col sm={14} md={14} lg={12} xl={12}>\r\n          <Statistic title=\"Ordenes\" value={ordenesObtenidas.length}/>\r\n          <Button \r\n            style={{ marginTop: '.5rem' }} \r\n            type=\"primary\" \r\n            icon={loadingButton ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n            onClick={guardarArchivo}\r\n          >\r\n            Guardar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n     \r\n    </div>\r\n  )\r\n};\r\n\r\nActualizarOrdenes.propTypes = {\r\n  tipoOrden: PropTypes.string\r\n};\r\n\r\nexport default ActualizarOrdenes\r\n\r\n","/**\r\n * \r\n * @param {string} string \r\n */\r\nexport default function capitalizar(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Tag } from 'antd';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nfunction TagEstado({estado}) {\r\n  switch (estado) {\r\n    case 'cancelado':\r\n      return <Tag>{capitalizar(estado)}</Tag>\r\n    case 'completado':\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case 'iniciado':\r\n      return <Tag color=\"geekblue\">{capitalizar(estado)}</Tag>\r\n    case 'no realizada':\r\n      return <Tag color=\"magenta\">{capitalizar(estado)}</Tag>\r\n    case 'pendiente':\r\n      return <Tag color=\"orange\">{capitalizar(estado)}</Tag>\r\n    case 'suspendido':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    default:\r\n      return <Tag>-</Tag>\r\n  }\r\n}\r\n\r\nTagEstado.propTypes = {\r\n  estado: PropTypes.string\r\n}\r\n\r\nexport default TagEstado\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from './TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasAverias(filtroDistrito=[],filtroBucket=[],filtroEstadoToa=[],filtroContrata=[], filtroGestor=[]) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 60\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r) => {\r\n        if (r) {\r\n          return <Tag color=\"#E5302F\">{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return <Tag>{moment().diff(fecha, 'hours')}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    }\r\n  ]\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { CloudSyncOutlined, EditFilled, LoadingOutlined, ReloadOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport columnasAverias from './columnasAverias'\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\n\r\nfunction TablaOrdenes({ gestores, contratas, tipo }) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingCruzar, setLoadingCruzar] = useState(false);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (dataOrdenes.length > 0) {\r\n      obtenerFiltroNombre(dataOrdenes, 'distrito').then((f) => setFiltroDistrito(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'bucket').then((f) => setFiltroBucket(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'estado_toa').then((f) => setFiltroEstadoToa(f));\r\n      obtenerFiltroId(dataOrdenes, 'contrata').then((f) => setFiltroContrata(f));\r\n      obtenerFiltroId(dataOrdenes, 'gestor', true).then((f) => setFiltroGestor(f));\r\n    };\r\n  },[dataOrdenes])\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_HOY })\r\n      .then(({data}) => setDataOrdenes(data))\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function sincronizarData() {\r\n    setLoadingCruzar(true);\r\n    await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo})\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCruzar(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button\r\n          icon={loadingCruzar ? <LoadingOutlined spin/>:<CloudSyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={sincronizarData}\r\n        >Sincronizar</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<EditFilled/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Editar Bucket</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Asignar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => console.log(record)\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasAverias(filtroDistrito,filtroBucket,filtroEstadoToa,filtroContrata,filtroGestor)}\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nTablaOrdenes.propTypes = {\r\n  gestores: PropTypes.array,\r\n  contratas: PropTypes.array\r\n}\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined } from '@ant-design/icons'\r\n\r\nimport { averias } from '../../../constants/valoresOrdenes';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport TablaOrdenes from '../../../components/operativa/administrarOrdenes/TablaOrdenes';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAverias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Ordenes\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <ActualizarOrdenes\r\n                tipoOrden={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Lista de Ordenes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <TablaOrdenes \r\n                tipo={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as lisaRutas, permisos } from '../../constants/listaRutas';\r\nimport AdministrarAverias from \"../../views/Operativa/Administrar/AdministrarAverias\";\r\nimport AdministrarAltas from \"../../views/Operativa/Administrar/AdministrarAltas\";\r\nimport AdministrarBasicas from \"../../views/Operativa/Administrar/AdministrarBasicas\";\r\nimport AdministrarSpeedy from \"../../views/Operativa/Administrar/AdministrarSpeedy\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.adminAveriasHfc,\r\n    exact: true,\r\n    component: AdministrarAverias,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminAltasHfc,\r\n    exact: true,\r\n    component: AdministrarAltas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminBasicas,\r\n    exact: true,\r\n    component: AdministrarBasicas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminspeedy,\r\n    exact: true,\r\n    component: AdministrarSpeedy,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react'\r\n\r\nexport default function AdministrarAltas() {\r\n  return (\r\n    <div>\r\n      administrar altas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarBasicas() {\r\n  return (\r\n    <div>\r\n      administrar basicas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarSpeedy() {\r\n  return (\r\n    <div>\r\n      administrar speedy\r\n    </div>\r\n  )\r\n}\r\n","import listaRutas from './listaRutas';\r\nimport administrarOrdenes from './administrarOrdenes';\r\n\r\nconst rutasOperativa = [\r\n  ...listaRutas,\r\n  ...administrarOrdenes\r\n];\r\n\r\nexport default rutasOperativa;","import dashboard from './routes/dashboard';\r\nimport gestionPersonal from './routes/gestionPersonal';\r\nimport operativa from './routes/operativa';\r\n\r\nconst arregloRutas = [\r\n  ...dashboard,\r\n  ...gestionPersonal,\r\n  ...operativa\r\n]\r\n\r\nexport default arregloRutas;","import React from 'react';\r\nimport { Button, Result } from 'antd';\r\n\r\nimport Contenedor from '../common/Contenedor';\r\nimport { rutas } from '../../constants/listaRutas';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Contenedor>\r\n       <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle=\"Lo sentimos, no tienes autorizacion para entrar a esta página.\"\r\n        extra={<Button type=\"primary\" onClick={() => window.location.pathname = rutas.indicadoresGpon}>Inicio</Button>}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction PrivateRoute({ component: Component, nivel=[], ...rest }) {\r\n  const [usuario, setUsuario] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setUsuario(new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY)).decodedToken);\r\n  },[nivel])\r\n\r\n  if(nivel.includes(0)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else if (usuario && nivel.includes(usuario.cargo)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else {\r\n    return (<Route {...rest} render={() => (<NotFound/>)}/>)\r\n  }\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.func,\r\n  nivel: PropTypes.array\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'moment/locale/es-mx';\r\nimport es_ES from 'antd/es/locale/es_ES';\r\n\r\nimport './App.css';\r\nimport { rutas } from './constants/listaRutas';\r\nimport Index from './views/Index';\r\nimport Login from './views/Login';\r\nimport Layout from './components/layout';\r\nimport routes from './routes';\r\nimport PrivateRoute from './components/layout/PrivateRoute';\r\n\r\nexport default function App() {\r\n  return (\r\n    <ConfigProvider locale={es_ES}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path={rutas.login} component={Login}/>\r\n          <Layout>\r\n          {routes.map((route, index) => (\r\n              <PrivateRoute \r\n                key={index}\r\n                path={route.path}\r\n                exact={route.exact}\r\n                nivel={route.nivel}\r\n                component={\r\n                  props => (<route.component {...props}/>)\r\n                }\r\n              />\r\n            )\r\n          )}\r\n          </Layout>\r\n        </Switch>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  console.log(process.env.NODE_ENV === 'production');\r\n  console.log('serviceWorker' in navigator);\r\n  console.log(isLocalhost);\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />\r\n  //</React.StrictMode>\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(console.log);\r\n"],"sourceRoot":""}