{"version":3,"sources":["constants/cargos.js","constants/listaRutas.js","views/Index.js","constants/config.js","services/requestHelper.js","services/apiUsuario.js","services/authToken.js","views/Login.js","components/layout/Sider/MenuUsuario.js","components/layout/Sider/index.js","components/layout/Header/Notificaciones.js","components/layout/Header/OpcionesUsuario.js","components/layout/index.js","components/layout/PrivateLayout.js","components/common/TituloContent.js","components/common/Contenedor.js","constants/colores.js","components/dashboard/indicadoresGpon/ChartGponBucket.js","constants/valoresToa.js","libraries/separarField.js","components/dashboard/indicadoresGpon/IndicadorGponBucket.js","components/dashboard/indicadoresGpon/ChartGponGestor.js","components/dashboard/indicadoresGpon/IndicadorGponGestor.js","components/dashboard/indicadoresGpon/ChartDevolucionesGpon.js","components/dashboard/indicadoresGpon/IndicadorGponDevoluciones.js","services/apiContrata.js","constants/metodos.js","components/gestionEmpleados/contrata/ModalContrata.js","components/gestionEmpleados/contrata/ModalEliminar.js","components/gestionEmpleados/contrata/TablaContratas.js","views/GestionPersonal/ListaContratas.js","routes/dashboard.js","views/Dashboard/IndicadoresGpon.js","services/apiEmpleado.js","components/gestionEmpleados/personal/HeaderEmpleados.js","components/gestionEmpleados/personal/EmpleadoTag.js","components/gestionEmpleados/personal/ModalEmpleado.js","components/gestionEmpleados/personal/ModalPermisos.js","components/gestionEmpleados/personal/ModalEstado.js","components/gestionEmpleados/personal/ModalConfiguracion.js","components/gestionEmpleados/personal/EmpleadoAcciones.js","components/gestionEmpleados/personal/ModalDetalle.js","components/gestionEmpleados/personal/TablaEmpleados.js","routes/gestionPersonal.js","views/GestionPersonal/ListaPersonal.js","libraries/obtenerFiltro.js","components/operativa/listaRutas/TablaTecnicos.js","services/apiAsistencia.js","libraries/ordenarAsistencias.js","constants/estadoAsistencia.js","components/operativa/listaRutas/EstadoTag.js","components/operativa/listaRutas/TablaAsistencias.js","views/Operativa/ListaRutas.js","routes/operativa/listaRutas.js","constants/valoresOrdenes.js","libraries/convertirExcel.js","libraries/numeroFecha.js","libraries/asignarValores/asignarAverias.js","libraries/asignarValores/index.js","services/apiOrden.js","components/operativa/administrarOrdenes/ActualizarOrdenes.js","libraries/capitalizar.js","components/operativa/administrarOrdenes/TagEstado.js","components/operativa/administrarOrdenes/columnasAverias.js","components/operativa/administrarOrdenes/TablaOrdenes.js","views/Operativa/Administrar/AdministrarAverias.js","routes/operativa/administrarOrdenes.js","views/Operativa/Administrar/AdministrarAltas.js","views/Operativa/Administrar/AdministrarBasicas.js","views/Operativa/Administrar/AdministrarSpeedy.js","routes/operativa/index.js","routes.js","components/layout/NotFound.js","components/layout/PrivateRoute.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["cargos","TODO","ADMINISTRADOR","JEFE_OPERACIONES","JEFE_LOGISTICA","LIDER_GESTION","ASISTENTE_LOGISTICA","JEFE_CONTRATA","GESTOR","ALMACENERO","AUDITOR","TECNICO","rutas","permisos","todos","listaContratas","grupoOperativa","administrarOrdenes","gestionarOrdenes","Index","href","variables","urlApi","public","TOKEN_STORAGE_KEY","logoPath","logoFull","version","formatosAdmitidos","restAuth","config","a","closeLoading","cogoToast","loading","hideAfter","position","role","newAxiosRequest","axios","create","baseURL","then","data","hide","success","message","errors","error","Error","catch","err","response","console","log","errData","undefined","Object","keys","warn","request","restPrivate","toast","headers","Authorization","Cookie","get","status","String","remove","document","location","login","url","method","session","logout","AuthToken","token","this","decodedToken","nombre","id","cargo","imagen","gestor","exp","jwtDecode","e","isExpired","Date","expiresAt","Login","history","useHistory","values","set","push","useEffect","isValid","type","justify","align","style","backgroundColor","height","xs","sm","md","lg","xl","className","name","initialValues","remember","onFinish","Item","hasFeedback","rules","required","autoComplete","prefix","UserOutlined","placeholder","min","Password","LockOutlined","htmlType","SubMenu","Menu","Divider","ItemGroup","getPath","window","pathname","substring","items","titulo","children","grupo","key","icon","DashboardOutlined","ruta","TeamOutlined","IdcardOutlined","CarryOutOutlined","FileSearchOutlined","ScheduleOutlined","MenuUsuario","theme","mode","defaultSelectedKeys","map","i","includes","title","c","to","sub","Sider","Layout","collapsed","width","breakpoint","trigger","collapsible","alt","src","notifications","Notificaciones","useState","visible","setVisible","placement","overlayClassName","onVisibleChange","v","content","minWidth","itemLayout","dataSource","locale","emptyText","renderItem","item","Meta","lines","description","RightOutlined","length","count","dot","offset","BellOutlined","OpcionesUsuario","usuario","setUsuario","auth","cerrarSesion","color","marginRight","marginLeft","Text","SettingOutlined","onClick","PoweroffOutlined","PrivateLayout","WrappedComponent","spinLoading","setCollapsed","styleFooter","margin","padding","transition","clear","left","bottom","right","spinning","tip","size","Header","classnames","MenuUnfoldOutlined","MenuFoldOutlined","Content","minHeight","marginTop","Footer","props","state","spin","setState","Component","TituloVista","routes","breadcrumbName","subtitulo","breadcrumb","Contenedor","borderRadius","span","WebkitBoxShadow","MozBoxShadow","boxShadow","colores","ChartGponBucket","display","alignItems","justifyContent","autoFit","filter","val","adjust","marginRatio","fields","callback","estado","warning","label","b","fill","fontSize","fontWeight","shared","gpon","valoresExcelToa","bucket","requerimiento","fecha_cita","motivo_no_realizado","subtipo_actividad","carnet","tecnico","auditor","contrata","tipo_agenda","sla_inicio","sla_fin","separarBucket","buckets","estados","newData","forEach","o","numOrdenes","d","ordenes","separarGestor","gestores","g","separarMotivo","motivos","m","motivo","Title","Typography","IndicadorGponBucket","tipo","totalOrdenes","setTotalOrdenes","dataOrdenes","setDataOrdenes","loadingOrdenes","setLoadingOrdenes","bucketsOrdenes","setBucketsOrdenes","horaActualizado","setHoraActualizado","saveAsCsv","useJsonToCsv","Promise","resolve","reject","dataGpon","finally","moment","format","cargarOrdenes","level","marginBottom","value","suffix","apellidos","filename","ChartGponGestor","IndicadorGponGestor","setGestores","ChartDevolucionesGpon","IndicadorGponDevoluciones","getContratas","metodo","params","postContrata","putContrata","patchContrata","empleados","contratas","asistencias","ModalContrata","accion","guardar","setNombre","ruc","setRuc","fecha_incorporacion","setFecha_incorporacion","observacion","setObservacion","limpiarEstados","onOk","cancelText","okText","onCancel","destroyOnClose","centered","defaultValue","onChange","target","utc","_","date","ModalEliminar","activo","setActivo","fecha_baja","setFecha_baja","_id","limpiarModal","direction","Group","f","TablaContratas","setLoading","dataContratas","setDataContratas","modalCrear","setModalCrear","modalEditar","setModalEditar","modalEliminar","setModalEliminar","setContrata","cargarContratas","abrirModalCrear","abrirModalEditar","abrirModalEliminar","columnas","render","__","dataIndex","row","EditTwoTone","twoToneColor","paddingRight","DeleteTwoTone","rowKey","PlusOutlined","columns","scroll","y","pagination","ListaContratas","TituloContent","path","listaRutas","exact","component","averias","setAverias","altas","setAltas","socket","io","indicadorRef1","useRef","indicadorRef2","indicadorRef3","indicadorRef4","indicadorRef5","scrollAutomatico","on","s","jsonAverias","Array","JSON","parse","jsonAltas","emit","close","executeScroll","number","arrayRefs","current","scrollIntoView","block","behavior","setInterval","ref","nivel","getEmpleados","page","limit","idFiltro","buscarEmpleado","field","patchEmpleados","estado_empresa","tecnicos","postEmpleados","putEmpleados","Search","Input","CargoTag","EstadoTag","CheckCircleOutlined","ExclamationCircleOutlined","CloseCircleOutlined","Option","Select","ModalEmpleado","empleado","numero_documento","Number","now","empleadoObj","setEmpleadoObj","Form","useForm","form","email","validateFields","resetFields","obj","info","layout","onValuesChange","allowClear","tipo_documento","ModalPermisos","listarEmpleados","setCargo","ModalEstado","setEstado","fechaBaja","setFechaBaja","ModalConfiguracion","modalPermisos","setModalPermisos","modalEstados","setModalEstados","actualizarEmpleado","CaretUpOutlined","danger","EmpleadoAcciones","visibleEmpleado","setVisibleEmpleado","visibleConf","setVisibleConf","SettingTwoTone","ModalDetalle","abrirModal","bordered","column","copyable","fecha_nacimiento","fecha_ingreso","nacionalidad","TablaEmpleados","pageNumber","setPageNumber","limitNumber","setLimitNumber","totalDocs","setTotalDocs","dataEmpleados","setDataEmpleados","modalDetalle","setModalDetalle","setListaContratas","docs","listarContratas","abrirModalDetalle","ellipsis","showTitle","u","onRow","record","onDoubleClick","listarEmpleado","setEmpleados","tipoBusqueda","setTipoBusqueda","paddingTop","enterButton","onSearch","HeaderEmpleados","x","total","defaultPageSize","pageSizeOptions","onShowSizeChange","obtenerFiltroId","persona","filtrosArray","isNull","findIndex","text","obtenerFiltroNombre","TablaTecnicos","loadingGestores","auditores","loadingAuditores","dataTecnicos","setDataTecnicos","loadingTecnicos","setLoadingTecnicos","loadingAsignarGestor","setLoadingAsignarGestor","loadingAsignarAuditor","setLoadingAsignarAuditor","tecnicosSeleccionados","setTecnicosSeleccionados","gestorSeleccionado","setGestorSeleccionado","auditorSeleccionado","setAuditorSeleccionado","filtroContrata","setFiltroContrata","filtroGestor","setFiltroGestor","filtroAuditor","setFiltroAuditor","cargarEmpleados","asignarTecnico","filters","onFilter","r","indexOf","showSearch","filterOption","input","option","toLowerCase","LoadingOutlined","rowSelection","columnWidth","selectedRowKeys","getAsistencias","fecha_inicio","fecha_fin","ordenarAsistencia","nuevoArray","aux","createdAt","objetoNuevo","iniciado","fecha_iniciado","estadoAsistencia","FALTA","ASISTIO","DESCANSO","PERMISO","SUSPENDIDO","DESCANSO_MEDICO","EXAMEN_MEDICO","columnasDefecto","TablaAsistencias","diaInicio","setDiaInicio","diaFin","setDiaFin","diasSemana","setDiasSemana","setColumnas","dataAsistencias","setDataAsistencias","loadingAsistencia","setLoadingAsistencia","filtroGestores","setFiltroGestores","filtroAuditores","setFiltroAuditores","activas","setRutas","resultado","rutasAtivas","hoy","firstColumn","columnsAux","generarColumnas","dia","weekStart","clone","startOf","weekEnd","endOf","days","add","picker","disabled","ReloadOutlined","TabPane","Tabs","array","listaGestores","setListaGestores","setLoadingGestores","listaAuditores","setListaAuditores","setLoadingAuditores","cargarGestores","cargarAuditores","paddingLeft","animated","tab","ClusterOutlined","CheckSquareOutlined","TIPO","CODIGO_ZONAL","CODIGO_REQUERIMIENTO","CODIGO_CLIENTE","NOMBRE_CLIENTE","CODIGO_CTR","DESCRIPCION_CTR","CODIGO_NODO","CODIGO_TROBA","DISTRITO","destipvia","desnomvia","numvia","despis","desint","desmzn","deslot","destipurb","desurb","FECHA_REGISTRO","CODIGO_MOTIVO","DETALLE_MOTIVO","TIPO_REQUERIMIENTO","DETALLE_TRABAJO","TELEFONO_CONTACTO","TELEFONO_REFERENCIA","NUMERO_REITERADA","TIPO_TECNOLOGIA","excel","reader","FileReader","rABS","readAsBinaryString","onload","event","bstr","result","wb","XLSX","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","objeto","reduce","k","trim","readAsArrayBuffer","numeroFecha","numeroDeDias","fecha","setHours","getHours","codctrArray","pendientesAverias","promises","orden","indice","verificado","isEmpty","TELEFONO","isNaN","codigo_zonal","codigo_requerimiento","codigo_cliente","nombre_cliente","codigo_ctr","descripcion_ctr","codigo_nodo","codigo_troba","distrito","direccion","fecha_registro","codigo_motivo","detalle_motivo","replace","tipo_requerimiento","detalle_trabajo","telefono_contacto","telefono_referencia","numero_reiterada","tipo_tecnologia","all","asignarValores","getOrdenes","postOrdenes","ActualizarOrdenes","tipoOrden","estadoOrden","setEstadoOrden","estadoArchivo","setEstadoArchivo","nombreArchivo","setNombreArchivo","ordenesObtenidas","setOrdenesObtenidas","loadingButton","setLoadingButton","spellCheck","accept","beforeUpload","file","convertirExcel","objJson","onRemove","fileList","uid","UploadOutlined","SaveOutlined","capitalizar","string","charAt","toUpperCase","slice","TagEstado","columnasAverias","filtroDistrito","filtroBucket","filtroEstadoToa","req","sorter","bckt","estado_toa","diff","TablaOrdenes","loadingCruzar","setLoadingCruzar","ordenesSeleccionadas","setOrdenesSeleccionadas","setFiltroDistrito","setFiltroBucket","setFiltroEstadoToa","listarOrdenes","CloudSyncOutlined","EditFilled","UserSwitchOutlined","lisaRutas","CloudUploadOutlined","rutasOperativa","arregloRutas","dashboard","gestionPersonal","operativa","NotFound","subTitle","extra","PrivateRoute","rest","App","es_ES","route","index","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","getElementById","process","publicUrl","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.248248b5.chunk.js","sourcesContent":["const cargos = {\r\n  TODO: [1,2,3,4,5,6,7,8],\r\n  ADMINISTRADOR: 1,\r\n  JEFE_OPERACIONES: 2,\r\n  JEFE_LOGISTICA: 3,\r\n  LIDER_GESTION: 4,\r\n  ASISTENTE_LOGISTICA: 5,\r\n  JEFE_CONTRATA: 6,\r\n  GESTOR: 7,\r\n  ALMACENERO: 8,\r\n  AUDITOR: 9,\r\n  TECNICO: 10\r\n};\r\n\r\nexport default cargos;","import cargos from './cargos';\r\n\r\nexport const rutas = {\r\n  login: \"/login\",\r\n  indicadoresGpon: \"/dashboard/indicadores-gpon\",\r\n  indicadoresHfc: \"/dashboard/indicadores-hfc\",\r\n  listaPersonal: \"/lista-personal\",\r\n  listaContratas: \"/lista-contratas\",\r\n  listaRutas: \"/lista-rutas\",\r\n  adminAveriasHfc: \"/administrar-ordenes/averias-hfc\",\r\n  adminAltasHfc: \"/administrar-ordenes/altas-hfc\",\r\n  adminBasicas: \"/administrar-ordenes/basicas\",\r\n  adminspeedy: \"/administrar-ordenes/speedy\",\r\n  gestionarAveriasHfc: \"/gestionar-ordenes/averias-hfc\",\r\n  gestionarAltasHfc: \"/gestionar-ordenes/altas-hfc\",\r\n  gestionarBasicas: \"/gestionar-ordenes/basicas\",\r\n  gestionarspeedy: \"/gestionar-ordenes/speedy\",\r\n};\r\n\r\nexport const permisos = {\r\n  todos: cargos.TODO,\r\n  listaContratas: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  grupoOperativa: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.JEFE_LOGISTICA,\r\n    cargos.LIDER_GESTION,\r\n    cargos.JEFE_CONTRATA,\r\n    cargos.GESTOR\r\n  ],\r\n  administrarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION\r\n  ],\r\n  gestionarOrdenes: [\r\n    cargos.ADMINISTRADOR,\r\n    cargos.JEFE_OPERACIONES,\r\n    cargos.LIDER_GESTION,\r\n    cargos.GESTOR\r\n  ]\r\n};","import React from 'react';\r\nimport { rutas } from '../constants/listaRutas'\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div>\r\n      <a href={rutas.login}>login</a>\r\n    </div>\r\n  )\r\n}","const variables = {\r\n  // 192.168.100.90\r\n  urlApi: 'http://192.168.100.90:5000/api',\r\n  public: 'http://192.168.100.90:5000/',\r\n  TOKEN_STORAGE_KEY: 'atenea.authToken',\r\n  logoPath: '/icon.png',\r\n  logoFull: '/iconL.png',\r\n  version: '0.0.2',\r\n  formatosAdmitidos: ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n}\r\n\r\nexport default variables;","// eslint-disable-next-line no-unused-vars\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport Cookie from \"js-cookie\";\r\nimport cogoToast from 'cogo-toast';\r\n//objeto con variables del sistema (direccion url de la api)\r\nimport variables from '../constants/config';\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config - Objeto con las variables de configuracion de axios\r\n*/\r\nexport const restAuth = async (config) => {\r\n  //iniciar toast de loading\r\n  const closeLoading = cogoToast.loading('Iniciando sesión...', {\r\n    hideAfter: 0, position: 'top-right', role: \"success\"\r\n  });\r\n  //inicializar objeto para realiuzar la consulta (axios)\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi\r\n  });\r\n  //retorna la peticion, y se extrae la propiedad \"data\"\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    //una vez que se obtiene la respuesta se debe \r\n    //cerrar el toast de loading\r\n    closeLoading.hide();\r\n    //si se encuentra la data enviarla al fron\r\n    if (data && data.data) {\r\n      cogoToast.success(data.message, { position: 'top-right' })\r\n      return ({data: data.data, errors: false});\r\n    } else {\r\n    //error que salta al no poder obtener la data del data\r\n      cogoToast.error('No se puede obtener la data' ,{ position: 'top-right'})\r\n      throw Error(\"No se puede obtener la data\");\r\n    }\r\n  }).catch(err => {\r\n    //en caso de error cerrar el loading\r\n    closeLoading.hide();\r\n    //enviar un mensaje en escenario posible dependiendo del error\r\n    if (err.response) {\r\n      //mostrar el error por consola\r\n      console.log(err.response);\r\n      //guardar la informacion del error en un avariables\r\n      const errData = (err.response.data);\r\n      //mostrar como mensaje el primero error que muestre\r\n      const message = errData[Object.keys(errData)[0]] !== undefined ? \r\n        errData[Object.keys(errData)[0]] \r\n        : 'Error en la solicitud.';\r\n      //enviar un aviso con el mensaje de error\r\n      cogoToast.warn( message, { position: 'top-right' });\r\n      //retornar le data vacia\r\n      return {\r\n        data: false, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};\r\n\r\n/**\r\n * @param {AxiosRequestConfig} config\r\n * @param {boolean} toast false si no se quiere mostrar el toast\r\n*/\r\nexport const restPrivate = async (config, toast) => {\r\n  let closeLoading;\r\n  if (toast) {\r\n    closeLoading = cogoToast.loading('Cargando...', {\r\n      hideAfter: 0, position: 'top-right', role: \"success\"\r\n    });\r\n  }\r\n\r\n  const newAxiosRequest = axios.create({\r\n    baseURL: variables.urlApi,\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookie.get(variables.TOKEN_STORAGE_KEY)\r\n    }\r\n  });\r\n\r\n  return await newAxiosRequest(({...config})).then(({data}) => {\r\n    if (toast) {\r\n      closeLoading.hide();\r\n      cogoToast[data.status ? data.status : 'error'](data.message, { position: 'top-right' })\r\n    }\r\n    return (data);\r\n  }).catch(err => {\r\n    if (toast) closeLoading.hide();\r\n    if (err.response) {\r\n      const errData = err.response.data;\r\n      if (String(err.response.status) === \"401\") {\r\n        cogoToast.error('Token Invalido, cerrando sesión.',\r\n        { position: 'top-right'});\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        document.location.href=\"/login\";\r\n      } else {\r\n        cogoToast.warn( errData.message !== undefined ? errData.message : 'Error en la solicitud.',\r\n        { position: 'top-right'})\r\n      }\r\n      return {\r\n        data: null, \r\n        errors: errData\r\n      }\r\n    } else if (err.request) {\r\n      console.log(err.request);\r\n      cogoToast.warn(\"Se realizó la solicitud, pero no se recibió respuesta.\",\r\n      { position: 'top-right'})\r\n      throw err\r\n    } else {\r\n      cogoToast.error('Algo sucedió al configurar la solicitud que provocó un error.',\r\n      { position: 'top-right'})\r\n      throw err\r\n    }\r\n  })\r\n};","import { restAuth, restPrivate } from './requestHelper';\r\n\r\nexport const login = async (data) => restAuth({\r\n  url: 'private/auth/login', method: 'POST', data\r\n});\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n */\r\nexport const session = async (toast) => restPrivate({\r\n  url: 'private/auth/session', method: 'GET'\r\n}, toast);\r\n/**\r\n * @param {boolean} toast \r\n */\r\nexport const logout = async (toast=true) => restPrivate({\r\n  url: 'private/auth/logout', method: 'GET'\r\n}, toast);\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport class AuthToken {\r\n  constructor(token) {\r\n    this.decodedToken = { \r\n      nombre: null,\r\n      id: null,\r\n      cargo: null,\r\n      imagen: null,\r\n      gestor: null, \r\n      exp: 0 \r\n    };\r\n    \r\n    try {\r\n      if (token) this.decodedToken = jwtDecode(token);\r\n    } catch (e) {\r\n      console.log('Error');\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  get isValid() {\r\n    return !this.isExpired;\r\n  }\r\n\r\n  get expiresAt() {\r\n    return new Date(this.decodedToken.exp * 1000);\r\n  }\r\n\r\n  get isExpired() {\r\n    return new Date() > this.expiresAt;\r\n  }\r\n\r\n  get authorizationString() {\r\n    return `Bearer ${this.token}`;\r\n  }\r\n};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Cookie from \"js-cookie\";\r\nimport { Col, Row, Form, Input, Button } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nimport { login } from '../services/apiUsuario';\r\nimport variables from '../constants/config';\r\nimport { rutas } from '../constants/listaRutas';\r\nimport { AuthToken } from '../services/authToken';\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth.isValid) {\r\n      history.push(rutas.indicadoresGpon);\r\n    };\r\n  },[history]);\r\n\r\n  async function enviarFormulario(values) {\r\n    await login(values).then((data) => {\r\n      if (data.data && !data.errors) {\r\n        Cookie.set(variables.TOKEN_STORAGE_KEY, data.data);\r\n        history.push(rutas.indicadoresGpon);\r\n      }\r\n    }).catch((error) => {\r\n      console.log('error');\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-around\" align=\"middle\" style={{backgroundColor: 'rgb(242, 242, 247)', height: '100vh'}}>\r\n        <Col xs={20} sm={12} md={8} lg={6} xl={5}>\r\n          <div className=\"contenedor-padre\">\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{remember: true}}\r\n              onFinish={enviarFormulario}\r\n            >\r\n              <div className=\"logoForm\"/>\r\n              <Form.Item\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una correo!'\r\n                  },\r\n                  {\r\n                    type: 'email',\r\n                    message: '¡Ingresa un email válido!'\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  autoComplete=\"current-email\"\r\n                  type=\"email\"\r\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                  placeholder=\"Correo\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '¡Se necesita una contraseña válida!',\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message: '¡La contraseña debe tener mas de 6 carácteres!',\r\n                  }\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  autoComplete=\"current-password\"\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Contraseña\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                  Acceder\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  DashboardOutlined,\r\n  ScheduleOutlined,\r\n  TeamOutlined,\r\n  IdcardOutlined,\r\n  CarryOutOutlined,\r\n  FileSearchOutlined,\r\n  // HistoryOutlined,\r\n  // GroupOutlined,\r\n  // ExportOutlined,\r\n  // ImportOutlined,\r\n  // CloudServerOutlined,\r\n  // GoldOutlined,\r\n  // SlidersOutlined,\r\n  // TableOutlined,\r\n  // SearchOutlined,\r\n  // FieldTimeOutlined,\r\n  // ShopOutlined,\r\n  // BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\n\r\nimport { rutas, permisos } from '../../../constants/listaRutas';\r\n\r\nconst { SubMenu, Item, Divider, ItemGroup } = Menu;\r\n\r\nconst getPath = () => {return String(window.location.pathname).substring(1)};\r\n\r\nconst items = [\r\n  {\r\n    permisos: [...permisos.todos, 9],\r\n    titulo: 'Panel de Control',\r\n    children: [\r\n      {\r\n        grupo: true,\r\n        key: 'sub100',\r\n        icon: DashboardOutlined,\r\n        titulo: 'Dashboard',\r\n        permisos: permisos.todos,\r\n        children: [\r\n          {\r\n            ruta: rutas.indicadoresGpon,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Indicadores GPON'\r\n          },\r\n          {\r\n            ruta: rutas.indicadoresHfc,\r\n            icon: DashboardOutlined,\r\n            titulo: 'Indicadores HFC'\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.todos,\r\n    titulo: 'Usuarios y Contratas',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaPersonal,\r\n        icon: TeamOutlined,\r\n        permisos: permisos.todos,\r\n        titulo: 'Lista de Personal'\r\n      },\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaContratas,\r\n        icon: IdcardOutlined,\r\n        permisos: permisos.listaContratas,\r\n        titulo: 'Lista de Contratas'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    permisos: permisos.grupoOperativa,\r\n    titulo: 'Operativa',\r\n    children: [\r\n      {\r\n        grupo: false,\r\n        ruta: rutas.listaRutas,\r\n        icon: CarryOutOutlined,\r\n        permisos: permisos.administrarOrdenes,\r\n        titulo: 'Lista Rutas'\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub98',\r\n        icon: FileSearchOutlined,\r\n        titulo: 'Administrar ordenes',\r\n        permisos: permisos.administrarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.adminAveriasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminAltasHfc,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.adminBasicas,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.adminspeedy,\r\n            icon: FileSearchOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        grupo: true,\r\n        key: 'sub97',\r\n        icon: ScheduleOutlined,\r\n        titulo: 'Gestionar ordenes',\r\n        permisos: permisos.gestionarOrdenes,\r\n        children: [\r\n          {\r\n            ruta: rutas.gestionarAveriasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Averias Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarAltasHfc,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Altas Hfc'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarBasicas,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Basicas'\r\n          },\r\n          {\r\n            ruta: rutas.gestionarspeedy,\r\n            icon: ScheduleOutlined,\r\n            titulo: 'Speedy'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n// eslint-disable-next-line\r\nfunction MenuUsuario({cargo}) {\r\n\r\n  if (!cargo) {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n        <ItemGroup title='Panel de Control'>\r\n          <Divider/>\r\n          <Item key=\"dashboard\">\r\n            <Link to={rutas.indicadoresGpon}>\r\n            <DashboardOutlined />\r\n            <span>Dashboard</span>\r\n            </Link>\r\n          </Item>\r\n        </ItemGroup>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n      {\r\n        items.map((e,i) =>(\r\n          e.permisos.includes(cargo) ?\r\n          (<ItemGroup title={e.titulo} key={i}>\r\n            <Divider/>\r\n            {e.children.map((c) => (\r\n                !c.grupo && c.permisos.includes(cargo) ?\r\n                (<Item key={String(c.ruta).substring(1)}>\r\n                  <Link to={c.ruta}>\r\n                    <c.icon/>\r\n                    <span>{c.titulo}</span>\r\n                  </Link>\r\n                </Item>)\r\n                :\r\n                c.grupo && c.permisos.includes(cargo) ?\r\n                (<SubMenu \r\n                  key={c.key}\r\n                  title={\r\n                    <span>\r\n                      <c.icon/>\r\n                      <span>{c.titulo}</span>\r\n                    </span>\r\n                  }\r\n                >\r\n                  {c.children.map((sub) => (\r\n                    <Item key={String(sub.ruta).substring(1)}>\r\n                      <Link to={sub.ruta}>\r\n                        <sub.icon/>\r\n                        <span>{sub.titulo}</span>\r\n                      </Link>\r\n                    </Item>\r\n                  ))}\r\n                </SubMenu>):null\r\n            ))}\r\n          </ItemGroup>):null  \r\n        ))\r\n      }\r\n      </Menu>\r\n    )\r\n  };\r\n  // return (\r\n  //   <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={getPath()}>\r\n  //     <ItemGroup title='Panel de Control'>\r\n  //       <Divider/>\r\n  //       <Item key=\"dashboard\">\r\n  //         <Link to={rutas.indicadoresGpon}>\r\n  //         <DashboardOutlined />\r\n  //         <span>Dashboard</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Usuarios y Personal'>\r\n  //       <Divider/>\r\n  //       <Item key=\"lista-personal\" style={{ display: !permisos.listaPersonal.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaPersonal}>\r\n  //           <TeamOutlined />\r\n  //           <span>Lista de Personal</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"lista-contratas\" style={{ display: !permisos.listaContratas.includes(cargo) && 'none' }}>\r\n  //         <Link to={rutas.listaContratas}>\r\n  //           <IdcardOutlined />\r\n  //           <span>Lista de Contratas</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n  //     <ItemGroup title='Operativa'>\r\n  //       <Divider/>\r\n  //       <SubMenu //ACTUALIZAR\r\n  //         key=\"sub3\"\r\n  //         title={\r\n  //           <span>\r\n  //             <CloudUploadOutlined />\r\n  //             <span>Actualizar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"actualizar-averiashfc\">\r\n  //           <Link to='/actualizar-averiashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //               Actualizar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-altashfc\">\r\n  //           <Link to='/actualizar-altashfc'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-basicas\">\r\n  //           <Link to='/actualizar-basicas'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"actualizar-speedy\">\r\n  //          <Link to='/actualizar-speedy'>\r\n  //             <CloudUploadOutlined />\r\n  //             Actualizar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //ASIGNAR\r\n  //         key=\"sub4\"\r\n  //         title={\r\n  //           <span>\r\n  //             <FileSearchOutlined />\r\n  //             <span>Asignar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"asignar-averiashfc\">\r\n  //           <Link to='/asignar-averiashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-altashfc\">\r\n  //           <Link to='/asignar-altashfc'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-basicas\">\r\n  //           <Link to='/asignar-basicas'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"asignar-speedy\">\r\n  //           <Link to='/asignar-speedy'>\r\n  //             <FileSearchOutlined />\r\n  //             Asignar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <SubMenu //GESTION\r\n  //         key=\"sub5\"\r\n  //         title={\r\n  //           <span>\r\n  //             <ScheduleOutlined />\r\n  //             <span>Gestionar Ordenes</span>\r\n  //           </span>\r\n  //         }\r\n  //       >\r\n  //         <Item key=\"gestionar-averiashfc\">\r\n  //           <Link to='/gestionar-averiashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Averias HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-altashfc\">\r\n  //           <Link to='/gestionar-altashfc'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Altas HFC\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-basicas\">\r\n  //           <Link to='/gestionar-basicas'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Básicas\r\n  //           </Link>\r\n  //         </Item>\r\n  //         <Item key=\"gestionar-speedy\">\r\n  //           <Link to='/gestionar-speedy'>\r\n  //             <ScheduleOutlined />\r\n  //             Gestionar Speedy\r\n  //           </Link>\r\n  //         </Item>\r\n  //       </SubMenu>\r\n  //       <Item key=\"produccion\">\r\n  //         <Link to='/produccion'>\r\n  //           <BarChartOutlined />\r\n  //           <span>Producción</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //       <Item key=\"registro-historico\">\r\n  //         <Link to='/registro-historico'>\r\n  //           <HistoryOutlined />\r\n  //           <span>Registro Historico</span>\r\n  //         </Link>\r\n  //       </Item>\r\n  //     </ItemGroup>\r\n      // {/* <ItemGroup title='Logística'>\r\n      //   <Divider/>\r\n      //   <Item key=\"gestion-articulos\">\r\n      //     <Link to='/gestion-articulos'>\r\n      //       <SlidersOutlined />\r\n      //       <span>Gestion de Articulos</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      //   <SubMenu\r\n      //     key=\"sub6\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GroupOutlined />\r\n      //         <span>Almacen Central</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-central\">\r\n      //       <Link to='/entrada-almacen-central'>\r\n      //         <ImportOutlined />\r\n      //         <span>Entrada Inventario</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-central\">\r\n      //       <Link to='/salida-almacen-central'>\r\n      //         <ExportOutlined />\r\n      //         <span>Salida Inventario</span>\r\n      //       </Link> \r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-central\">\r\n      //       <Link to='/equipos-detalle-central'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"ferreteria-detalle-central\">\r\n      //       <Link to='/ferreteria-detalle-central'>\r\n      //         <ShopOutlined />\r\n      //         <span>Ferreteria Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub7\"\r\n      //     title={\r\n      //       <span>\r\n      //         <GoldOutlined />\r\n      //         <span>Almacen Primario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"entrada-almacen-primario\">\r\n      //       <Link to='/entrada-almacen-primario'>\r\n      //         <ImportOutlined />\r\n      //         Entrada Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-primario\">\r\n      //       <Link to='/salida-almacen-primario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"equipos-detalle-primario\">\r\n      //       <Link to='/equipos-detalle-primario'>\r\n      //         <FieldTimeOutlined />\r\n      //         <span>Equipos Detalle</span>\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <SubMenu\r\n      //     key=\"sub8\"\r\n      //     title={\r\n      //       <span>\r\n      //         <CloudServerOutlined />\r\n      //         <span>Almacen Secundario</span>\r\n      //       </span>\r\n      //     }\r\n      //   >\r\n      //     <Item key=\"lista-almacen-secundario\">\r\n      //       <Link to='/lista-almacen-secundario'>\r\n      //         <TableOutlined />\r\n      //         Lista\r\n      //       </Link>\r\n      //     </Item>\r\n      //     <Item key=\"salida-almacen-secundario\">\r\n      //       <Link to='/salida-almacen-secundario'>\r\n      //         <ExportOutlined />\r\n      //         Salida Inventario\r\n      //       </Link>\r\n      //     </Item>\r\n      //   </SubMenu>\r\n      //   <Item key=\"buscar-serie\">\r\n      //     <Link to='/buscar-serie'>\r\n      //       <SearchOutlined />\r\n      //       <span>Buscar Serie</span>\r\n      //     </Link>\r\n      //   </Item>\r\n      // </ItemGroup> */}\r\n    // </Menu>\r\n  // )\r\n};\r\n\r\nMenuUsuario.propTypes = {\r\n  cargo: PropTypes.number\r\n}\r\n\r\nexport default MenuUsuario;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Layout } from 'antd';\r\n\r\nimport MenuUsuario from './MenuUsuario';\r\nimport config from '../../../constants/config';\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Index = ({collapsed, cargo}) => {\r\n  return (\r\n    <Sider \r\n      width={256}\r\n      theme=\"light\" \r\n      breakpoint=\"lg\"\r\n      trigger={null} \r\n      collapsible \r\n      collapsed={collapsed} \r\n      className=\"sider\"\r\n    >\r\n      <div className=\"brand\">\r\n      {!collapsed ? \r\n        <div className=\"full-logo\">\r\n          <img alt=\"full-logo\" src={config.logoFull} />\r\n        </div> \r\n        : \r\n        <div className=\"logo\">\r\n          <img alt=\"logo\" src={config.logoPath} />\r\n        </div>\r\n            \r\n      }\r\n      </div>\r\n      <div className=\"menu-container\">\r\n        <MenuUsuario cargo={cargo}/>\r\n      </div>\r\n    </Sider>\r\n  )\r\n};\r\n\r\nIndex.propTypes = {\r\n  collapsed: PropTypes.bool\r\n};\r\n\r\nexport default Index;\r\n","import React, { useState } from 'react';\r\nimport { Popover, Badge, List } from 'antd';\r\nimport { BellOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\n// import StateIcon from '../../common/StateIcon'\r\n\r\nconst notifications = [{title:'Hola', icon: 'success'},{title:'Hola', icon: 'error'}, {title:'Hola', icon: 'warning'}];\r\n\r\nconst Notificaciones = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <Popover\r\n      trigger=\"click\"\r\n      placement=\"bottomRight\"\r\n      overlayClassName=\"notification-popover\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n      content={\r\n        <div className=\"caja-notificaciones\" style={{ minWidth: '20rem' }}>\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={notifications}\r\n            locale={{\r\n              emptyText: <span>You have viewed all notifications.</span>,\r\n            }}\r\n            renderItem={item => (\r\n              <List.Item className=\"item-notificaciones\">\r\n                {/* <StateIcon \r\n                  estado={item.icon} \r\n                  style={{fontSize: '2rem', paddingRight: '.8rem'}}\r\n                /> */}\r\n                <List.Item.Meta\r\n                  className=\"datos-notificaciones\"                \r\n                  title={\r\n                    <span lines={1}>\r\n                      Orden Actualizada\r\n                    </span>\r\n                  }\r\n                  description=\"hola k tal como te va\"\r\n                />\r\n                <RightOutlined className=\"flecha-notificaciones\"/>\r\n              </List.Item>\r\n            )}\r\n          />\r\n          {notifications.length ? (\r\n            <div\r\n              // onClick={onAllNotificationsRead}\r\n              className=\"clear-button\"\r\n            >\r\n              <span>Limpiar Notificaciones</span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      }\r\n    >\r\n       <Badge\r\n        count={0}//numero de notificaciones\r\n        dot\r\n        offset={[-10, 10]}\r\n        className=\"icon-button\"\r\n      >\r\n        <BellOutlined className=\"icon-font\"/>\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n};\r\n\r\nexport default Notificaciones;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Menu, Avatar, Typography } from 'antd';\r\nimport { PoweroffOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from '../../../constants/config';\r\nimport { AuthToken } from '../../../services/authToken';\r\nimport { logout } from '../../../services/apiUsuario';\r\n\r\nexport default function OpcionesUsuario() { \r\n  const [usuario, setUsuario] = useState(null);\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    const auth = new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY));\r\n    if (auth) {\r\n      setUsuario(auth.decodedToken);\r\n    }\r\n  },[]);\r\n\r\n  const cerrarSesion = async () => {\r\n    await logout().then(async(response) => {//cerró sesion correctamente\r\n      if (response.status !== 'error') {\r\n        Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n        history.push('/login');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      console.log('Error cerrando sesión.')\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Menu key=\"user\" mode=\"horizontal\" >\r\n      <Menu.SubMenu\r\n        title={\r\n          <Fragment>\r\n            <span style={{ color: '#999', marginRight: 4 }}>\r\n              <span>Hola,</span>\r\n            </span>\r\n            <span>{usuario&&usuario.nombre}</span>\r\n            <Avatar style={{ marginLeft: 8 }} src={usuario&&usuario.imagen} />\r\n          </Fragment>\r\n        }\r\n      >\r\n        <Menu.Item key=\"Configuraciones\">\r\n          <Typography.Text type=\"sucess\">\r\n            <Link to='/atenea-system/perfil-usuario'>\r\n              <SettingOutlined />\r\n              Configuraciones\r\n            </Link>\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"SignOut\" onClick={cerrarSesion}>\r\n          <Typography.Text type=\"danger\">\r\n            <PoweroffOutlined/>\r\n            {/* <Trans>Sign out</Trans> */}Desconectar\r\n          </Typography.Text>\r\n        </Menu.Item>\r\n      </Menu.SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Layout, Spin } from 'antd';\r\nimport Sider from './Sider/index';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport config from '../../constants/config';\r\nimport Notificaciones from './Header/Notificaciones';\r\nimport OpcionesUsuario from './Header/OpcionesUsuario';\r\nimport PrivateLayout from './PrivateLayout';\r\n\r\nvar anchoContenedor = '256px';\r\n\r\nfunction Index({children, spinLoading, cargo}) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  if (collapsed) {\r\n    anchoContenedor = '80px'\r\n  } else {\r\n    anchoContenedor = '256px'\r\n  }\r\n\r\n  const styleContent = {\r\n    minHeight: 'calc(100vh - 94px - 3rem)',\r\n    marginTop: '.5rem',\r\n    // margin: `1rem`,\r\n    transition: 'margin .2s'\r\n  }\r\n  \r\n  const styleFooter = {\r\n    backgroundColor: 'white',\r\n    width: `100%`,\r\n    margin: `0px`,\r\n    padding: '16px 16px 24px 10px',\r\n    transition: 'margin .2s',\r\n    clear: 'both',\r\n    left: anchoContenedor,\r\n    bottom: 0,\r\n    right: 0\r\n  }\r\n\r\n  return (\r\n    <Spin \r\n      spinning={spinLoading} \r\n      tip=\"Cargando Interfaz...\" \r\n      size=\"large\"\r\n      className=\"spin-container\"\r\n    >\r\n      <Layout>\r\n        <Sider collapsed={collapsed} cargo={cargo}/>\r\n        <Layout className=\"site-layout\">\r\n          <Layout.Header \r\n            style={{ minWidth: collapsed && 'calc(100vw - 95px)'}}\r\n            className={classnames(\"header\", {\r\n              \"collapsed\": collapsed,\r\n            })}\r\n            id=\"layoutHeader\"\r\n          >\r\n          <div className=\"button\" onClick={() => setCollapsed(!collapsed)}>\r\n            {\r\n              collapsed ?\r\n              <MenuUnfoldOutlined className=\"text-primary\"/> : \r\n              <MenuFoldOutlined/>\r\n            }\r\n            </div>\r\n            <div className=\"right-container\">\r\n              <Notificaciones/>\r\n              <OpcionesUsuario/>\r\n            </div>\r\n          </Layout.Header>\r\n          <Layout.Content\r\n            className=\"site-layout-background\"\r\n            style={styleContent}\r\n          >\r\n            {children}\r\n          </Layout.Content>\r\n          <Layout.Footer style={styleFooter}>\r\n            Atenea System v{config.version} - 2020&copy;\r\n          </Layout.Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default PrivateLayout(Index)","import React, { Component } from \"react\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { rutas } from '../../constants/listaRutas';\r\nimport { session } from \"../../services/apiUsuario\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\n\r\nexport default function PrivateLayout(WrappedComponent) {\r\n  return class extends Component {  \r\n\r\n    constructor(props)   {\r\n      super(props)\r\n      this.state = {\r\n        spin: true,\r\n        cargo: null,\r\n      }\r\n    }\r\n    async componentDidMount() {\r\n      const token = Cookie.get(variables.TOKEN_STORAGE_KEY);\r\n      if (!token) {\r\n        document.location.href = (rutas.login);\r\n      } else {\r\n        const usuario = new AuthToken(token);\r\n        await session(true).then((data) => {\r\n          if(data.status === 'error') {\r\n            Cookie.remove(variables.TOKEN_STORAGE_KEY);\r\n            document.location.href = (rutas.login);\r\n          } else {\r\n            this.setState({spin: false, cargo: usuario.decodedToken.cargo })\r\n          }\r\n        }).catch((error) => {\r\n          this.setState({spin: false})\r\n          console.log(error);\r\n          console.log('error de sesion en (PrivateRoutes)');\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} spinLoading={this.state.spin} cargo={this.state.cargo}/>;\r\n    }\r\n  };\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PageHeader } from 'antd';\r\n\r\nconst TituloVista = ({titulo, subtitulo}) => {\r\n  const routes = [\r\n    {\r\n      breadcrumbName: subtitulo,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader\r\n      className=\"site-page-header\"\r\n      title={titulo}\r\n      breadcrumb={{routes}}\r\n    />\r\n  )\r\n};\r\n\r\nTituloVista.propTypes = {\r\n  titulo: PropTypes.string,\r\n  subtitulo: PropTypes.string\r\n}\r\n\r\nexport default TituloVista\r\n","import React from 'react'\r\nimport { Col, Row } from 'antd';\r\n\r\nexport default function Contenedor({children}) {\r\n  const style_row = {\r\n    margin: '0 24px 1rem',\r\n    borderRadius: '.3rem'\r\n    // minHeight: '68vh'\r\n  };\r\n  const style_col = {\r\n    borderRadius: '.3rem',\r\n    padding: '0 1rem',\r\n    backgroundColor: '#fff',\r\n    WebkitBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    MozBoxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)',\r\n    boxShadow: '0px 0px 10px 0px rgba(0,0,0,0.03)'\r\n  };\r\n  return (\r\n    <Row style={style_row}>\r\n      <Col span={24} style={style_col}>\r\n      {children}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","const colores = {\r\n  'success': '#52c41a',\r\n  'error': '#EB2F2F',\r\n  'warning': '#F8C82E'\r\n};\r\n\r\nexport default colores;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\nimport colores from '../../../constants/colores';\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return colores.warning; }\r\n  if (estado === 'Completado') { return colores.success; }\r\n  if (estado === 'Iniciado') { return '#1890ff'; }\r\n  if (estado === 'Suspendido') { return colores.error; }\r\n  if (estado === 'Cancelado') { return '#940000'; }\r\n  if (estado === 'No Realizada') { return '#A5A5A5'; }\r\n};\r\n\r\nexport default function ChartGponBucket({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 300,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={300} padding={[30, 20, 60, 40]} data={data} autoFit filter={[\r\n        ['ordenes', val => val != null] // 图表将会只渲染过滤后的数据\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position=\"bucket*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartGponBucket.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","export const gpon = [\r\n  \"Reparación GPON\",\r\n  \"Reparación Gpon Movistar Uno\",\r\n  \"Reparacion Movistar Total Gpon\",\r\n  \"Instalación Rutina VA Gpon\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina MT GPON MT\",\r\n  \"Rutina VA GPON MT\",\r\n  \"Traslado GPON\",\r\n  \"Instalación rutina MT Gpon\",\r\n  \"Instalación rutina Bucle Gpon\",\r\n  \"Traslado GPON Movistar Total\",\r\n  \"Instalación Movistar uno Gpon\",\r\n  \"Instalación Gpon Movistar Tot\",\r\n  \"Instalación Migración Gpon\",\r\n  \"Instalación Migración Gpon MT\",\r\n  \"Instalación Migración Gpon MT\",\r\n  \"Instalación Gpon New\",\r\n  \"Instalación Movistar uno Gpon\",\r\n  \"Instalación Gpon Movistar Tot\",\r\n  \"Instalación Migración HFC a Gpon\",\r\n  \"Instalación Migración HFC a Gpon CC\",\r\n  \"Instalación Migración HFC a Gpon CC\",\r\n  \"Instalación Migración HFC a Gpon\",\r\n];\r\n\r\nexport const valoresExcelToa = {\r\n  bucket: \"Bucket\", \r\n  requerimiento: \"Requerimiento\",\r\n  estado: \"Estado\",\r\n  fecha_cita: \"Fecha Cita\",\r\n  motivo_no_realizado: \"Motivo No Realizado\",\r\n  subtipo_actividad: \"Subtipo Actividad\",\r\n  carnet: \"Carnet\",\r\n  tecnico: \"Tecnico\",\r\n  gestor: \"Gestor\",\r\n  auditor: \"auditor\",\r\n  contrata: \"Contrata\",\r\n  tipo_agenda: \"Time Slot\",\r\n  sla_inicio: \"SLA_INICIO\",\r\n  sla_fin: \"SLA_FIN\"\r\n};","export function separarBucket(data=[]) {\r\n  let buckets = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => !buckets.includes(o.bucket) ? buckets.push(o.bucket): null);\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    buckets.forEach((b) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => d.bucket === b && d.estado === e).length;\r\n        newData.push({\r\n          bucket: String(b).substring(6),\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, buckets};\r\n  } else {\r\n    return {ordenes: [], buckets} ;\r\n  };\r\n};\r\n\r\nexport function separarGestor(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let estados = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.tecnico && o.tecnico !== '-' && o.tecnico.gestor && o.tecnico.gestor.nombre) {\r\n        if (!gestores.includes(o.tecnico.gestor.nombre)) gestores.push(o.tecnico.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !estados.includes(o.estado) ? estados.push(o.estado): null);\r\n    gestores.forEach((g) => {\r\n      estados.forEach((e) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.tecnico === '-') {\r\n            return d.tecnico === g && d.estado === e\r\n          } else if (d.tecnico && d.tecnico.gestor && d.tecnico.gestor.nombre){\r\n            return d.tecnico.gestor.nombre === g && d.estado === e\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          estado: e,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};\r\n\r\nexport function separarMotivo(data=[]) {\r\n  let gestores = [];\r\n  if (data && data.length !== 0) {\r\n    let motivos = [];\r\n    let newData = [];\r\n    data.forEach((o) => {\r\n      if (o.tecnico && o.tecnico !== '-' && o.tecnico.gestor && o.tecnico.gestor.nombre) {\r\n        if (!gestores.includes(o.tecnico.gestor.nombre)) gestores.push(o.tecnico.gestor.nombre)\r\n      } else {\r\n        if (!gestores.includes('-')) gestores.push('-')\r\n      }\r\n    });\r\n    data.forEach((o) => !motivos.includes(o.motivo_no_realizado) ? motivos.push(o.motivo_no_realizado) : null);\r\n    gestores.forEach((g) => {\r\n      motivos.forEach((m) => {\r\n        let numOrdenes = data.filter((d) => {\r\n          if (d.tecnico === '-') {\r\n            return d.tecnico === g && d.motivo_no_realizado === m\r\n          } else if (d.tecnico && d.tecnico.gestor && d.tecnico.gestor.nombre){\r\n            return d.tecnico.gestor.nombre === g && d.motivo_no_realizado === m\r\n          } else {\r\n            return false;\r\n          }\r\n        }).length;\r\n        newData.push({\r\n          gestor: g,\r\n          motivo: m,\r\n          ordenes: numOrdenes,\r\n        });\r\n      })\r\n    });\r\n    return {ordenes: newData, gestores};\r\n  } else {\r\n    return {ordenes: [], gestores} ;\r\n  };\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\nimport { useJsonToCsv } from 'react-json-csv';\r\n\r\nimport ChartGponBucket from './ChartGponBucket';\r\nimport { gpon, valoresExcelToa } from \"../../../constants/valoresToa\";\r\nimport { separarBucket } from \"../../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction IndicadorGponBucket({data, titulo, tipo}) {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [bucketsOrdenes, setBucketsOrdenes] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n  const { saveAsCsv } = useJsonToCsv();\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n     try {\r\n      if (data.length > 0) {\r\n        const dataGpon = data.filter((d) => gpon.includes(d.subtipo_actividad))\r\n        setTotalOrdenes(dataGpon);\r\n        return resolve(dataGpon)\r\n      } else {\r\n        return reject([])\r\n      }\r\n     } catch (error) {\r\n       return reject(error)\r\n     }\r\n    }).then((dataGpon) => separarBucket(dataGpon)).then(({ordenes, buckets}) => {\r\n      setBucketsOrdenes(buckets);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>{titulo} / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '.5rem' }}>\r\n        <Col sm={16}>\r\n          <ChartGponBucket data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n        <Col sm={8}>\r\n          <Row>\r\n          {\r\n            bucketsOrdenes && bucketsOrdenes.length > 0 ?\r\n            bucketsOrdenes.map((b, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={b} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.bucket === b).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n          <Row>\r\n            <Button onClick={() => \r\n                saveAsCsv({ \r\n                  data: totalOrdenes.map((o) => {\r\n                    return ({\r\n                      ...o,\r\n                      tecnico: o.tecnico && o.tecnico.nombre ? o.tecnico.nombre + ' ' + o.tecnico.apellidos : '-',\r\n                      gestor: o.tecnico && o.tecnico.gestor ? o.tecnico.gestor.nombre + ' ' + o.tecnico.gestor.apellidos : '-',\r\n                      auditor: o.tecnico && o.tecnico.auditor ? o.tecnico.auditor.nombre + ' ' + o.tecnico.auditor.apellidos : '-',\r\n                      contrata: o.tecnico && o.tecnico.contrata ? o.tecnico.contrata.nombre : '-'\r\n                    })\r\n                  }), \r\n                  fields: valoresExcelToa, \r\n                  filename: `data_${tipo}_gpon_${moment().format('DD_MM_YY_HH_mm')}`\r\n                })\r\n            }>\r\n              Exportar\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nIndicadorGponBucket.propTypes = {\r\n  data: PropTypes.array,\r\n  titulo: PropTypes.string\r\n}\r\n\r\nexport default IndicadorGponBucket","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\nimport colores from '../../../constants/colores';\r\n\r\nconst getTypeColor = estado => {\r\n  if (estado === 'Pendiente') { return colores.warning; }\r\n  if (estado === 'Completado') { return colores.success; }\r\n  if (estado === 'Iniciado') { return '#1890ff'; }\r\n  if (estado === 'Suspendido') { return colores.error; }\r\n  if (estado === 'Cancelado') { return '#940000'; }\r\n  if (estado === 'No Realizada') { return '#A5A5A5'; }\r\n};\r\n\r\nexport default function ChartGponGestor({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 400,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={400} padding={[30, 20, 140, 40]} data={data.filter((d) => d.gestor !== '-')} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"estado\"],\r\n            callback: (a) => getTypeColor(a)\r\n          }}\r\n          position=\"gestor*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'estado'],\r\n            callback: (a,b) => {\r\n              if (b === 'Completado' && a > 0) {\r\n                return {\r\n                  content: a,\r\n                  style: {\r\n                    fill: 'red',\r\n                    fontSize: 15,\r\n                    fontWeight: 'bold'\r\n                  }\r\n                };\r\n              } else {\r\n                return {\r\n                  content: a\r\n                }\r\n              }\r\n            }\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartGponGestor.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartGponGestor from './ChartGponGestor';\r\nimport { gpon } from \"../../../constants/valoresToa\";\r\nimport { separarGestor } from \"../../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction IndicadorGponGestor({data, titulo}) {\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        if (data.length > 0) {\r\n          const dataGpon = data.filter((d) => gpon.includes(d.subtipo_actividad))\r\n          setTotalOrdenes(dataGpon.filter((d) => d.tecnico && d.tecnico.gestor));\r\n          return resolve(dataGpon)\r\n        } else {\r\n          return reject([])\r\n        }\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }).then((dataGpon) => separarGestor(dataGpon)).then(({ordenes, gestores}) => {\r\n      setGestores(gestores);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>{titulo} / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartGponGestor data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n        <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.filter((e) => e !== '-').map((g, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={g} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.tecnico.gestor.nombre === g).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nIndicadorGponGestor.propTypes = {\r\n  data: PropTypes.array,\r\n  titulo: PropTypes.string\r\n};\r\n\r\nexport default IndicadorGponGestor","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Spin } from 'antd'\r\nimport { Chart, Tooltip, Interval, Interaction } from \"bizcharts\";\r\n\r\nexport default function ChartDevolucionesGpon({data, loading}) {\r\n  if (loading) {\r\n    return (\r\n      <div \r\n        style={{ \r\n          width: '100%', \r\n          height: 400,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin spinning tip=\"Cargando...\" size=\"large\"/>\r\n      </div>)\r\n  } else {\r\n    return (\r\n      <Chart height={400} padding={[30, 20, 140, 40]} data={data.filter((d) => d.gestor !== '-')} autoFit filter={[\r\n        ['ordenes', val => val != null]\r\n      ]}>\r\n        <Interval\r\n          adjust={[\r\n            {\r\n              type: 'dodge',\r\n              marginRatio: 0,\r\n            },\r\n          ]}\r\n          color={{\r\n            fields: [\"motivo\"]\r\n          }}\r\n          position=\"gestor*ordenes\"\r\n          label={{\r\n            fields: ['ordenes', 'motivo'],\r\n          }}\r\n        />\r\n        <Tooltip shared />\r\n        <Interaction type=\"active-region\" />\r\n      </Chart>\r\n    );\r\n  }\r\n};\r\n\r\nChartDevolucionesGpon.propTypes = {\r\n  data: PropTypes.array,\r\n  loading: PropTypes.bool\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Col, Row, Statistic, Typography } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nimport ChartDevolucionesGpon from './ChartDevolucionesGpon';\r\nimport { gpon } from \"../../../constants/valoresToa\";\r\nimport { separarMotivo } from \"../../../libraries/separarField\";\r\n\r\nconst { Title } = Typography;\r\nconst estados = ['Cancelado','No Realizada']\r\n\r\nfunction IndicadorGponDevoluciones({data}){\r\n  const [totalOrdenes, setTotalOrdenes] = useState([]);\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [gestores, setGestores] = useState([]);\r\n  const [horaActualizado, setHoraActualizado] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data && data.length > 0) {\r\n      cargarOrdenes();\r\n    }\r\n  // eslint-disable-next-line\r\n  },[data]);\r\n\r\n  async function cargarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        if (data.length > 0) {\r\n          const dataGpon = data.filter((d) => gpon.includes(d.subtipo_actividad) && estados.includes(d.estado));\r\n          setTotalOrdenes(dataGpon.filter((d) => d.tecnico && d.tecnico.gestor));\r\n          return resolve(dataGpon)\r\n        } else {\r\n          return reject([])\r\n        }\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }).then((dataGpon) => separarMotivo(dataGpon)).then(({ordenes, gestores}) => {\r\n      setGestores(gestores);\r\n      setDataOrdenes(ordenes)\r\n    }).catch((err) => console.log(err)).finally(() => {\r\n      setHoraActualizado(moment(new Date()).format('HH:mm:ss'))\r\n      setLoadingOrdenes(false)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2} style={{ marginTop: '1rem' }}>Indicador Devoluciones Gpon / Actualizado: {horaActualizado ? horaActualizado : '-'}</Title>\r\n      <Row style={{ marginTop: '2rem', marginBottom: '1rem' }}>\r\n        <Col sm={24}>\r\n          <ChartDevolucionesGpon data={dataOrdenes} loading={loadingOrdenes}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={24}>\r\n        <Row>\r\n          {\r\n            gestores && gestores.length > 0 ?\r\n            gestores.filter((e) => e !== '-').map((g, i) => (\r\n              <Col key={i} style={{ margin: '1rem' }}>\r\n                <Statistic\r\n                  title={g} \r\n                  value={totalOrdenes.length > 0 ? totalOrdenes.filter((e) => e.tecnico.gestor.nombre === g).length : 0} \r\n                  suffix={`/ ${totalOrdenes.length} total`}\r\n                />\r\n              </Col>\r\n            )):null\r\n          }\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default IndicadorGponDevoluciones;\r\n  \r\n\r\n","import { restPrivate } from './requestHelper';\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {string} metodo\r\n */\r\nexport const getContratas = async (toast, metodo) => restPrivate({\r\n  url: 'contratas', method: 'GET', params: {metodo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postContrata = async (data) => restPrivate({\r\n  url: 'contratas', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {string} id \r\n * @param {object} data \r\n */\r\nexport const putContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PUT', data, \r\n}, true);\r\n/**\r\n * \r\n * @param {string} id id de la contrata\r\n * @param {object} data objeto a enviar\r\n * @param {bool} data.activo\r\n * @param {Date} data.fecha_baja\r\n */\r\nexport const patchContrata = async (id, data) => restPrivate({\r\n  url: 'contratas/' + id, method: 'PATCH', data\r\n}, true)\r\n","export const empleados = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_TECNICOS_GLOBAL: 'listaTecnicosGlobal',\r\n  LISTA_GESTORES: 'listaGestores',\r\n  LISTA_AUDITORES: 'listaAuditores',\r\n  RESET_PASS: 'resetPassword',\r\n  CERRAR_SESSION: 'cerrarSesion',\r\n  ACTUALIZAR_CARGO: 'actualizarPermisos',\r\n  ACTIVAR_CUENTA: 'activarCuenta',\r\n  EDITAR_ESTADO: 'editarEstadoEmpresa',\r\n  ACTUALIZAR_GESTOR: 'actualizarGestor',\r\n  ACTUALIZAR_AUDITOR: 'actualizarAuditor'\r\n};\r\n\r\nexport const contratas = {\r\n  LISTA_TODO: 'listaTodo',\r\n  LISTA_NOMBRES: 'listaNombres'\r\n};\r\n\r\nexport const ordenes = {\r\n  SUBIR_DATA: 'subirData',\r\n  CRUZAR_DATA: 'cruzarData',\r\n  ORDENES_HOY: 'ordenesHoy'\r\n};\r\n\r\nexport const asistencias = {\r\n  LISTAR_TODO: 'listarTodo',\r\n  LISTAR_GESTOR: 'listarGestor'\r\n}","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction ModalContrata({visible, setVisible, accion, guardar, contrata={}}) {\r\n  const [nombre, setNombre] = useState(null);\r\n  const [ruc, setRuc] = useState(null);\r\n  const [fecha_incorporacion, setFecha_incorporacion] = useState(null);\r\n  const [observacion, setObservacion] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (contrata.nombre) {\r\n      setNombre(contrata.nombre);\r\n      setRuc(contrata.ruc);\r\n      setFecha_incorporacion(contrata.fecha_incorporacion);\r\n      setObservacion(contrata.observacion);\r\n    }\r\n  // eslint-disable-next-line\r\n  },[contrata]);\r\n\r\n  const limpiarEstados = async () => {\r\n    setNombre(null);\r\n    setRuc(null);\r\n    setFecha_incorporacion(null);\r\n    setObservacion(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  const onOk = async () => {\r\n    await guardar({nombre, ruc, \r\n      fecha_incorporacion: fecha_incorporacion && fecha_incorporacion, \r\n      observacion: observacion && observacion\r\n    }, contrata.id);\r\n    limpiarEstados();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      width={270}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? 'Crear Contrata':'Editar Contrata'}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarEstados}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n        <p>Nombre de Contrata:</p>\r\n        <Input\r\n          placeholder=\"Nombre de Contrata\" \r\n          defaultValue={nombre} \r\n          onChange={e => setNombre(e.target.value)}\r\n        /><br/><br/>\r\n        <p>RUC:</p>\r\n        <Input \r\n          placeholder=\"RUC\" \r\n          defaultValue={ruc} \r\n          onChange={e => setRuc(e.target.value)}\r\n        /><br/><br/>\r\n        <p>Fecha de Incorporación:</p>\r\n        <DatePicker\r\n          defaultValue={fecha_incorporacion && moment.utc(fecha_incorporacion)} \r\n          onChange={(_, date) => setFecha_incorporacion(date)}\r\n        /><br/><br/>\r\n        <p>Observacion:</p>\r\n        <Input\r\n          placeholder=\"Observacion\" \r\n          defaultValue={observacion} \r\n          onChange={e => setObservacion(e.target.value)}\r\n        /><br/><br/>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalContrata.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  accion: PropTypes.string,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object,\r\n}\r\n\r\nexport default ModalContrata\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker, Modal, Radio, Space } from 'antd';\r\n\r\n\r\nfunction ModalEliminar({visible, setVisible, guardar, contrata={}}) {\r\n  const [activo, setActivo] = useState(true);\r\n  const [fecha_baja, setFecha_baja] = useState(null);\r\n\r\n  async function onOk() {\r\n    if (contrata._id) {\r\n      await guardar(contrata._id, { activo, fecha_baja });\r\n      limpiarModal();\r\n    } else {  \r\n      console.log('objeto contrata vacio.')\r\n    }\r\n  };\r\n\r\n  const cambiarEstado = (e) => setActivo(e.target.value);\r\n  const cambiarFecha = (_,f) => setFecha_baja(f);\r\n\r\n  const limpiarModal = () => {\r\n    setActivo(true);\r\n    setFecha_baja(null);\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={250}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title=\"Desactivar Contrata\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiarModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Space direction=\"vertical\">\r\n        <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n          *La contrata no se eliminará de la base de datos, pero si dejará de aparecer en las listas del sistema.\r\n        </p>\r\n        Seleccionar estado:\r\n        <Radio.Group onChange={cambiarEstado} value={activo}>\r\n          <Radio value={true}>Activo</Radio>\r\n          <Radio value={false}>Inactivo</Radio>\r\n        </Radio.Group>\r\n        Seleccionar fecha de baja:\r\n        <DatePicker onChange={cambiarFecha}/>\r\n      </Space>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEliminar.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  guardar: PropTypes.func,\r\n  contrata: PropTypes.object\r\n};\r\n\r\nexport default ModalEliminar;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Tag } from 'antd';\r\nimport { EditTwoTone, PlusOutlined, DeleteTwoTone } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport Contenedor from '../../common/Contenedor';\r\nimport { getContratas, patchContrata, postContrata, putContrata } from '../../../services/apiContrata';\r\nimport { contratas } from '../../../constants/metodos';\r\nimport ModalContrata from './ModalContrata';\r\nimport colores from '../../../constants/colores';\r\nimport ModalEliminar from './ModalEliminar';\r\n\r\nexport default function TablaContratas() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataContratas, setDataContratas] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalEditar, setModalEditar] = useState(false);\r\n  const [modalEliminar, setModalEliminar] = useState(false);\r\n  const [contrata, setContrata] = useState({});\r\n\r\n  useEffect(() => {\r\n    cargarContratas();\r\n  },[]);\r\n\r\n  async function cargarContratas() {\r\n    setLoading(true);\r\n    await getContratas(true, contratas.LISTA_TODO).then(({data}) => {\r\n      setLoading(false);\r\n      setDataContratas(data && data);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  async function crearContrata(data) {\r\n    await postContrata(data)\r\n      .then(async() => await cargarContratas())\r\n      .catch((error) => {\r\n        console.log(error);\r\n        abrirModalCrear();\r\n      })\r\n  };\r\n\r\n  async function editarContrata(data) {\r\n    if (contrata._id) {\r\n      await putContrata(contrata._id, data)\r\n        .then(async() => await cargarContratas())\r\n        .catch((error) => {\r\n          console.log(error);\r\n          abrirModalEditar();\r\n        })\r\n    }\r\n  };\r\n\r\n  async function eliminarContrata(id, data) {\r\n    await patchContrata(id, data)\r\n      .then(async() => await cargarContratas())\r\n      .catch(error => {\r\n        console.log(error);\r\n        abrirModalEliminar();\r\n      })\r\n  }\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalEditar = () => setModalEditar(!modalEditar);\r\n  const abrirModalEliminar = () => setModalEliminar(!modalEliminar);\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 250,\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'activo',\r\n      width: 150,\r\n      render: (a) => {\r\n        if (a) {\r\n          return (<Tag color=\"success\">Activo</Tag>)\r\n        } else {\r\n          return (<Tag color=\"error\">Inactivo</Tag>)\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Fecha Inicio',\r\n      dataIndex: 'fecha_incorporacion',\r\n      width: 150,\r\n      render: (f) => f?moment(f).format('DD-MM-YYYY'):'-'\r\n    },\r\n    {\r\n      title: 'Fecha Baja',\r\n      dataIndex: 'fecha_baja',\r\n      width: 150,\r\n      render: (f) => f ? moment(f).format('DD-MM-YYYY'): '-'\r\n    },\r\n    {\r\n      title: 'Observación',\r\n      dataIndex: 'observacion'\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (_, row) => (\r\n        <span>\r\n          <EditTwoTone\r\n            title=\"Editar\"\r\n            twoToneColor={colores.warning} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEditar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n          <DeleteTwoTone \r\n            title=\"Configuraciones\"\r\n            twoToneColor={colores.error} \r\n            style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n            onClick={() => {\r\n              abrirModalEliminar();\r\n              setContrata(row);\r\n            }}\r\n          />\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        style={{ marginBottom: '1rem' }}\r\n        className=\"tabla-personal\"\r\n        title={() => \r\n          <Button \r\n            icon={<PlusOutlined/>}\r\n            onClick={abrirModalCrear}\r\n          >\r\n            Agregar\r\n          </Button>\r\n        }\r\n        columns={columnas}\r\n        dataSource={dataContratas}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={false}\r\n      />\r\n      {/* MODAL PARA AGREGAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={crearContrata}\r\n        accion=\"crear\"\r\n      />\r\n      {/* MODAL PARA EDITAR CONTRATA */}\r\n      <ModalContrata\r\n        visible={modalEditar}\r\n        setVisible={setModalEditar}\r\n        guardar={editarContrata}\r\n        contrata={contrata}\r\n        accion=\"editar\"\r\n      />\r\n      {/* MODAL ELIMINAR CONTRATA */}\r\n      <ModalEliminar\r\n        visible={modalEliminar}\r\n        setVisible={setModalEliminar}\r\n        guardar={eliminarContrata}\r\n        contrata={contrata}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport TablaContratas from '../../components/gestionEmpleados/contrata/TablaContratas';\r\n\r\nexport default function ListaContratas() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Contratas\" subtitulo=\"Usuarios y Personal\"/>\r\n      <TablaContratas/>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport IndicadoresGpon from \"../views/Dashboard/IndicadoresGpon\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.indicadoresGpon,\r\n    exact: true,\r\n    component: IndicadoresGpon,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: listaRutas.indicadoresHfc,\r\n    exact: true,\r\n    component: ListaContratas,\r\n    nivel: permisos.listaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport IndicadorGponBucket from '../../components/dashboard/indicadoresGpon/IndicadorGponBucket';\r\nimport IndicadorGponGestor from '../../components/dashboard/indicadoresGpon/IndicadorGponGestor';\r\nimport IndicadorGponDevoluciones from '../../components/dashboard/indicadoresGpon/IndicadorGponDevoluciones';\r\nimport variables from '../../constants/config';\r\n\r\nexport default function Dashboard() {\r\n  const [averias, setAverias] = useState([]);\r\n  const [altas, setAltas] = useState([]);\r\n  const socket = window.io(variables.public);\r\n  const indicadorRef1 = useRef(null);\r\n  const indicadorRef2 = useRef(null);\r\n  const indicadorRef3 = useRef(null);\r\n  const indicadorRef4 = useRef(null);\r\n  const indicadorRef5 = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scrollAutomatico();\r\n    socket.on('connect', function(s) {\r\n      socket.on('ordenesGpon', ({averias, altas}) => {\r\n        const jsonAverias = new Array(JSON.parse(averias));\r\n        const jsonAltas = new Array(JSON.parse(altas));\r\n        if(jsonAverias && jsonAverias[0].length > 0) setAverias(jsonAverias[0]);\r\n        if(jsonAltas && jsonAltas[0].length > 0) setAltas(jsonAltas[0]);\r\n      });\r\n      socket.emit('obtenerOrdenes')\r\n    });\r\n    return () => socket.close();\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  const executeScroll = (number) => {\r\n    let arrayRefs = [indicadorRef1,indicadorRef2,indicadorRef3,indicadorRef4,indicadorRef5];\r\n    if(arrayRefs[number].current) arrayRefs[number].current.scrollIntoView({block: 'center', behavior: 'smooth'})\r\n  };\r\n\r\n  const scrollAutomatico = () => {\r\n    let i = 0;\r\n    setInterval(() => {\r\n      executeScroll(i);\r\n      if (i === 4) {\r\n        i = 0;\r\n      } else {\r\n        i= i+1\r\n      }\r\n    }, 15000);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Indicadores GPON\" subtitulo=\"Dashboard\"/>\r\n      <Contenedor>\r\n        {/* INDICADOR AVERIAS GPON */}\r\n        <div ref={indicadorRef1}>\r\n          <IndicadorGponBucket data={averias} titulo=\"Indicador Averias GPON\" tipo=\"averias\"/>\r\n        </div>\r\n        {/* INDICADOR DE ALTAS GPON */}\r\n        <div ref={indicadorRef2}>\r\n          <IndicadorGponBucket data={altas} titulo=\"Indicador Altas GPON\" tipo=\"altas\"/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES AVERIAS */}\r\n        <div ref={indicadorRef3}>\r\n          <IndicadorGponGestor data={averias} titulo=\"Indicador Gestores Gpon (Averias)\"/>\r\n        </div>\r\n        {/* INDICADOR DE GESTORES ALTAS */}\r\n        <div ref={indicadorRef4}>\r\n          <IndicadorGponGestor data={altas} titulo=\"Indicador Gestores Gpon (Altas)\"/>\r\n        </div>\r\n        {/* INDICADORES DEVOLUCIONES X GESTOR */}\r\n        <div ref={indicadorRef5}>\r\n          <IndicadorGponDevoluciones data={altas}/>\r\n        </div>\r\n        <button onClick={executeScroll}>prueba</button>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n};","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {boolean} toast false si debe buscar sin mostrar avisos\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {string} parametros.idFiltro\r\n */\r\nexport const getEmpleados = async (toast, {metodo, page, limit, idFiltro}) => restPrivate({\r\n  url: 'empleados', method: 'GET', params: {metodo, page, limit, idFiltro}\r\n}, toast);\r\n\r\n/**\r\n * @param {string} value \r\n * @param {string} field \r\n */\r\nexport const buscarEmpleado = async (value, field) => restPrivate({\r\n  url: 'empleados/buscar', method: 'GET', params: { value, field }\r\n}, true);\r\n\r\n/**\r\n * \r\n * @param {boolean} toast validar si mostrará avisos\r\n * @param {object} data\r\n * @param {string} data.id\r\n * @param {string} data.metodo el metodo\r\n * @param {number} data.cargo cargo a modificar\r\n * @param {Date} data.fecha_baja fecha de baja\r\n * @param {number} data.estado_empresa estado dentro de la empresa\r\n * @param {string} data.gestor\r\n * @param {string[]} data.tecnicos\r\n */\r\nexport const patchEmpleados = async (\r\n  toast, { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n) => restPrivate({\r\n  url: 'empleados', \r\n  method: 'PATCH', \r\n  data: { id, metodo, cargo, fecha_baja, estado_empresa, gestor, auditor, tecnicos }\r\n}, toast);\r\n\r\n\r\n/**\r\n * @param {object} data \r\n */\r\nexport const postEmpleados = async (data) => restPrivate({\r\n  url: 'empleados', method: 'POST', data\r\n}, true);\r\n\r\n/**\r\n * @param {string} id id del empleado\r\n * @param {object} data objeto a actualizar\r\n */\r\nexport const putEmpleados = async (id, data) => restPrivate({\r\n  url: 'empleados/' + id, method: 'PUT', data\r\n}, true);\r\n\r\n","import React, { useState } from 'react';\r\nimport { Button, Input, Radio  } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { buscarEmpleado } from '../../../services/apiEmpleado';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function HeaderEmpleados(abrirModalCrear, listarEmpleado, setEmpleados, setPageNumber, setTotalDocs) {\r\n  const [tipoBusqueda, setTipoBusqueda] = useState(\"nombre\");\r\n\r\n  async function buscarPersonal(value) {\r\n    if (value.length > 1) {\r\n      await buscarEmpleado(value, tipoBusqueda)\r\n        .then(({data}) => {\r\n          if (data.length > 0) {\r\n            setEmpleados(data)\r\n            setPageNumber(1)\r\n            setTotalDocs(data.length)\r\n          };\r\n        })\r\n        .catch((err) => console.log(err))\r\n    } else {\r\n      await listarEmpleado();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"header-tabla\">\r\n      <div className=\"busqueda\">\r\n        <Radio.Group \r\n          onChange={(e) => setTipoBusqueda(e.target.value)} \r\n          value={tipoBusqueda}\r\n          style={{ paddingTop: '.22rem' }}\r\n        >\r\n          <Radio value=\"nombre\">Nombre</Radio>\r\n          <Radio value=\"numero_documento\">Documento</Radio>\r\n          <Radio value=\"carnet\">Carnet</Radio>\r\n        </Radio.Group>\r\n        <Search\r\n          placeholder=\"Buscar personal\"\r\n          allowClear\r\n          enterButton={false}\r\n          onSearch={buscarPersonal}\r\n          style={{ width: 200, margin: 0 }}\r\n        />\r\n      </div>\r\n      <div className=\"boton-agregar\">\r\n        <Button\r\n          icon={<PlusOutlined/>}\r\n          onClick={abrirModalCrear}\r\n        >\r\n          Agregar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Tag } from 'antd';\r\nimport { CheckCircleOutlined, ExclamationCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport React from 'react';\r\nimport cargos from '../../../constants/cargos';\r\nimport colores from '../../../constants/colores';\r\n\r\nexport function CargoTag({cargo}) {\r\n  switch (cargo) {\r\n    case cargos.ADMINISTRADOR:\r\n      return (<Tag color=\"geekblue\">Administrador</Tag>)\r\n    case cargos.JEFE_OPERACIONES:\r\n      return (<Tag color=\"blue\">Jefe de Operaciones</Tag>)\r\n    case cargos.JEFE_LOGISTICA:\r\n      return (<Tag color=\"cyan\">Jefe de Logistica</Tag>)\r\n    case cargos.LIDER_GESTION:\r\n      return (<Tag color=\"purple\">Lider de Gestion</Tag>)\r\n    case cargos.ASISTENTE_LOGISTICA:\r\n      return (<Tag color=\"green\">Asistente de Logistica</Tag>)\r\n    case cargos.JEFE_CONTRATA:\r\n      return (<Tag color=\"orange\">Jefe de Contrata</Tag>)\r\n    case cargos.GESTOR:\r\n      return (<Tag color=\"magenta\">Gestor</Tag>)\r\n    case cargos.ALMACENERO:\r\n      return (<Tag color=\"red\">Almacenero</Tag>)\r\n    case cargos.AUDITOR:\r\n      return (<Tag color=\"gold\">Auditor</Tag>)\r\n    case cargos.TECNICO:\r\n      return (<Tag color=\"volcano\">Tecnico</Tag>)\r\n    default:\r\n      return (<Tag>Sin cargo</Tag>)\r\n  }\r\n};\r\n\r\nexport function EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case 'Activo': \r\n      return (<Tag icon={<CheckCircleOutlined/>} color={colores.success}>{estado}</Tag>);\r\n    case 'Suspendido':\r\n      return (<Tag icon={<ExclamationCircleOutlined/>} color={colores.warning}>{estado}</Tag>)\r\n    case 'Inactivo':\r\n      return (<Tag icon={<CloseCircleOutlined />} color={colores.error}>{estado}</Tag>)\r\n    default:\r\n      return (<Tag>Desconocido</Tag>);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEmpleado({accion, visible, setVisible, empleado={}, contratas=[], guardar}) {\r\n  const [empleadoObj, setEmpleadoObj] = useState({numero_documento: Number(Date.now())});\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (empleado._id) setEmpleadoObj({\r\n      ...empleado, \r\n      email: empleado.usuario.email,\r\n      cargo: empleado.usuario.cargo,\r\n      contrata: empleado.contrata && empleado.contrata._id\r\n    });\r\n  },[empleado])\r\n\r\n\r\n  const limpiar = () => {\r\n    setVisible(false)\r\n  };\r\n\r\n  const onOk = () => {\r\n    form.validateFields().then(async(values) => {\r\n      setEmpleadoObj({numero_documento: Date.now()});\r\n      form.resetFields();\r\n      const obj = {\r\n        ...values,\r\n        usuario: {\r\n          email: values.email,\r\n          cargo: values.cargo\r\n        }\r\n      }\r\n      await guardar(obj);\r\n      setVisible(false);\r\n    }).catch(info => {\r\n      console.log('Validate Failed:', info);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width={300}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Guardar\"\r\n      title={accion === 'crear' ? \"Crear Empleado\": \"Editar Empleado\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={limpiar}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Form\r\n        name=\"form_empleado\"\r\n        layout=\"vertical\"\r\n        size=\"small\"\r\n        form={form}\r\n        initialValues={empleadoObj}\r\n        onValuesChange={(e) => setEmpleadoObj({...empleadoObj, ...e})}\r\n      >\r\n        <Form.Item\r\n          name=\"nombre\"\r\n          label=\"Nombre\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"apellidos\"\r\n          label=\"Apellidos\"\r\n          rules={[{ required: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Correo\"\r\n          rules={[{ required: true, type: \"email\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"cargo\"\r\n          label=\"Cargo\"\r\n          rules={[{ required: true, type: \"number\" }]}\r\n        >\r\n          <Select placeholder=\"Seleccionar cargo\" onChange={(e) => setEmpleadoObj({...empleadoObj, cargo: e})} allowClear>\r\n            <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n            <Option value={cargos.JEFE_CONTRATA}>Jefe de Contrata</Option>\r\n            <Option value={cargos.GESTOR}>Gestor</Option>\r\n            <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n            <Option value={cargos.AUDITOR}>Auditor</Option>\r\n            <Option value={cargos.TECNICO}>Tecnico</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        {\r\n          empleadoObj.cargo ? empleadoObj.cargo === cargos.TECNICO || empleadoObj.cargo === cargos.AUDITOR ? \r\n          <Form.Item\r\n            name=\"carnet\"\r\n            label=\"Carnet\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>:null:null\r\n        }\r\n        {\r\n          contratas && contratas.length > 0 ? \r\n          <Form.Item\r\n            name=\"contrata\"\r\n            label=\"Contrata\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <Select placeholder=\"Seleccionar contrata\" onChange={(e) => setEmpleadoObj({...empleadoObj, contrata: e})} allowClear>\r\n            {\r\n              contratas.map((c,i) => (\r\n                <Option key={i} value={c._id}>{c.nombre}</Option>\r\n              ))\r\n            }\r\n            </Select>\r\n          </Form.Item>:null\r\n        }\r\n        <Form.Item \r\n          name=\"tipo_documento\"\r\n          label=\"Tipo de Documento\"\r\n        >\r\n          <Select placeholder=\"Seleccionar tipo\" onChange={e => setEmpleadoObj({...empleadoObj, tipo_documento: e})} allowClear>\r\n            <Option value=\"DNI\">DNI</Option>\r\n            <Option value=\"Otro\">Otro</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"numero_documento\"\r\n          label=\"Numero de Documento\"\r\n          rules={[{ required: false, type: 'string' }]}\r\n        >\r\n          <Input/>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalEmpleado.propTypes = {\r\n  accion: PropTypes.string,\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  empleado: PropTypes.object,\r\n  contratas: PropTypes.array,\r\n  guardar: PropTypes.func\r\n};\r\n\r\nexport default ModalEmpleado;\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select } from 'antd';\r\n\r\nimport cargos from '../../../constants/cargos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalPermisos({visible, setVisible, listarEmpleados, id}) {\r\n  const [cargo, setCargo] = useState(4);\r\n\r\n  async function actualizarCargo() {\r\n    await patchEmpleados(true, { id, metodo: empleados.ACTUALIZAR_CARGO, cargo } )\r\n      .then(() => setVisible(!visible))\r\n      .catch((error) => {\r\n        setVisible(false);\r\n        console.log(error);\r\n      })\r\n  };\r\n\r\n  const cambiarCargo = (value) => setCargo(value);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Actualizar Cargo\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={actualizarCargo}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Recuerda que no es posible otorgar un cargo superior \r\n        al tuyo y que todo cambio quedará registrado en el \r\n        sistema.\r\n      </p>\r\n      <p>Seleccionar Cargo:</p>\r\n      <Select\r\n        defaultValue={cargo}\r\n        onChange={cambiarCargo}\r\n        style={{ width: 180 }}\r\n      >\r\n        <Option value={cargos.LIDER_GESTION}>Lider de Gestion</Option>\r\n        <Option value={cargos.ASISTENTE_LOGISTICA}>Asistente de Logistica</Option>\r\n        <Option value={cargos.JEFE_CONTRATA}>Jefe de contrata</Option>\r\n        <Option value={cargos.GESTOR}>Gestor</Option>\r\n        <Option value={cargos.ALMACENERO}>Almacenero</Option>\r\n        <Option value={cargos.AUDITOR}>Auditor</Option>\r\n        <Option value={cargos.TECNICO}>Tecnico</Option>\r\n      </Select>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalPermisos.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalPermisos\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Select, DatePicker, Space } from 'antd';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction ModalEstado({visible, setVisible, listarEmpleados, id}) {\r\n  const [estado, setEstado] = useState(1);\r\n  const [fechaBaja, setFechaBaja] = useState('');\r\n\r\n  async function onOk() {\r\n    await patchEmpleados(true, { \r\n      id, \r\n      metodo: empleados.EDITAR_ESTADO,\r\n      fecha_baja: fechaBaja, \r\n      estado_empresa: estado\r\n    }).then(async () => {\r\n        setVisible(false);\r\n        await listarEmpleados();\r\n      }).catch((e) => console.log(e));\r\n  };\r\n\r\n  const cambiarFecha = (_,b) => setFechaBaja(b);\r\n\r\n  const cambiarEstado = (v) => setEstado(v);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Estado Empresa\"\r\n      visible={visible}\r\n      width={300}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Activo\" tiene la cuenta habilitada y aparece en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Suspendido\" no podrá iniciar sesión en el sistema, pero seguirá apareciendo en las listas del personal (ordenes, inventario, etc.)\r\n      </p>\r\n      <p style={{ fontSize: '13px', color: 'rgba(0,0,0,.55)' }}>\r\n        *Un usuario \"Inactivo\" no podrá iniciar sesión en el sistema y desaparecerá por completo de las listas del sistema (usuario de baja)  \r\n      </p>      \r\n      <Space direction=\"vertical\">\r\n        Seleccionar: \r\n        <Select \r\n          defaultValue={estado}\r\n          onChange={cambiarEstado}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Option value={1}>Activo</Option>\r\n          <Option value={2}>Suspendido</Option>\r\n          <Option value={3}>Inactivo</Option>\r\n        </Select>\r\n        Fecha de suspensión / baja:\r\n        <DatePicker onChange={cambiarFecha} />\r\n      </Space>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalEstado.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  listarEmpleados: PropTypes.func,\r\n  id: PropTypes.string\r\n}\r\n\r\nexport default ModalEstado\r\n\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Button, Modal } from 'antd';\r\nimport { \r\n  LockOutlined, \r\n  CloseCircleOutlined, \r\n  CaretUpOutlined,\r\n  UserOutlined,\r\n  ExclamationCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { patchEmpleados } from '../../../services/apiEmpleado';\r\nimport ModalPermisos from './ModalPermisos';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport ModalEstado from './ModalEstado';\r\n\r\nfunction ModalConfiguracion({visible, setVisible, id, listarEmpleados}) {\r\n  const [modalPermisos, setModalPermisos] = useState(false);\r\n  const [modalEstados, setModalEstados] = useState(false);\r\n\r\n  async function actualizarEmpleado(metodo) {\r\n    await patchEmpleados(true, { id, metodo })\r\n    .then(() => {\r\n      listarEmpleados();\r\n      setVisible(!visible);\r\n    })\r\n    .catch((error) => console.log(error))\r\n  };\r\n\r\n  const abrirModalPermisos = () => setModalPermisos(!modalPermisos);\r\n  const abrirModalEstado = () => setModalEstados(!modalEstados);\r\n\r\n  const onOk = async () => {\r\n    await listarEmpleados();\r\n    setVisible(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Configuraciones\"\r\n      visible={visible}\r\n      width={250}\r\n      onOk={onOk}\r\n      onCancel={() => setVisible(false)}\r\n      centered\r\n    >\r\n      <Button \r\n        block\r\n        icon={<LockOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.RESET_PASS)}\r\n      >Reiniciar Contraseña</Button>\r\n      <Button \r\n        block\r\n        icon={<CloseCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.CERRAR_SESSION)}\r\n      >Cerrar Sessión</Button>\r\n      <Button \r\n        block\r\n        icon={<CaretUpOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalPermisos}\r\n      >Permisos</Button>\r\n      <Button \r\n        block\r\n        icon={<UserOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={() => actualizarEmpleado(empleados.ACTIVAR_CUENTA)}\r\n      >Activar Cuenta</Button>\r\n      <Button \r\n        block\r\n        danger\r\n        icon={<ExclamationCircleOutlined/>}\r\n        style={{ marginBottom: '.5rem' }}\r\n        onClick={abrirModalEstado}\r\n      >Cambiar Estado</Button>\r\n      {/* MODAL PARA CAMBIAR LOS PERMISOS DEL USUARIO */}\r\n      <ModalPermisos \r\n        visible={modalPermisos} \r\n        setVisible={setModalPermisos}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n      {/* MODAL PARA CAMBIAR EL ESTADO DEL EMPLEADO EN LA EMPRESA */}\r\n      <ModalEstado\r\n        visible={modalEstados}\r\n        setVisible={setModalEstados}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n\r\n    </Modal>\r\n  )\r\n};\r\n\r\nModalConfiguracion.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  id: PropTypes.string,\r\n  listarEmpleados: PropTypes.func\r\n}\r\n\r\nexport default ModalConfiguracion\r\n\r\n","import React, { useState } from 'react';\r\nimport { EditTwoTone, SettingTwoTone } from '@ant-design/icons'\r\n\r\nimport colores from '../../../constants/colores';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport ModalConfiguracion from './ModalConfiguracion';\r\nimport { putEmpleados } from '../../../services/apiEmpleado';\r\n\r\nexport default function EmpleadoAcciones({ id, empleado, listarEmpleados, listaContratas }) {\r\n  const [visibleEmpleado, setVisibleEmpleado] = useState(false);\r\n  const [visibleConf, setVisibleConf] = useState(false);\r\n\r\n  async function actualizarEmpleado(data) {\r\n    await putEmpleados(id, data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <span>\r\n      <EditTwoTone \r\n        title=\"Editar\"\r\n        twoToneColor={colores.warning} \r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleEmpleado(true)}\r\n      />\r\n      <SettingTwoTone \r\n        title=\"Configuraciones\"\r\n        style={{paddingRight:'8px', fontSize: '1.5rem'}}\r\n        onClick={() => setVisibleConf(true)}\r\n      />\r\n      {/* MODAL PARA EDITAR EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"editar\"\r\n        empleado={empleado}\r\n        contratas={listaContratas}\r\n        visible={visibleEmpleado}\r\n        setVisible={setVisibleEmpleado}\r\n        guardar={actualizarEmpleado}\r\n      />\r\n      {/* MODAL PARA CONFIGURAR */}\r\n      <ModalConfiguracion\r\n        visible={visibleConf}\r\n        setVisible={setVisibleConf}\r\n        listarEmpleados={listarEmpleados}\r\n        id={id}\r\n      />\r\n    </span>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Descriptions, Modal, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { Text } = Typography;\r\n\r\nfunction ModalDetalle({visible, abrirModal, empleado={}}) {\r\n  return (\r\n    <Modal\r\n      width={450}\r\n      cancelText=\"Cancelar\"\r\n      okText=\"Aceptar\"\r\n      title=\"Detalle del Usuario\"\r\n      visible={visible}\r\n      onOk={abrirModal}\r\n      onCancel={abrirModal}\r\n      destroyOnClose={true}\r\n      centered\r\n    >\r\n      <Descriptions layout=\"vertical\" bordered size=\"small\" column={2}>\r\n        {empleado.gestor&&(<Descriptions.Item label=\"Gestor:\">{empleado.gestor.nombre && empleado.gestor.nombre}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Tipo de Doc.:\">{empleado.tipo_documento}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Numero de Doc.:\">\r\n          <Text copyable>{empleado.numero_documento}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Fecha de Nacimiento:\">{empleado.fecha_nacimiento && moment(empleado.fecha_nacimiento).format('DD-MM-YYYY')}</Descriptions.Item>\r\n        {empleado.fecha_ingreso&&(<Descriptions.Item label=\"Fecha de Ingreso\">{moment(empleado.fecha_ingreso).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        {empleado.fecha_baja&&(<Descriptions.Item label=\"Fecha de Baja\">{moment(empleado.fecha_baja).format('DD-MM-YYYY')}</Descriptions.Item>)}\r\n        <Descriptions.Item label=\"Nacionalidad\">{empleado.nacionalidad?empleado.nacionalidad:'-'}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Observación\" span={2}>{empleado.observacion}</Descriptions.Item>\r\n      </Descriptions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetalle.propTypes = {\r\n  visible: PropTypes.bool,\r\n  abrirModal: PropTypes.func,\r\n  empleado: PropTypes.object\r\n}\r\n\r\nexport default ModalDetalle\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Tooltip, Typography } from 'antd'\r\n\r\nimport Contenedor from '../../common/Contenedor'\r\nimport HeaderEmpleados from './HeaderEmpleados';\r\nimport { CargoTag, EstadoTag } from './EmpleadoTag';\r\nimport EmpleadoAcciones from './EmpleadoAcciones';\r\nimport ModalEmpleado from './ModalEmpleado';\r\nimport { getEmpleados, postEmpleados } from '../../../services/apiEmpleado';\r\nimport { getContratas } from '../../../services/apiContrata';\r\nimport { empleados, contratas } from '../../../constants/metodos';\r\nimport ModalDetalle from './ModalDetalle';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function TablaEmpleados() {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [limitNumber, setLimitNumber] = useState(20);\r\n  const [totalDocs, setTotalDocs] = useState(1);\r\n  const [dataEmpleados, setDataEmpleados] = useState([]);\r\n  const [modalCrear, setModalCrear] = useState(false);\r\n  const [modalDetalle, setModalDetalle] = useState(false);\r\n  const [empleadoObj, setEmpleadoObj] = useState({});\r\n  const [listaContratas, setListaContratas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    listarEmpleados();\r\n    listarContratas();\r\n  //eslint-disable-next-line\r\n  },[pageNumber, limitNumber]);\r\n\r\n  async function listarEmpleados() {\r\n    setLoading(true);\r\n    await getEmpleados(\r\n      true, {\r\n        metodo: empleados.LISTA_TODO,\r\n        page:pageNumber, \r\n        limit:limitNumber\r\n      }\r\n    ).then(({data}) => {\r\n      setDataEmpleados(data.docs);\r\n      setTotalDocs(data.totalDocs)\r\n      setLoading(false);\r\n    }).catch((error) => {\r\n      setLoading(false);\r\n      console.log(error)\r\n    });\r\n  };\r\n\r\n  async function listarContratas() {\r\n    await getContratas(false, contratas.LISTA_NOMBRES)\r\n      .then(({data}) => setListaContratas(data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  async function guardarEmpleado(data) {\r\n    await postEmpleados(data)\r\n      .then(async() => await listarEmpleados())\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  const abrirModalCrear = () => setModalCrear(!modalCrear);\r\n  const abrirModalDetalle = () => setModalDetalle(!modalDetalle);\r\n\r\n  const verDetalleEmpleado = (empleado) => {\r\n    setEmpleadoObj(empleado);\r\n    abrirModalDetalle();\r\n  }\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'nombre',\r\n      width: 150\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      dataIndex: 'apellidos',\r\n      width: 150,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: apellidos => (\r\n        <Tooltip placement=\"topLeft\" title={apellidos}>\r\n          {apellidos}\r\n        </Tooltip>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'usuario',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (u) => (\r\n        <Tooltip placement=\"topLeft\" title={u && u.email}>\r\n          {u && u.email}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Cargo',\r\n      dataIndex: 'usuario',\r\n      width: 150,\r\n      render: (u) => <CargoTag cargo={u.cargo}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c && c.nombre}>\r\n          {c && c.nombre}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      dataIndex: 'carnet',\r\n      width: 150,\r\n      render: (c) => {\r\n        if (c) {\r\n          return (<Text copyable>{c}</Text>)\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_empresa',\r\n      width: 150,\r\n      render: (estado) => <EstadoTag estado={estado}/>\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      dataIndex: '_id',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (id, row) => <EmpleadoAcciones id={id} empleado={row} listarEmpleados={listarEmpleados} listaContratas={listaContratas}/>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Contenedor>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => verDetalleEmpleado(record)\r\n          }\r\n        }}\r\n        className=\"tabla-personal\"\r\n        title={() => HeaderEmpleados(abrirModalCrear, listarEmpleados, setDataEmpleados, setPageNumber, setTotalDocs)}\r\n        columns={columnas}\r\n        dataSource={dataEmpleados}\r\n        loading={loading}\r\n        size=\"small\"\r\n        scroll={{ x: '1250px', y: '65vh' }}\r\n        pagination={{\r\n          current: pageNumber,\r\n          total: totalDocs,\r\n          defaultPageSize: limitNumber,\r\n          pageSizeOptions: [10,20,50,100],\r\n          onChange: (page) => setPageNumber(page),\r\n          onShowSizeChange: (_,limit) => setLimitNumber(limit)\r\n        }}\r\n      />\r\n      {/* MODAL PARA CREAR EL NUEVO EMPLEADO */}\r\n      <ModalEmpleado\r\n        accion=\"crear\"\r\n        contratas={listaContratas}\r\n        visible={modalCrear}\r\n        setVisible={setModalCrear}\r\n        guardar={guardarEmpleado}\r\n      />\r\n      {/* MODAL DETALLE DEL EMPLEADO */}\r\n      <ModalDetalle\r\n        visible={modalDetalle}\r\n        abrirModal={abrirModalDetalle}\r\n        empleado={empleadoObj}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import { rutas as listaRutas, permisos } from '../constants/listaRutas';\r\nimport ListaPersonal from \"../views/GestionPersonal/ListaPersonal\";\r\nimport ListaContratas from '../views/GestionPersonal/ListaContratas';\r\n\r\nconst rutas = [\r\n  {\r\n    path: listaRutas.listaPersonal,\r\n    exact: true,\r\n    component: ListaPersonal,\r\n    nivel: permisos.todos\r\n  },\r\n  {\r\n    path: listaRutas.listaContratas,\r\n    exact: true,\r\n    component: ListaContratas,\r\n    nivel: permisos.listaContratas\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react';\r\n\r\nimport TituloVista from '../../components/common/TituloContent';\r\nimport TablaEmpleados from '../../components/gestionEmpleados/personal/TablaEmpleados';\r\n\r\nexport default function ListaPersonal() {\r\n  return (\r\n    <div>\r\n      <TituloVista\r\n        titulo=\"Lista de Personal\"\r\n        subtitulo=\"Usuarios y Personal\"\r\n      />\r\n      <TablaEmpleados/>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * @param {array} data \r\n * @param {string} field \r\n */\r\nexport async function obtenerFiltroId(data=[], field, persona=false) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n      let isNull = false;\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null && e[field]._id && e[field]._id !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field]._id)\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: persona ? e[field].nombre + ' ' + e[field].apellidos : e[field].nombre,\r\n                value: e[field]._id\r\n              })\r\n            } \r\n          } else {\r\n            isNull = true;\r\n          };\r\n        });\r\n        \r\n        if (isNull) {\r\n          return resolve([...filtrosArray, { text: '-', value: '-'}]);\r\n        } else {\r\n          return resolve(filtrosArray);\r\n        };\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\nexport async function obtenerFiltroNombre(data=[], field) {\r\n  return new Promise((resolve, reject) => {\r\n    if (data.length === 0) {\r\n      return resolve([]);\r\n    } else {\r\n      let filtrosArray = [];\r\n\r\n      try {\r\n        data.forEach((e) => {\r\n          if (e[field] !== undefined && e[field] !== null) {\r\n            const i = filtrosArray.findIndex(c => c.value === e[field])\r\n            if (i === -1) {\r\n              filtrosArray.push({\r\n                text: e[field],\r\n                value: e[field]\r\n              })\r\n            } \r\n          };\r\n        });\r\n  \r\n        return resolve(filtrosArray);\r\n      } catch (error) {\r\n        return reject(error);\r\n      }\r\n    }\r\n  })\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select, Table, Button } from 'antd';\r\nimport { CheckCircleOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport { getEmpleados, patchEmpleados } from '../../../services/apiEmpleado';\r\nimport { empleados } from '../../../constants/metodos';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction TablaTecnicos({gestores=[], loadingGestores, auditores=[], loadingAuditores}) {\r\n  const [dataTecnicos, setDataTecnicos] = useState([]);\r\n  const [loadingTecnicos, setLoadingTecnicos] = useState(false);\r\n  const [loadingAsignarGestor, setLoadingAsignarGestor] = useState(false);\r\n  const [loadingAsignarAuditor, setLoadingAsignarAuditor] = useState(false);\r\n  const [tecnicosSeleccionados, setTecnicosSeleccionados] = useState([]);\r\n  const [gestorSeleccionado, setGestorSeleccionado] = useState(null);\r\n  const [auditorSeleccionado, setAuditorSeleccionado] = useState(null);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n  const [filtroAuditor, setFiltroAuditor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    cargarEmpleados();\r\n  },[]);\r\n\r\n  async function cargarEmpleados() {\r\n    setLoadingTecnicos(true);\r\n    await getEmpleados(true, { metodo: empleados.LISTA_TECNICOS_GLOBAL }).then(async({data}) => {\r\n        if (data) {\r\n          obtenerFiltroId(data, 'contrata').then((f) => setFiltroContrata(f))\r\n          obtenerFiltroId(data, 'gestor', true).then((f) => setFiltroGestor(f))\r\n          obtenerFiltroId(data, 'auditor', true).then((f) => setFiltroAuditor(f))\r\n          setDataTecnicos(data);\r\n        }\r\n      }).catch((error) => console.log(error)).finally(() => setLoadingTecnicos(false));\r\n  };\r\n\r\n  async function asignarTecnico(gestor=true) {\r\n    if (gestor) {\r\n      if (tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarGestor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_GESTOR, gestor: gestorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarGestor(false));\r\n      } else {\r\n        console.log('no hay tecnicos seleccionado')\r\n      }; \r\n    } else {\r\n      if (auditorSeleccionado && tecnicosSeleccionados.length > 0) {\r\n        setLoadingAsignarAuditor(true);\r\n        await patchEmpleados(true, { metodo: empleados.ACTUALIZAR_AUDITOR, auditor: auditorSeleccionado, tecnicos: tecnicosSeleccionados })\r\n          .then(async() => {\r\n            setTecnicosSeleccionados([]);\r\n            await cargarEmpleados();\r\n          }).catch((err) => {\r\n            setTecnicosSeleccionados([]);\r\n            console.log(err);\r\n          }).finally(() => setLoadingAsignarAuditor(false));\r\n      } else {\r\n        console.log('no hay tecnicos o auditor seleccionado')\r\n      }\r\n    }\r\n  };\r\n\r\n  const columnas = [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      align: 'center',\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      width: 150,\r\n      dataIndex: 'nombre',\r\n    },\r\n    {\r\n      title: 'Apellidos',\r\n      width: 150,\r\n      dataIndex: 'apellidos',\r\n    },\r\n    {\r\n      title: 'Carnet',\r\n      width: 100,\r\n      dataIndex: 'carnet'\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      width: 150,\r\n      dataIndex: 'contrata',\r\n      filters: filtroContrata,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => c.nombre && c.nombre\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      width: 150,\r\n      dataIndex: 'gestor',\r\n      filters: filtroGestor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined && r.gestor !== null) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (gestor) => {\r\n        if (gestor && gestor.nombre && gestor.apellidos) {\r\n          return gestor.nombre + ' ' + gestor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Auditor',\r\n      width: 150,\r\n      dataIndex: 'auditor',\r\n      filters: filtroAuditor,\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.auditor\r\n        } else if( r.auditor !== undefined) {\r\n          return r.auditor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (auditor) => {\r\n        if (auditor && auditor.nombre && auditor.apellidos) {\r\n          return auditor.nombre + ' ' + auditor.apellidos\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <p>Asignar Gestor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingGestores}\r\n        defaultValue={gestorSeleccionado}\r\n        onChange={e => setGestorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        gestores.length > 0 ? \r\n        gestores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarGestor ? <LoadingOutlined spin/>: <CheckCircleOutlined/>}\r\n        onClick={asignarTecnico}\r\n      >Asignar</Button>\r\n      <p>Asignar Auditor:</p>\r\n      <Select\r\n        showSearch\r\n        placeholder=\"Buscar por nombre\"\r\n        loading={loadingAuditores}\r\n        defaultValue={auditorSeleccionado}\r\n        onChange={e => setAuditorSeleccionado(e)} \r\n        style={{ width: 300, marginBottom: '.5rem', marginRight: '.5rem' }}\r\n        filterOption={(input, option) => {\r\n            console.log(input, option)\r\n            return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        }\r\n      >\r\n      {\r\n        auditores.length > 0 ? \r\n        auditores.map((e, i) => (\r\n          <Option key={i} value={e._id}>{`${e.nombre} ${e.apellidos}`}</Option>\r\n        ))\r\n        :\r\n        <Option>Sin data</Option>\r\n      }\r\n      </Select>\r\n      <Button \r\n        icon={loadingAsignarAuditor ? <LoadingOutlined spin/>:<CheckCircleOutlined/>}\r\n        onClick={() => asignarTecnico(false)}\r\n      >Asignar</Button>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        dataSource={dataTecnicos}\r\n        loading={loadingTecnicos}\r\n        columns={columnas}\r\n        rowSelection={{\r\n          columnWidth: 30,\r\n          selectedRowKeys: tecnicosSeleccionados,\r\n          onChange: (e) => setTecnicosSeleccionados(e)\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: 20,\r\n          pageSizeOptions: [20,50,100],\r\n        }}\r\n        scroll={{ y: '60vh' }}\r\n      />      \r\n    </div>\r\n  )\r\n}\r\n\r\nTablaTecnicos.propTypes = {\r\n  gestores: PropTypes.array,\r\n  loadingGestores: PropTypes.bool,\r\n  auditores: PropTypes.array,\r\n  loadingAuditores: PropTypes.bool\r\n}\r\n\r\nexport default TablaTecnicos\r\n\r\n","import { restPrivate } from './requestHelper';\r\n\r\n/**\r\n * @param {object} parametros \r\n * @param {number} parametros.page\r\n * @param {number} parametros.limit\r\n * @param {string} parametros.metodo\r\n * @param {Date} parametros.fecha_inicio\r\n * @param {Date} parametros.fecha_fin\r\n */\r\nexport const getAsistencias = async ({metodo, page, limit, fecha_inicio, fecha_fin}) => restPrivate({\r\n  url: 'asistencia', method: 'GET', params: {metodo, page, limit, fecha_inicio, fecha_fin}\r\n}, true);","import moment from 'moment';\r\n/**\r\n * @param {array} data \r\n */\r\nexport default async function ordenarAsistencia(data=[]) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let nuevoArray = [];\r\n      if (data.length === 0 ) return resolve(nuevoArray)\r\n      data.forEach((obj) => {\r\n        if (nuevoArray.length > 0) {\r\n          const aux = nuevoArray.findIndex((i) => i.nombre === obj.tecnico.nombre && i.apellidos === obj.tecnico.apellidos);\r\n          if (aux !== -1 && obj.createdAt ) {\r\n            const objetoNuevo = nuevoArray[aux];\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            nuevoArray[aux] = {\r\n              ...objetoNuevo,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n          } else {\r\n            let field = moment(obj.createdAt).format('DD-MM');\r\n            const objetoNuevo = {\r\n              _id: obj._id,\r\n              nombre: obj.tecnico.nombre,\r\n              apellidos: obj.tecnico.apellidos,\r\n              gestor: {\r\n                nombre: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n                _id: obj.tecnico.gestor !== undefined && obj.tecnico.gestor !== null ? obj.tecnico.gestor._id: '-',\r\n              },\r\n              auditor: {\r\n                nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n                _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n              },\r\n              observacion: obj.observacion,\r\n              [field]: {\r\n                estado: obj.estado,\r\n                observacion: obj.observacion,\r\n                iniciado: obj.iniciado,\r\n                fecha_iniciado: obj.fecha_iniciado\r\n              }\r\n            };\r\n            nuevoArray.push(objetoNuevo);\r\n          }\r\n        } else {\r\n          let field = moment(obj.createdAt).format('DD-MM');\r\n          nuevoArray = [{\r\n            _id: obj._id,\r\n            nombre: obj.tecnico.nombre,\r\n            apellidos: obj.tecnico.apellidos,\r\n            gestor: {\r\n              nombre: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor.nombre + ' ' + obj.tecnico.gestor.apellidos: '-',\r\n              _id: obj.tecnico.gestor !== undefined ? obj.tecnico.gestor._id: '-',\r\n            },\r\n            auditor: {\r\n              nombre: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor.nombre + ' ' + obj.tecnico.auditor.apellidos: '-',\r\n              _id: obj.tecnico.auditor !== undefined ? obj.tecnico.auditor._id: '-',\r\n            },\r\n            observacion: obj.observacion,\r\n            [field]: {\r\n              estado: obj.estado,\r\n              observacion: obj.observacion,\r\n              iniciado: obj.iniciado,\r\n              fecha_iniciado: obj.fecha_iniciado\r\n            }\r\n          }];\r\n        };\r\n      });\r\n      return resolve(nuevoArray);\r\n    } catch (error) {\r\n      return reject(error);\r\n    }\r\n  });\r\n};","const estadoAsistencia = {\r\n  FALTA: 'F',\r\n  ASISTIO: 'A',\r\n  DESCANSO: 'D',\r\n  PERMISO: 'P',\r\n  SUSPENDIDO: 'S',\r\n  DESCANSO_MEDICO: 'DM',\r\n  EXAMEN_MEDICO: 'EM',\r\n};\r\n\r\nexport default estadoAsistencia;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tag } from 'antd';\r\n\r\nimport estadoAsistencia from '../../../constants/estadoAsistencia';\r\n\r\nfunction EstadoTag({estado}) {\r\n  switch (estado) {\r\n    case estadoAsistencia.FALTA:\r\n      return (<Tag color=\"error\">{estado}</Tag>);\r\n    case estadoAsistencia.ASISTIO:\r\n      return (<Tag color=\"success\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO:\r\n      return (<Tag color=\"gold\">{estado}</Tag>);\r\n    case estadoAsistencia.PERMISO:\r\n      return (<Tag color=\"blue\">{estado}</Tag>);\r\n    case estadoAsistencia.SUSPENDIDO:\r\n      return (<Tag color=\"warning\">{estado}</Tag>);\r\n    case estadoAsistencia.DESCANSO_MEDICO:\r\n      return (<Tag color=\"geekblue\">{estado}</Tag>);\r\n    case estadoAsistencia.EXAMEN_MEDICO:\r\n        return (<Tag color=\"purple\">{estado}</Tag>);\r\n    // case  estado === 'BA':\r\n    //   return (<Tag color=\"blue\">{estado}</Tag>);\r\n    default:\r\n      return (<Tag>-</Tag>)\r\n  };\r\n};\r\n\r\nEstadoTag.propTypes = {\r\n  estado: PropTypes.string\r\n};\r\n\r\nexport default EstadoTag;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Col, DatePicker, Popover, Row, Statistic, Table, Tag } from 'antd';\r\nimport { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ReloadOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nimport { getAsistencias } from '../../../services/apiAsistencia';\r\nimport { asistencias } from '../../../constants/metodos';\r\nimport colores from '../../../constants/colores';\r\nimport ordenarAsistencia from '../../../libraries/ordenarAsistencias';\r\nimport EstadoTag from './EstadoTag';\r\nimport { obtenerFiltroId } from '../../../libraries/obtenerFiltro';\r\n\r\nconst columnasDefecto = [\r\n  {\r\n    title: '#',\r\n    width: 50,\r\n    align: 'center',\r\n    render: (_,__,i) => i+1\r\n  }, \r\n  {\r\n    title: 'Tecnico',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Gestor',\r\n    width: 200\r\n  },\r\n  {\r\n    title: 'Fecha',\r\n    width: 100\r\n  }\r\n]\r\n\r\nexport default function TablaAsistencias() {\r\n  const [diaInicio, setDiaInicio] = useState(null);\r\n  const [diaFin, setDiaFin] = useState(null);\r\n  const [diasSemana, setDiasSemana] = useState([]);\r\n  const [columnas, setColumnas] = useState(columnasDefecto);\r\n  const [dataAsistencias, setDataAsistencias] = useState([]);\r\n  const [loadingAsistencia, setLoadingAsistencia] = useState(false);\r\n  const [filtroGestores, setFiltroGestores] = useState([]);\r\n  const [filtroAuditores, setFiltroAuditores] = useState([]);\r\n  const [rutas, setRutas] = useState({total:0,activas:0});\r\n\r\n  useEffect(() => {\r\n    generarColumnas();\r\n  //eslint-disable-next-line\r\n  }, [diasSemana, filtroGestores])\r\n\r\n  async function listarAsistencias() {\r\n    if (diaInicio && diaFin) {\r\n      setLoadingAsistencia(true);\r\n      await getAsistencias({\r\n        metodo: asistencias.LISTAR_TODO,\r\n        page: 1,\r\n        limit: 20,\r\n        fecha_inicio: diaInicio,\r\n        fecha_fin: diaFin\r\n      }).then(async({data}) => {\r\n        return await ordenarAsistencia(data.filter((e) => e.tecnico !== null))\r\n      }).then((resultado) => {\r\n        setDataAsistencias(resultado);\r\n        obtenerFiltroId(resultado, 'gestor', true).then((f) => setFiltroGestores(f));\r\n        obtenerFiltroId(resultado, 'auditor', true).then((f) => setFiltroAuditores(f));\r\n        rutasAtivas(resultado)\r\n      }).catch((err) => console.log(err)).finally(() => setLoadingAsistencia(false));\r\n    };\r\n  };\r\n\r\n  function cambiarSemana(dia) {\r\n    if (dia) {\r\n      let weekStart = dia.clone().startOf('week');\r\n      let weekEnd = dia.clone().endOf('week');\r\n      setDiaInicio(moment(weekStart).format('YYYY-MM-DD'));\r\n      setDiaFin(moment(weekEnd).format('YYYY-MM-DD'))\r\n      let days = [];\r\n      for (let i = 0; i <= 6; i++) {\r\n        days.push(moment(weekStart).add(i, 'days').format(\"DD-MM\"));\r\n      };\r\n      setDiasSemana(days);\r\n    } else {\r\n      setDiaInicio(null);\r\n      setDiaFin(null);\r\n    }\r\n  };\r\n\r\n  function generarColumnas() {\r\n    let hoy = moment().format('DD-MM');\r\n    if (diasSemana.length > 0) {\r\n      const firstColumn = [{\r\n        title: '#',\r\n        width: 50,\r\n        align: 'center',\r\n        render: (_,__,i) => i+1\r\n      },{\r\n        title: 'Tecnico',\r\n        dataIndex: 'nombre',\r\n        width: 300,\r\n        render: (e, row) => row.nombre + ' ' + row.apellidos\r\n      }, {\r\n        title: 'Gestor',\r\n        dataIndex: 'gestor',\r\n        filters: filtroGestores,\r\n        onFilter: (c, record) => {\r\n          if (record.gestor && c) {\r\n            return record.gestor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'Auditor',\r\n        dataIndex: 'auditor',\r\n        filters: filtroAuditores,\r\n        onFilter: (c, record) => {\r\n          if (record.auditor && c) {\r\n            return record.auditor._id.indexOf(c) === 0;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        width: 250,\r\n        render: (e) => e.nombre ? e.nombre : '-'\r\n      }, {\r\n        title: 'En Ruta',\r\n        dataIndex: hoy,\r\n        width: 150,\r\n        align: 'center',\r\n        filters: [{text:'Ok', value: true},{text:'No', value: false}],\r\n        onFilter: (c, record) => {\r\n          if (record[hoy]) {\r\n            if(!record[hoy].iniciado && !c) return true\r\n            return record[hoy].iniciado === c\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        render: (e) => {\r\n          if (e) {\r\n            if (e.iniciado) {\r\n              return (<Popover content={e.fecha_iniciado?moment(e.fecha_iniciado).format('HH:mm'):'-'} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><Tag color={colores.success}><CheckCircleOutlined/></Tag></button>\r\n              </Popover>)\r\n            } else {\r\n              return <Tag color={colores.error}><CloseCircleOutlined/></Tag>\r\n            }\r\n          } else {\r\n            return <Tag color={colores.error}>No</Tag>\r\n          }\r\n        }\r\n      }]\r\n      const columnsAux = diasSemana.map((e) => {\r\n        return ({\r\n          title: e,\r\n          width: 100,\r\n          align: 'center',\r\n          dataIndex: e,\r\n          render: (a) => {\r\n            if (a && a.estado && a.observacion && a.observacion !== '-') {\r\n              return (<Popover content={a.observacion} title=\"Observaciones\" trigger=\"click\">\r\n                <button className=\"boton-none\"><EstadoTag estado={a.estado}/></button>\r\n              </Popover>)\r\n            } else {\r\n              return (<EstadoTag estado={a && a.estado ? a.estado :'-'}/>)\r\n            };\r\n          }\r\n        })\r\n      })\r\n      setColumnas([\r\n        ...firstColumn,\r\n        ...columnsAux\r\n      ])\r\n    } else {\r\n      setColumnas([]);\r\n    }\r\n  };\r\n  //funcion para contar las rutas activas\r\n  function rutasAtivas(data) {\r\n    let total = 0;\r\n    let activas = 0;\r\n    let hoy = moment().format('DD-MM');\r\n    if (data.length > 0) {\r\n      data.forEach((e) => {\r\n        if (e[hoy] && e[hoy].estado) {\r\n          total = total +1;\r\n          if (e[hoy].iniciado) activas = activas +1;\r\n        }\r\n      });\r\n    };\r\n    setRutas({total, activas})\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} style={{ marginBottom: '.5rem' }}>\r\n          <p style={{ color: 'rgba(0,0,0,0.45)' }}>Seleccionar Fecha:</p>\r\n          <DatePicker \r\n            onChange={cambiarSemana} \r\n            picker=\"week\" \r\n            style={{ marginRight: '.5rem' }}\r\n          />\r\n          <Button disabled={loadingAsistencia} icon={loadingAsistencia ? <LoadingOutlined spin/>:<ReloadOutlined/>} onClick={listarAsistencias}>Actualizar</Button>\r\n        </Col>\r\n        <Col sm={6} style={{ marginBottom: '1rem', marginRight: '.5rem' }}>\r\n          <Statistic \r\n            title=\"Semana selecionada\" \r\n            value={diaInicio && diaFin ? `${moment(diaInicio).format('DD-MM')} / ${moment(diaFin).format('DD-MM')}`:'-'}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <Statistic \r\n            title=\"Rutas Activas (Hoy)\" \r\n            value={rutas.activas} \r\n            suffix={`/ ${rutas.total}`}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        size=\"small\"\r\n        loading={loadingAsistencia}\r\n        columns={columnas}\r\n        dataSource={dataAsistencias}\r\n        pagination={{\r\n          defaultPageSize: 20\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { ClusterOutlined, CheckSquareOutlined } from '@ant-design/icons'\r\n\r\nimport TituloContent from '../../components/common/TituloContent';\r\nimport Contenedor from '../../components/common/Contenedor';\r\nimport TablaTecnicos from '../../components/operativa/listaRutas/TablaTecnicos';\r\nimport { getEmpleados } from '../../services/apiEmpleado';\r\nimport { empleados } from '../../constants/metodos';\r\nimport TablaAsistencias from '../../components/operativa/listaRutas/TablaAsistencias';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function ListaRutas() {\r\n  const [listaGestores, setListaGestores] = useState([]);\r\n  const [loadingGestores, setLoadingGestores] = useState(false);\r\n  const [listaAuditores, setListaAuditores] = useState([]);\r\n  const [loadingAuditores, setLoadingAuditores] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarGestores();\r\n    cargarAuditores();\r\n  },[]);\r\n\r\n  async function cargarGestores() {\r\n    setLoadingGestores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_GESTORES }).then(({data}) => {\r\n      if(data) setListaGestores([...data, { _id: null, nombre: '-', apellidos: '' }]);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingGestores(false));\r\n  };\r\n\r\n  async function cargarAuditores() {\r\n    setLoadingAuditores(true);\r\n    await getEmpleados(false, { metodo: empleados.LISTA_AUDITORES}).then(({data}) => {\r\n      if(data) setListaAuditores(data);\r\n      return;\r\n    }).catch((err) => console.log(err)).finally(() => setLoadingAuditores(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Lista de Rutas\" subtitulo=\"Operativa\"/>\r\n      <Contenedor>\r\n        <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <ClusterOutlined />\r\n                Asignar Rutas\r\n              </span>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <TablaTecnicos\r\n              gestores={listaGestores}\r\n              loadingGestores={loadingGestores}\r\n              auditores={listaAuditores}\r\n              loadingAuditores={loadingAuditores}\r\n            />\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <span>\r\n                <CheckSquareOutlined />\r\n                Asistencia\r\n              </span>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            <TablaAsistencias/>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas, permisos } from '../../constants/listaRutas';\r\nimport ListaRutas from \"../../views/Operativa/ListaRutas\";\r\n\r\nconst array = [\r\n  {\r\n    path: rutas.listaRutas,\r\n    exact: true,\r\n    component: ListaRutas,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default array","export const averias = {\r\n  TIPO: 'averiashfc',\r\n  CODIGO_ZONAL: 'codofcadm',\r\n  CODIGO_REQUERIMIENTO: 'codreq',\r\n  CODIGO_CLIENTE: 'codcli',\r\n  NOMBRE_CLIENTE: 'nomcli',\r\n  CODIGO_CTR: 'codctr',\r\n  DESCRIPCION_CTR: 'desnomctr',\r\n  CODIGO_NODO: 'codnod',\r\n  CODIGO_TROBA: 'nroplano',\r\n  DISTRITO: 'desdtt',\r\n  //direccion -START\r\n  destipvia: 'destipvia',\r\n  desnomvia: 'desnomvia',\r\n  numvia: 'numvia',\r\n  despis: 'despis',\r\n  desint: 'desint',\r\n  desmzn: 'desmzn',\r\n  deslot: 'deslot',\r\n  destipurb: 'destipurb',\r\n  desurb: 'desurb',\r\n  //direccion -END\r\n  FECHA_REGISTRO: 'fec_regist',\r\n  CODIGO_MOTIVO: 'codmotv',\r\n  DETALLE_MOTIVO: 'desmotv',\r\n  TIPO_REQUERIMIENTO: 'tipreqfin',\r\n  DETALLE_TRABAJO: 'desobsordtrab',\r\n  TELEFONO_CONTACTO: 'tel_cont_cc',\r\n  TELEFONO_REFERENCIA: 'tel_cont_ref_cc',\r\n  NUMERO_REITERADA: 'numaverei',\r\n  TIPO_TECNOLOGIA: 'tiptecnologia',\r\n  // CODIGO_SEGMENTO: 'codsegmento',\r\n  // TELEFONO: 'telefono',\r\n  //detalle\r\n  // CODIGO_ORDEN: 'codordtrab',\r\n  // CODIGO_INCIDENCIA: 'codinc',\r\n};","import * as XLSX from 'xlsx';\r\n\r\nexport default async function convertirExcel(excel){\r\n  return new Promise(\r\n    function(resolve, reject) {\r\n      try {\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n\r\n        reader.onload = (event) => {\r\n          let bstr = event.target.result;\r\n          const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\r\n          /* Get first worksheet */\r\n          const wsname = wb.SheetNames[0];\r\n          const ws = wb.Sheets[wsname];\r\n          /* Convert array of arrays */\r\n          const data = XLSX.utils.sheet_to_json(ws);\r\n\r\n          let a = [];\r\n\r\n          data.map((objeto) => {\r\n            return a.push(\r\n              Object.keys(objeto).reduce((c, k) => (\r\n                // eslint-disable-next-line\r\n                c[k.trim().toLowerCase()] = objeto[k], c\r\n              ), {})\r\n            );\r\n          });\r\n          return resolve(a);                   \r\n        }\r\n\r\n        if (rABS) {\r\n          reader.readAsBinaryString(excel);\r\n        } else {\r\n          reader.readAsArrayBuffer(excel);\r\n        }\r\n\r\n      } catch (error) {\r\n        return reject(error)\r\n      }\r\n    }\r\n  );\r\n}","export default function numeroFecha(numeroDeDias, utc){\r\n  var diasDesde1900 = 25567 + 2;\r\n  // 86400 es el número de segundos en un día, luego multiplicamos por 1000 para obtener milisegundos.\r\n  let fecha = new Date((numeroDeDias - diasDesde1900) * 86400 * 1000);\r\n  //false para los valores que de frente suban\r\n  //true para los valores que necesitan tratamiento\r\n  if (utc) {\r\n    return fecha;\r\n  } else {\r\n    return (new Date(fecha.setHours(fecha.getHours() + 5)))\r\n  }\r\n}","import numeroFecha from '../numeroFecha';\r\nimport isEmpty from 'is-empty';\r\n\r\nimport { averias } from '../../constants/valoresOrdenes';\r\n\r\nconst codctrArray = [\"470\",\"476\"] ;\r\n\r\nexport async function pendientesAverias(ordenes=[]){\r\n  // eslint-disable-next-line\r\n  const promises = ordenes\r\n    .filter((e) => codctrArray.includes(String(e[averias.CODIGO_CTR])))\r\n    .map(function(orden, indice){\r\n      \r\n    let verificado = true;\r\n\r\n    if (isEmpty(orden[averias.TELEFONO])) {verificado = false}\r\n    if (isEmpty(String(orden[averias.DISTRITO]).trim())) {verificado = false}\r\n    if (isNaN(orden[averias.CODIGO_REQUERIMIENTO])) {verificado = false}\r\n\r\n    return ({\r\n      key: indice,\r\n      verificado,\r\n      tipo: averias.TIPO,\r\n      codigo_zonal: orden[averias.CODIGO_ZONAL] !== undefined && orden[averias.CODIGO_ZONAL],\r\n      codigo_requerimiento : orden[averias.CODIGO_REQUERIMIENTO] !== undefined && orden[averias.CODIGO_REQUERIMIENTO],\r\n      codigo_cliente: orden[averias.CODIGO_CLIENTE] !== undefined && orden[averias.CODIGO_CLIENTE],\r\n      nombre_cliente: orden[averias.NOMBRE_CLIENTE] !== undefined && orden[averias.NOMBRE_CLIENTE],\r\n      codigo_ctr: orden[averias.CODIGO_CTR] !== undefined && orden[averias.CODIGO_CTR],\r\n      descripcion_ctr: orden[averias.DESCRIPCION_CTR] !== undefined && orden[averias.DESCRIPCION_CTR],\r\n      codigo_nodo: orden[averias.CODIGO_NODO] !== undefined && orden[averias.CODIGO_NODO],\r\n      codigo_troba: orden[averias.CODIGO_TROBA] !== undefined && orden[averias.CODIGO_TROBA],\r\n      distrito: orden[averias.DISTRITO] !== undefined && orden[averias.DISTRITO],\r\n      direccion: (orden[averias.destipvia] !== undefined ? orden[averias.destipvia]:'')\r\n                  + (orden[averias.desnomvia] !== undefined ? ' '+orden[averias.desnomvia]:'')\r\n                  + (orden[averias.numvia] !== undefined ? ' '+orden[averias.numvia]:'')\r\n                  + (orden[averias.despis] !== undefined ? ' '+orden[averias.despis]:'')\r\n                  + (orden[averias.desint] !== undefined ? (' Int. ' + orden[averias.desint]):'')\r\n                  + (orden[averias.desmzn] !== undefined ? (' Mz. ' + orden[averias.desmzn]):'')\r\n                  + (orden[averias.deslot] !== undefined ? (' Lt. ' + orden[averias.deslot]):'')\r\n                  + (orden[averias.destipurb] !== undefined ? ' '+orden[averias.destipurb]:'')\r\n                  + (orden[averias.desurb] !== undefined ? ' '+orden[averias.desurb]:''),\r\n                  // .replace(/false|,/g, ''),\r\n      fecha_registro : !isNaN(Number(orden[averias.FECHA_REGISTRO])) && numeroFecha(orden[averias.FECHA_REGISTRO]),\r\n      codigo_motivo: orden[averias.CODIGO_MOTIVO] !== undefined && orden[averias.CODIGO_MOTIVO],\r\n      detalle_motivo : orden[averias.DETALLE_MOTIVO] !== undefined && orden[averias.DETALLE_MOTIVO].replace(/,/g, ''),\r\n      tipo_requerimiento: orden[averias.TIPO_REQUERIMIENTO] !== undefined && orden[averias.TIPO_REQUERIMIENTO],\r\n      detalle_trabajo: orden[averias.DETALLE_TRABAJO] !== undefined && (orden[averias.DETALLE_TRABAJO]).replace(/,/g, ''),\r\n      telefono_contacto: orden[averias.TELEFONO_CONTACTO] !== undefined && orden[averias.TELEFONO_CONTACTO],\r\n      telefono_referencia: orden[averias.TELEFONO_REFERENCIA] !== undefined && orden[averias.TELEFONO_REFERENCIA],\r\n      numero_reiterada: orden[averias.NUMERO_REITERADA] !== undefined && orden[averias.NUMERO_REITERADA],\r\n      tipo_tecnologia: orden[averias.TIPO_TECNOLOGIA] !== undefined && orden[averias.TIPO_TECNOLOGIA],\r\n    })\r\n  });\r\n  // eslint-disable-next-line\r\n  return Promise.all(promises).catch((err) => {\r\n    console.log('Error en la promesa');\r\n    console.log(err);\r\n    return err;\r\n  })\r\n}","import { averias } from '../../constants/valoresOrdenes';\r\nimport { pendientesAverias } from './asignarAverias'\r\n\r\nexport default async function asignarValores(obj, tipo, estado) {\r\n  switch (tipo) {\r\n    case averias.TIPO:\r\n      if (estado === 1) {\r\n        return await pendientesAverias(obj);\r\n      } else {\r\n        return false   \r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}","import { restPrivate } from './requestHelper';\r\n\r\nexport const getOrdenes = async (toast, {metodo, tipo}) => restPrivate({\r\n  url: 'ordenes', method: 'GET', params: {metodo, tipo}\r\n}, toast);\r\n\r\nexport const getIndicadores = async (toast, {tipo}) => restPrivate({\r\n  url: 'ordenes/actividades', method: 'GET', params: {tipo}\r\n}, toast);\r\n\r\n/**\r\n * @param {object} body\r\n * @param {string} body.metodo\r\n * @param {array} body.ordenes\r\n * @param {object} body.orden\r\n */\r\nexport const postOrdenes = async ({metodo, ordenes, orden}) => restPrivate({\r\n  url: 'ordenes', method: 'POST', data: { ordenes, metodo, orden}\r\n},true);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Radio, Row, Statistic, Upload } from 'antd';\r\nimport { UploadOutlined, SaveOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport cogoToast from 'cogo-toast';\r\n\r\nimport variables from '../../../constants/config';\r\nimport convertirExcel from '../../../libraries/convertirExcel';\r\nimport asignarValores from '../../../libraries/asignarValores';\r\nimport { getOrdenes, postOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\n\r\nfunction ActualizarOrdenes({tipoOrden}) {\r\n  const [estadoOrden, setEstadoOrden] = useState(1)\r\n  const [estadoArchivo, setEstadoArchivo] = useState('done');\r\n  const [nombreArchivo, setNombreArchivo] = useState('');\r\n  const [ordenesObtenidas, setOrdenesObtenidas] = useState([]);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setEstadoArchivo('done');\r\n    setNombreArchivo('');\r\n    setOrdenesObtenidas([]);\r\n  },[estadoOrden]);\r\n\r\n  async function guardarArchivo() {\r\n    if (ordenesObtenidas.length === 0) {\r\n      cogoToast.warn('No hay ordenes para subir.', { position: 'top-right' });\r\n    } else {\r\n      setLoadingButton(true);\r\n      await postOrdenes({metodo: ordenes.SUBIR_DATA, ordenes: ordenesObtenidas })\r\n        .then(async() => {\r\n          cogoToast.info('Sincronizando ordenes con TOA...', { position: 'top-right' });\r\n          return await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo: tipoOrden})\r\n        }).catch((err) => console.log(err));\r\n      setLoadingButton(false);  \r\n    }\r\n  };\r\n\r\n  function cargarArchivo(file) {\r\n    //actualizar el estado y el no mbre del archivo\r\n    setEstadoArchivo('uploading');\r\n    setNombreArchivo(file.name);\r\n    //validar si es un archivo excel\r\n    if (!variables.formatosAdmitidos.includes(file.type)) {\r\n      setEstadoArchivo('error');\r\n      cogoToast.warn('Formato Incorrecto.', { position: 'top-right' })\r\n      return false;\r\n    };\r\n    //convertir excel a json\r\n    convertirExcel(file).then(async(objJson) => {\r\n      //obtener los valores necesarios, actualizar estado y guardar\r\n      await asignarValores(objJson, tipoOrden, estadoOrden).then((data) => {\r\n        setEstadoArchivo('done');\r\n        setOrdenesObtenidas(data);\r\n        cogoToast.success(`${data.length} Ordenes encontradas.`, {position: 'top-right'});\r\n      });\r\n    }).catch((err) => {\r\n      setEstadoArchivo('error');\r\n      cogoToast.error('Error convirtiendo el archivo', {position: 'top-right'})\r\n      console.log(err);\r\n    })\r\n    //evita enviar peticiuones http\r\n    return false;\r\n  };\r\n\r\n  const removerArchivo = () => {\r\n    setNombreArchivo('');\r\n    setEstadoArchivo('done');\r\n    setOrdenesObtenidas([]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={10} md={10} lg={12} xl={12} spellCheck>\r\n          <p>Tipo de Archivo:</p>\r\n          <Radio.Group onChange={(e) => setEstadoOrden(e.target.value)} value={estadoOrden}>\r\n            <Radio value={1}>\r\n              Pendientes\r\n            </Radio>\r\n            <Radio value={2}>\r\n              Liquidadas\r\n            </Radio>\r\n          </Radio.Group>\r\n          <div style={{width: '14rem', margin: '1rem 0', }}>\r\n            <Upload \r\n              accept=\".xls,.xlsx\"\r\n              beforeUpload={cargarArchivo}\r\n              onRemove={removerArchivo}\r\n              fileList={[{uid: '-1', name: nombreArchivo, status: estadoArchivo}]}\r\n            >\r\n              <Button>\r\n                <UploadOutlined />{` `}Subir Archivo\r\n              </Button>\r\n            </Upload>\r\n          </div>\r\n        </Col>\r\n        <Col sm={14} md={14} lg={12} xl={12}>\r\n          <Statistic title=\"Ordenes\" value={ordenesObtenidas.length}/>\r\n          <Button \r\n            style={{ marginTop: '.5rem' }} \r\n            type=\"primary\" \r\n            icon={loadingButton ? <LoadingOutlined spin/> : <SaveOutlined/>}\r\n            onClick={guardarArchivo}\r\n          >\r\n            Guardar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n     \r\n    </div>\r\n  )\r\n};\r\n\r\nActualizarOrdenes.propTypes = {\r\n  tipoOrden: PropTypes.string\r\n};\r\n\r\nexport default ActualizarOrdenes\r\n\r\n","/**\r\n * \r\n * @param {string} string \r\n */\r\nexport default function capitalizar(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Tag } from 'antd';\r\nimport capitalizar from '../../../libraries/capitalizar';\r\n\r\nfunction TagEstado({estado}) {\r\n  switch (estado) {\r\n    case 'cancelado':\r\n      return <Tag>{capitalizar(estado)}</Tag>\r\n    case 'completado':\r\n      return <Tag color=\"success\">{capitalizar(estado)}</Tag>\r\n    case 'iniciado':\r\n      return <Tag color=\"geekblue\">{capitalizar(estado)}</Tag>\r\n    case 'no realizada':\r\n      return <Tag color=\"magenta\">{capitalizar(estado)}</Tag>\r\n    case 'pendiente':\r\n      return <Tag color=\"orange\">{capitalizar(estado)}</Tag>\r\n    case 'suspendido':\r\n      return <Tag color=\"red\">{capitalizar(estado)}</Tag>\r\n    default:\r\n      return <Tag>-</Tag>\r\n  }\r\n}\r\n\r\nTagEstado.propTypes = {\r\n  estado: PropTypes.string\r\n}\r\n\r\nexport default TagEstado\r\n\r\n","import React from 'react';\r\nimport { Tag, Tooltip, Typography } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport TagEstado from './TagEstado';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport default function columnasAverias(filtroDistrito=[],filtroBucket=[],filtroEstadoToa=[],filtroContrata=[], filtroGestor=[]) {\r\n\r\n  return [\r\n    {\r\n      title: '#',\r\n      width: 50,\r\n      render: (_,__,i) => i+1\r\n    },\r\n    {\r\n      title: 'Requerimiento',\r\n      dataIndex: 'codigo_requerimiento',\r\n      width: 120,\r\n      render: (req) => <Text copyable>{req}</Text>\r\n    },\r\n    {\r\n      title: 'CTR',\r\n      dataIndex: 'codigo_ctr',\r\n      width: 60,\r\n    },\r\n    {\r\n      title: 'Nodo',\r\n      dataIndex: 'codigo_nodo',\r\n      width: 60\r\n    },\r\n    {\r\n      title: 'Troba',\r\n      dataIndex: 'codigo_troba',\r\n      width: 70,\r\n      sorter: (a, b) => {\r\n        if (a.codigo_troba < b.codigo_troba) {\r\n          return -1;\r\n        }\r\n        if (a.codigo_troba > b.codigo_troba) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Reiterada',\r\n      dataIndex: 'numero_reiterada',\r\n      width: 100,\r\n      align: 'center',\r\n      sorter: (a,b) => a.numero_reiterada - b.numero_reiterada,\r\n      render: (r) => {\r\n        if (r) {\r\n          return <Tag color=\"#E5302F\">{r}</Tag>\r\n        } else {\r\n          return '-'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Distrito',\r\n      dataIndex: 'distrito',\r\n      width: 160,\r\n      filters: filtroDistrito ? filtroDistrito : [],\r\n      onFilter: (v,r) => r.distrito.indexOf(v) === 0\r\n    },\r\n    {\r\n      title: 'Bucket',\r\n      dataIndex: 'bucket',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroBucket ? filtroBucket : [],\r\n      onFilter: (v,r) => r.bucket.indexOf(v) === 0,\r\n      render: (bckt) => (\r\n        <Tooltip placement=\"topLeft\" title={bckt}>\r\n          {bckt}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'estado_toa',\r\n      width: 150,\r\n      align: 'center',\r\n      filters: filtroEstadoToa ? filtroEstadoToa : [],\r\n      onFilter: (v,r) => r.estado_toa.indexOf(v) === 0,\r\n      render: (e) => <TagEstado estado={e}/>\r\n    },\r\n    {\r\n      title: 'Contrata',\r\n      dataIndex: 'contrata',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroContrata ? filtroContrata : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.contrata\r\n        } else if( r.contrata !== undefined) {\r\n          return r.contrata._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (c) => (\r\n        <Tooltip placement=\"topLeft\" title={c ? c.nombre:'-'}>\r\n          {c ? c.nombre:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Gestor',\r\n      dataIndex: 'gestor',\r\n      width: 200,\r\n      ellipsis: {\r\n        showTitle: false,\r\n      },\r\n      filters: filtroGestor ? filtroGestor : [],\r\n      onFilter: (v,r) => {\r\n        if (v === '-') {\r\n          return !r.gestor\r\n        } else if( r.gestor !== undefined) {\r\n          return r.gestor._id.indexOf(v) === 0\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      render: (g) => (\r\n        <Tooltip placement=\"topLeft\" title={g ? g.nombre+' '+g.apellidos:'-'}>\r\n          {g ? g.nombre+' '+g.apellidos:'-'}\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: 'Fecha Registro',\r\n      dataIndex: 'fecha_registro',\r\n      width: 150,\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return moment(fecha).format('DD/MM/YY HH:mm');\r\n        } else {\r\n          return '-';\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Horas',\r\n      dataIndex: 'fecha_registro',\r\n      width: 80,\r\n      align: 'center',\r\n      render: (fecha) => {\r\n        if (fecha) {\r\n          return <Tag>{moment().diff(fecha, 'hours')}</Tag>\r\n        } else {\r\n          return <Tag>-</Tag>\r\n        }\r\n      }\r\n    }\r\n  ]\r\n};","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'antd';\r\nimport { CloudSyncOutlined, EditFilled, LoadingOutlined, ReloadOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\nimport columnasAverias from './columnasAverias'\r\nimport { getOrdenes } from '../../../services/apiOrden';\r\nimport { ordenes } from '../../../constants/metodos';\r\nimport { obtenerFiltroId, obtenerFiltroNombre } from '../../../libraries/obtenerFiltro';\r\n\r\nfunction TablaOrdenes({ gestores, contratas, tipo }) {\r\n  const [dataOrdenes, setDataOrdenes] = useState([]);\r\n  const [loadingOrdenes, setLoadingOrdenes] = useState(false);\r\n  const [loadingCruzar, setLoadingCruzar] = useState(false);\r\n  const [ordenesSeleccionadas, setOrdenesSeleccionadas] = useState([]);\r\n  const [filtroDistrito, setFiltroDistrito] = useState([]);\r\n  const [filtroBucket, setFiltroBucket] = useState([]);\r\n  const [filtroEstadoToa, setFiltroEstadoToa] = useState([]);\r\n  const [filtroContrata, setFiltroContrata] = useState([]);\r\n  const [filtroGestor, setFiltroGestor] = useState([]);\r\n\r\n  useEffect(() => {\r\n    listarOrdenes();\r\n  // eslint-disable-next-line\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if (dataOrdenes.length > 0) {\r\n      obtenerFiltroNombre(dataOrdenes, 'distrito').then((f) => setFiltroDistrito(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'bucket').then((f) => setFiltroBucket(f));\r\n      obtenerFiltroNombre(dataOrdenes, 'estado_toa').then((f) => setFiltroEstadoToa(f));\r\n      obtenerFiltroId(dataOrdenes, 'contrata').then((f) => setFiltroContrata(f));\r\n      obtenerFiltroId(dataOrdenes, 'gestor', true).then((f) => setFiltroGestor(f));\r\n    };\r\n  },[dataOrdenes])\r\n\r\n  async function listarOrdenes() {\r\n    setLoadingOrdenes(true);\r\n    await getOrdenes(true, { metodo: ordenes.ORDENES_HOY })\r\n      .then(({data}) => setDataOrdenes(data))\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingOrdenes(false));\r\n  };\r\n\r\n  async function sincronizarData() {\r\n    setLoadingCruzar(true);\r\n    await getOrdenes(true, { metodo: ordenes.CRUZAR_DATA, tipo})\r\n      .then((e) => {\r\n        if (e.status === 'success') {\r\n          listarOrdenes()\r\n        };\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoadingCruzar(false));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button \r\n          type=\"primary\"\r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<ReloadOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={listarOrdenes}\r\n        >Actualizar</Button>\r\n        <Button\r\n          icon={loadingCruzar ? <LoadingOutlined spin/>:<CloudSyncOutlined />}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          onClick={sincronizarData}\r\n        >Sincronizar</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<EditFilled/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Editar Bucket</Button>\r\n        <Button \r\n          icon={loadingOrdenes ? <LoadingOutlined spin/>:<UserSwitchOutlined/>}\r\n          style={{ marginBottom: '1rem', marginRight: '.5rem' }}\r\n          // onClick={listarOrdenes}\r\n        >Asignar</Button>\r\n      </div>\r\n      <Table\r\n        rowKey=\"_id\"\r\n        onRow={(record) => {\r\n          return {\r\n            onDoubleClick: () => console.log(record)\r\n          }\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: 50,\r\n          selectedRowKeys: ordenesSeleccionadas,\r\n          onChange: (e) => setOrdenesSeleccionadas(e)\r\n        }}\r\n        columns={columnasAverias(filtroDistrito,filtroBucket,filtroEstadoToa,filtroContrata,filtroGestor)}\r\n        dataSource={dataOrdenes}\r\n        loading={loadingOrdenes}\r\n        size=\"small\"\r\n        scroll={{ y: '65vh' }}\r\n        pagination={{\r\n          defaultPageSize: 50,\r\n          pageSizeOptions: [50,100,200]\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nTablaOrdenes.propTypes = {\r\n  gestores: PropTypes.array,\r\n  contratas: PropTypes.array\r\n}\r\n\r\nexport default TablaOrdenes\r\n\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { CloudUploadOutlined, CheckCircleOutlined, ScheduleOutlined } from '@ant-design/icons'\r\n\r\nimport { averias } from '../../../constants/valoresOrdenes';\r\nimport TituloContent from '../../../components/common/TituloContent';\r\nimport Contenedor from '../../../components/common/Contenedor';\r\nimport ActualizarOrdenes from '../../../components/operativa/administrarOrdenes/ActualizarOrdenes';\r\nimport TablaOrdenes from '../../../components/operativa/administrarOrdenes/TablaOrdenes';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function AdministrarAverias() {\r\n  return (\r\n    <div>\r\n      <TituloContent titulo=\"Administrar Ordenes\" subtitulo=\"Operativa\"/>\r\n        <Contenedor>\r\n          <Tabs style={{paddingLeft: '1rem'}} animated={false}>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CloudUploadOutlined />\r\n                  Actualizar Ordenes\r\n                </span>\r\n              }\r\n              key=\"1\"\r\n            >\r\n              <ActualizarOrdenes\r\n                tipoOrden={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <CheckCircleOutlined/>\r\n                  Lista de Ordenes\r\n                </span>\r\n              }\r\n              key=\"2\"\r\n            >\r\n              <TablaOrdenes \r\n                tipo={averias.TIPO}\r\n              />\r\n            </TabPane>\r\n            <TabPane\r\n              tab={\r\n                <span>\r\n                  <ScheduleOutlined/>\r\n                  Aprobar Ordenes\r\n                </span>\r\n              }\r\n              key=\"3\"\r\n            >\r\n\r\n            </TabPane>\r\n          </Tabs>\r\n        </Contenedor>\r\n    </div>\r\n  )\r\n}\r\n","import { rutas as lisaRutas, permisos } from '../../constants/listaRutas';\r\nimport AdministrarAverias from \"../../views/Operativa/Administrar/AdministrarAverias\";\r\nimport AdministrarAltas from \"../../views/Operativa/Administrar/AdministrarAltas\";\r\nimport AdministrarBasicas from \"../../views/Operativa/Administrar/AdministrarBasicas\";\r\nimport AdministrarSpeedy from \"../../views/Operativa/Administrar/AdministrarSpeedy\";\r\n\r\nconst rutas = [\r\n  {\r\n    path: lisaRutas.adminAveriasHfc,\r\n    exact: true,\r\n    component: AdministrarAverias,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminAltasHfc,\r\n    exact: true,\r\n    component: AdministrarAltas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminBasicas,\r\n    exact: true,\r\n    component: AdministrarBasicas,\r\n    nivel: permisos.administrarOrdenes\r\n  },\r\n  {\r\n    path: lisaRutas.adminspeedy,\r\n    exact: true,\r\n    component: AdministrarSpeedy,\r\n    nivel: permisos.administrarOrdenes\r\n  }\r\n]\r\n\r\nexport default rutas","import React from 'react'\r\n\r\nexport default function AdministrarAltas() {\r\n  return (\r\n    <div>\r\n      administrar altas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarBasicas() {\r\n  return (\r\n    <div>\r\n      administrar basicas\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AdministrarSpeedy() {\r\n  return (\r\n    <div>\r\n      administrar speedy\r\n    </div>\r\n  )\r\n}\r\n","import listaRutas from './listaRutas';\r\nimport administrarOrdenes from './administrarOrdenes';\r\n\r\nconst rutasOperativa = [\r\n  ...listaRutas,\r\n  ...administrarOrdenes\r\n];\r\n\r\nexport default rutasOperativa;","import dashboard from './routes/dashboard';\r\nimport gestionPersonal from './routes/gestionPersonal';\r\nimport operativa from './routes/operativa';\r\n\r\nconst arregloRutas = [\r\n  ...dashboard,\r\n  ...gestionPersonal,\r\n  ...operativa\r\n]\r\n\r\nexport default arregloRutas;","import React from 'react';\r\nimport { Button, Result } from 'antd';\r\n\r\nimport Contenedor from '../common/Contenedor';\r\nimport { rutas } from '../../constants/listaRutas';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Contenedor>\r\n       <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle=\"Lo sentimos, no tienes autorizacion para entrar a esta página.\"\r\n        extra={<Button type=\"primary\" onClick={() => window.location.pathname = rutas.indicadoresGpon}>Inicio</Button>}\r\n      />\r\n    </Contenedor>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport variables from \"../../constants/config\";\r\nimport { AuthToken } from \"../../services/authToken\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction PrivateRoute({ component: Component, nivel=[], ...rest }) {\r\n  const [usuario, setUsuario] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setUsuario(new AuthToken(Cookie.get(variables.TOKEN_STORAGE_KEY)).decodedToken);\r\n  },[nivel])\r\n\r\n  if(nivel.includes(0)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else if (usuario && nivel.includes(usuario.cargo)) {\r\n    return (<Route {...rest} render={props => (<Component {...props}/>)}/>)\r\n  } else {\r\n    return (<Route {...rest} render={() => (<NotFound/>)}/>)\r\n  }\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.func,\r\n  nivel: PropTypes.array\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'moment/locale/es-mx';\r\nimport es_ES from 'antd/es/locale/es_ES';\r\n\r\nimport './App.css';\r\nimport { rutas } from './constants/listaRutas';\r\nimport Index from './views/Index';\r\nimport Login from './views/Login';\r\nimport Layout from './components/layout';\r\nimport routes from './routes';\r\nimport PrivateRoute from './components/layout/PrivateRoute';\r\n\r\nexport default function App() {\r\n  return (\r\n    <ConfigProvider locale={es_ES}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path={rutas.login} component={Login}/>\r\n          <Layout>\r\n          {routes.map((route, index) => (\r\n              <PrivateRoute \r\n                key={index}\r\n                path={route.path}\r\n                exact={route.exact}\r\n                nivel={route.nivel}\r\n                component={\r\n                  props => (<route.component {...props}/>)\r\n                }\r\n              />\r\n            )\r\n          )}\r\n          </Layout>\r\n        </Switch>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  console.log(process.env.NODE_ENV === 'production');\r\n  console.log('serviceWorker' in navigator);\r\n  console.log(isLocalhost);\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    console.log(publicUrl, '--', window.location.origin,publicUrl.origin !== window.location.origin );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />\r\n  //</React.StrictMode>\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals(console.log);\r\n"],"sourceRoot":""}